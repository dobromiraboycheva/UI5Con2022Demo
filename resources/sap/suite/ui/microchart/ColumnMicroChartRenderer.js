/*!
 * SAPUI5
 * (c) Copyright 2009-2022 SAP SE. All rights reserved.
 */
sap.ui.define(["./library","sap/suite/ui/microchart/MicroChartRenderUtils","sap/ui/core/theming/Parameters","sap/m/library","sap/ui/thirdparty/jquery"],function(e,t,a,l,i){"use strict";var s=l.ValueColor;var o=l.ValueCSSColor;var r="sapUiChartNeutral",n="sapUiChartCategoryAxisLabelFontColor";var C={apiVersion:2};C.render=function(e,t){if(!t._bThemeApplied){return}var a=t.getAllowColumnLabels();var l=t.getColumns().some(function(e){return e.getLabel()});if(t._hasData()){e.openStart("div",t);this._writeMainProperties(e,t);if(a){e.class("sapSuiteClMCColumnLabels")}if(!l){e.class("sapSuiteClMCNoBottomColumnLabels")}e.openEnd();var s=t.getLeftTopLabel()&&t.getLeftTopLabel().getLabel()!==""&&t.getShowTopLabels();var o=t.getRightTopLabel()&&t.getRightTopLabel().getLabel()!==""&&t.getShowTopLabels();var n=t.getLeftBottomLabel()&&t.getLeftBottomLabel().getLabel()!==""&&t.getShowBottomLabels();var C=t.getRightBottomLabel()&&t.getRightBottomLabel().getLabel()!==""&&t.getShowBottomLabels();e.openStart("div");e.class("sapSuiteClMCVerticalAlignmentContainer");e.openEnd();if(s||o){e.openStart("div",t.getId()+"-top-lbls");e.class("sapSuiteClMCLabels");e.class("sapSuiteClMCPositionTop");e.openEnd();var p=s^o;if(s){this._writeEdgeLabel(e,t,t.getLeftTopLabel(),"-left-top-lbl","sapSuiteClMCPositionLeft",p)}if(o){this._writeEdgeLabel(e,t,t.getRightTopLabel(),"-right-top-lbl","sapSuiteClMCPositionRight",p)}e.close("div")}var u=t.getColumns();var d=u.length;var b,g;var c,L,S;if(a){for(S=0;S<d;S++){c=u[S];L=c.getValue();if(L&&L>=0){b=true}else if(L&&L<0){g=true}if(b&&g){break}}}if(a&&b){e.openStart("div");e.class("sapSuiteClMCColumnLabelDivider");e.openEnd();e.close("div")}e.openStart("div",t.getId()+"-bars");e.class("sapSuiteClMCBars");e.openEnd();for(S=0;S<d;S++){c=u[S];L=c.getValue();e.openStart("div",c);e.class("sapSuiteClMCBar");if(c.hasListeners("press")){e.attr("tabindex","0");e.attr("role","presentation");var v=t._getBarAltText(c);e.attr("title",v);e.attr("aria-label",v);e.class("sapSuiteUiMicroChartPointer")}e.openEnd();if(a&&i.isNumeric(L)&&L>=0){this._writeColumnValueLabel(e,c,"sapSuiteClMCLabelColumnTop")}e.openStart("div");e.class("sapSuiteClMCInnerBar");this._setHexColor(e,c.getColor(),r,"background-color");e.openEnd();e.close("div");if(a&&i.isNumeric(L)&&L<0){this._writeColumnValueLabel(e,c,"sapSuiteClMCLabelColumnBottom")}e.close("div")}e.close("div");if(a&&g){e.openStart("div");e.class("sapSuiteClMCColumnLabelDivider");e.openEnd();e.close("div")}if(n||C){e.openStart("div",t.getId()+"-btm-lbls");e.class("sapSuiteClMCLabels");e.class("sapSuiteClMCPositionBtm");e.openEnd();var h=n^C;if(n){this._writeEdgeLabel(e,t,t.getLeftBottomLabel(),"-left-btm-lbl","sapSuiteClMCPositionLeft",h)}if(C){this._writeEdgeLabel(e,t,t.getRightBottomLabel(),"-right-btm-lbl","sapSuiteClMCPositionRight",h)}e.close("div")}if(a&&l){e.openStart("div");e.class("sapSuiteClMCLabels");e.class("sapSuiteClMCBottomColumnLabels");e.openEnd();u.forEach(function(t){this._writeColumnLabel(e,t)},this);e.close("div")}e.openStart("div",t.getId()+"-hidden");e.attr("aria-hidden","true");e.attr("tabindex","-1");e.openEnd();e.close("div");e.close("div");e.close("div")}else{this._renderNoData(e,t)}};C._writeMainProperties=function(e,t){var a=t.hasListeners("press");this._renderActiveProperties(e,t);var l=t.getTooltip_AsString(a);e.attr("role","figure");if(t.getAriaLabelledBy().length){e.accessibilityState(t)}else{e.attr("aria-label",l)}e.class("sapSuiteClMC");e.class("sapSuiteClMCSize"+t.getSize());e.style("width",t.getWidth());e.style("height",t.getHeight())};C._getHexColor=function(e,t){e=o.isValid(e)?e:t;return a.get(e)||e};C._setHexColor=function(e,t,a,l){s[t]?e.class("sapSuiteClMCSemanticColor"+t):e.style(l,this._getHexColor(t,a))};C._writeEdgeLabel=function(e,t,a,l,i,s){e.openStart("div",t.getId()+l);e.class("sapSuiteClMCLabel");e.class("sapSuiteClMCEdgeLabel");e.class(i);this._setHexColor(e,a.getColor(),n,"color");if(s){e.class("sapSuiteClMCWideBtmLbl")}e.openEnd();e.text(a.getLabel());e.close("div")};C._writeColumnValueLabel=function(e,t,a){var l=t.getDisplayValue()?t.getDisplayValue():t.getValue();e.openStart("div");e.class("sapSuiteClMCLabel");e.class("sapSuiteClMCLabelColumn");e.class(a);this._setHexColor(e,t.getColor(),r,"background-color");e.openEnd();e.text(l);e.close("div")};C._writeColumnLabel=function(e,t){var a=t.getLabel();e.openStart("div");e.class("sapSuiteClMCLabel");e.class("sapSuiteClMCLabelColumn");e.class("sapSuiteClMCBottomColumnLabel");e.openEnd();e.text(a);e.close("div")};t.extendMicroChartRenderer(C);return C},true);