/*!
 * OpenUI5
 * (c) Copyright 2009-2022 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.define(["sap/ui/thirdparty/jquery","./library","sap/ui/core/Control","./ProgressIndicatorRenderer","sap/ui/core/library"],function(e,t,i,a,r){"use strict";var s=r.BarColor;var o=i.extend("sap.ui.commons.ProgressIndicator",{metadata:{library:"sap.ui.commons",deprecated:true,properties:{enabled:{type:"boolean",group:"Behavior",defaultValue:true},barColor:{type:"sap.ui.core.BarColor",group:"Appearance",defaultValue:s.NEUTRAL},displayValue:{type:"string",group:"Appearance",defaultValue:"0%"},percentValue:{type:"int",group:"Data",defaultValue:0},showValue:{type:"boolean",group:"Appearance",defaultValue:true},width:{type:"sap.ui.core.CSSSize",group:"Dimension",defaultValue:"100%"}}}});o.prototype.onclick=function(e){this.focus()};o.prototype.onselectstart=function(e){return false};o.prototype.setEndBar=function(){var t=this.getPercentValue();var i;var a=this.getBarColor();var r;this.oBar=this.getDomRef("bar");this.oEnd=this.getDomRef("end");this.oBox=this.getDomRef("box");e(this.oEnd).removeClass("sapUiProgIndEndHidden");e(this.oEnd).addClass(this._getProgIndTypeClass(a));if(t>100){i=1e4/t+"%"}else{i="100%"}if(t>100){r=(t-100)*20}else{r=(100-t)*20}e(this.oBox).animate({width:i},0,"linear");if(this.bRtl){e(this.oEnd).animate({right:i},r,"linear")}else{e(this.oEnd).animate({left:i},r,"linear")}e(this.oBar).animate({width:t+"%"},r,"linear");if(!this.oThis){this.oThis=this.$()}this.oThis.attr("aria-valuenow",t+"%")};o.prototype.setEndBarGoesBack=function(t){var i=this.getPercentValue();var a;var r=this.getBarColor();var s;this.oBar=this.getDomRef("bar");this.oEnd=this.getDomRef("end");this.oBox=this.getDomRef("box");if(t>100){a=1e4/t+"%"}else{a="100%"}e(this.oEnd).removeClass(this._getProgIndTypeClass(r));e(this.oEnd).addClass("sapUiProgIndEndHidden");if(i>100){s=(i-100)*20}else{s=(100-i)*20}e(this.oBox).animate({width:a},0,"linear");if(this.bRtl){e(this.oEnd).animate({right:a},s,"linear")}else{e(this.oEnd).animate({left:a},s,"linear")}e(this.oBar).animate({width:i+"%"},s,"linear");if(!this.oThis){this.oThis=this.$()}this.oThis.attr("aria-valuenow",i+"%")};o.prototype.setPercentValue=function(t){var i=this.getPercentValue();var a;this.oBar=this.getDomRef("bar");this.oEnd=this.getDomRef("end");this.oBox=this.getDomRef("box");var r=this;var s;if(t<0){t=0}if(t>100){a=1e4/t+"%"}else{a="100%"}if(!this.oBar){s=t*20;this.setProperty("percentValue",t,true);e(this.oBar).animate({width:t+"%"},s,"linear");return this}if(t>100&&i<=100){s=(100-i)*20;this.setProperty("percentValue",t,true);e(this.oBar).animate({width:"100%"},s,"linear",function(){r.setEndBar()})}else if(t<=100&&i>100){s=(i-100)*20;this.setProperty("percentValue",t,true);e(this.oBar).animate({width:"100%"},s,"linear",function(){r.setEndBarGoesBack()})}else if(t>100&&i>100){if(t>i){s=(t-i)*20}else{s=(i-t)*20}a=1e4/t+"%";this.setProperty("percentValue",t,true);e(this.oBox).animate({width:a},0,"linear");if(this.bRtl){e(this.oEnd).animate({right:a},s,"linear")}else{e(this.oEnd).animate({left:a},s,"linear")}e(this.oBar).animate({width:t+"%"},s,"linear",function(){});if(!this.oThis){this.oThis=this.$()}this.oThis.attr("aria-valuenow",t+"%")}else{if(t>i){s=(t-i)*20}else{s=(i-t)*20}this.setProperty("percentValue",t,true);e(this.oBar).animate({width:t+"%"},s,"linear");if(!this.oThis){this.oThis=this.$()}this.oThis.attr("aria-valuenow",t+"%")}return this};o.prototype._getProgIndTypeClass=function(e){switch(e){case"POSITIVE":return"sapUiProgIndPosEnd";case"NEGATIVE":return"sapUiProgIndNegEnd";case"CRITICAL":return"sapUiProgIndCritEnd";case"NEUTRAL":return"sapUiProgIndEnd";default:return"sapUiProgIndEnd"}};o.prototype.getAccessibilityInfo=function(){var e=sap.ui.getCore().getLibraryResourceBundle("sap.ui.commons");return{role:"progressbar",type:e.getText("ACC_CTR_TYPE_PROGRESS"),description:e.getText("ACC_CTR_STATE_PROGRESS",[this.getPercentValue()]),focusable:this.getEnabled(),enabled:this.getEnabled()}};return o});