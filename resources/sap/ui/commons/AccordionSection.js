/*!
 * OpenUI5
 * (c) Copyright 2009-2022 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.define(["./library","sap/ui/core/Element"],function(t,e){"use strict";var i=e.extend("sap.ui.commons.AccordionSection",{metadata:{library:"sap.ui.commons",deprecated:true,properties:{maxHeight:{type:"sap.ui.core.CSSSize",group:"Dimension",defaultValue:null},enabled:{type:"boolean",group:"Behavior",defaultValue:true},collapsed:{type:"boolean",group:"Behavior",defaultValue:false},title:{type:"string",group:"Misc",defaultValue:null}},defaultAggregation:"content",aggregations:{content:{type:"sap.ui.core.Control",multiple:true,singularName:"content"}},events:{scroll:{parameters:{left:{type:"int"},top:{type:"int"}}}}}});i.prototype.init=function(){this.oScrollDomRef=null;this.data("sap-ui-fastnavgroup","true",true)};i.prototype.focusFirstControl=function(){var t=this.getContent();if(t[0]){t[0].focus()}};i.prototype.focus=function(){var t=this.getDomRef("hdr");t.focus()};i.prototype.onThemeChanged=function(){var t=this.getDomRef("hdrL");if(t){t.style.width="auto";this.onAfterRendering()}};i.prototype.onAfterRendering=function(){this.oScrollDomRef=this.getDomRef("cont");var t=this.oScrollDomRef,e=this.getDomRef(),o=this.getParent().getDomRef(),s=this.getDomRef("lbl");if(!i._isSizeSet(this.getParent().getWidth())&&i._isSizeSet(this.getMaxHeight())){if(t){var r=t.offsetTop;var n=e.offsetHeight-r;t.style.height=n+"px";var a=t.offsetHeight;if(a>n){t.style.height=n-(a-n)+"px"}}}s.style.width=o.offsetWidth-30+"px";var l=this.__scrollproxy__;if(!l){l=this.__scrollproxy__=typeof this.onscroll==="function"?this.onscroll.bind(this):undefined}this.$("cont").on("scroll",l)};i.prototype.onBeforeRendering=function(){var t=this.__scrollproxy__;if(t){this.$("cont").off("scroll",t)}};i.prototype.setEnabled=function(t){this.setProperty("enabled",t,true);var e=this.getDomRef();if(e){if(t){this.$().removeClass("sapUiAcdSectionDis")}else{this.$().addClass("sapUiAcdSectionDis")}}return this};i.prototype._setCollapsed=function(t){this.setProperty("collapsed",t,true);this._setCollapsedState(t)};i.prototype.setCollapsed=function(t){if(this.getParent()){if(!t){this.getParent().openSection(this.getId())}else{this.getParent().closeSection(this.getId())}}else{this._setCollapsed(t)}return this};i.prototype._setCollapsedState=function(t){var e=this.getDomRef("tb"),i=this.getDomRef("cont"),o=sap.ui.getCore().getConfiguration().getAccessibility();if(this.getDomRef()){if(t){if(!this.getParent().getWidth()){this.getDomRef().style.width=this.getDomRef().offsetWidth+"px"}this.$().addClass("sapUiAcdSectionColl");if(e){e.style.display="none"}if(i){i.style.display="none"}if(o){i.setAttribute("aria-expanded","false");i.setAttribute("aria-hidden","true")}this.invalidate()}else{if(!i){this.invalidate()}else{this.$().removeClass("sapUiAcdSectionColl");if(e){e.style.display="block"}i.style.display="block";if(o){i.setAttribute("aria-expanded","true")}if(this.getMaxHeight()){this.getDomRef().style.height=this.getMaxHeight()}}}}};i._isSizeSet=function(t){return t&&!(t==="auto")&&!(t==="inherit")};i.prototype._handleTrigger=function(t){if(t.target.id===this.getId()+"-minL"||t.target.id===this.getId()+"-minR"){var e=!this.getProperty("collapsed");this._setCollapsed(e);t.preventDefault();t.stopPropagation()}};return i});