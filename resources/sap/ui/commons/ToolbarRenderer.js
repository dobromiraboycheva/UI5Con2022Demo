/*!
 * OpenUI5
 * (c) Copyright 2009-2022 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.define(["sap/ui/thirdparty/jquery","sap/base/Log","sap/base/assert","./library","./ToolbarSeparator"],function(e,t,r,i,a){"use strict";var o=i.ToolbarSeparatorDesign;var s={};s.render=function(e,t){var i=sap.ui.getCore().getLibraryResourceBundle("sap.ui.commons");r(t&&t.isA("sap.ui.commons.Toolbar"),"ToolbarRenderer.render: oToolbar must be a toolbar");e.write("<div role='toolbar' tabindex='0'");e.writeControlData(t);if(t.getWidth()){e.addStyle("width",t.getWidth())}var o=t.getTooltip_AsString();if(o){e.writeAttributeEscaped("title",o)}e.addClass("sapUiTb");e.addClass("sapUiTbDesign"+t.getDesign());if(t.getStandalone()){e.addClass("sapUiTbStandalone")}e.writeStyles();e.writeClasses();e.write(">");var n=t.getRightItems();var l=n.length;var d=l>0;var p="<div class='sapUiTbInner' id='"+t.getId()+"-inner"+"'>";if(d){e.write("<div class='sapUiTbCont sapUiTbContLeft'>"+p)}else{e.write("<div class='sapUiTbCont'>"+p)}var u=t.getItems();var f=u.length;for(var b=0;b<f;b++){var g=u[b];if(g){r(g.getMetadata().isInstanceOf("sap.ui.commons.ToolbarItem"),"ToolbarRenderer.render: oToolbarItem must be a ToolbarItem");if(g instanceof a){s.renderSeparator(e,g)}else{e.renderControl(g)}}}e.write("<div id='");e.write(t.getId());e.write("-mn' class='sapUiTbOB' role='button' aria-haspopup='true' title='"+i.getText("TOOLBAR_OVERFLOW")+"' tabindex='-1'></div></div></div>");if(d){e.write("<div class='sapUiTbInnerRight' >");for(var b=0;b<l;b++){var g=n[b];if(g){r(g.getMetadata().isInstanceOf("sap.ui.commons.ToolbarItem"),"ToolbarRenderer.render: oToolbarItem must be a ToolbarItem");if(g instanceof a){s.renderSeparator(e,g)}else{e.renderControl(g)}}}e.write("</div>")}e.write("</div>")};s.renderSeparator=function(e,t){if(t.getDisplayVisualSeparator()){e.write("<span ");e.writeElementData(t);if(t.getDesign()===o.FullHeight){e.write(" class='sapUiTbSeparator sapUiTbSepFullHeight' role='separator'></span>")}else{e.write(" class='sapUiTbSeparator' role='separator'></span>")}}else{e.write("<span ");e.writeElementData(t);e.write(" class='sapUiTbSpacer' role='separator'></span>")}};s.fillOverflowPopup=function(t){var r=t.getDomRef("pu");if(!r){r=s.initOverflowPopup(t).firstChild}var i=e(r.parentNode),a=t.getVisibleItemInfo(true).count,o=t.getDomRef().firstChild.firstChild,n=0,l=o.firstChild,d=t.getId()+"-mn",p=i.width(),u=0;while(l){var f=l.nextSibling;if(n>=a){if(l.id===d){break}u=u<e(l).outerWidth(true)?e(l).outerWidth(true):u;r.appendChild(l)}l=f;n++}if(u>p){var b=12;i.width(u+b)}};s.initOverflowPopup=function(e){var t=sap.ui.getCore().getStaticAreaRef();var r=document.createElement("div");r.className="sapUiTbDD sapUiTbDesignFlat";r.innerHTML="<div id='"+e.getId()+"-pu' data-sap-ui="+e.getId()+" tabindex='0' role='menu'></div>";t.appendChild(r);return r};s.emptyOverflowPopup=function(r,i){var a=r.getDomRef("pu"),o=r.getDomRef(),s=null,n="",l=[];if(i===undefined){i=true}if(a){if(i&&o){s=o.firstChild.firstChild;n="insertBefore";l=[r.getDomRef("mn")]}else if(!i){s=a;n="removeChild"}else{t.error("The renderer 'sap.ui.commons.ToolbarRenderer' cannot empty the toolbar overflow popup.");return}while(a.hasChildNodes()){var d=[a.firstChild].concat(l);s[n].apply(s,d)}if(o&&r.sOriginalStylePropertyWidth){e(o).width(r.sOriginalStylePropertyWidth);r.sOriginalStylePropertyWidth=null}}};s.getPopupArea=function(e){return e.getDomRef("pu")};s.setActive=function(e){e.$("mn").addClass("sapUiTbOBAct")};s.unsetActive=function(e){e.$("mn").removeClass("sapUiTbOBAct")};return s},true);