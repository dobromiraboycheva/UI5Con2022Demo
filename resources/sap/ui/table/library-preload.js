//@ui5-bundle sap/ui/table/library-preload.js
/*!
 * OpenUI5
 * (c) Copyright 2009-2022 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/table/AnalyticalColumn",["./Column","./library","sap/ui/core/Element","sap/ui/model/type/Boolean","sap/ui/model/type/DateTime","sap/ui/model/type/Float","sap/ui/model/type/Integer","sap/ui/model/type/Time","./utils/TableUtils","./AnalyticalColumnMenu"],function(e,t,r,i,a,n,o,p,l,s){"use strict";function u(e){return l.isA(e,"sap.ui.table.AnalyticalTable")}var g=e.extend("sap.ui.table.AnalyticalColumn",{metadata:{library:"sap.ui.table",properties:{leadingProperty:{type:"string",group:"Misc",defaultValue:null},summed:{type:"boolean",group:"Misc",defaultValue:false},inResult:{type:"boolean",group:"Misc",defaultValue:false},showIfGrouped:{type:"boolean",group:"Appearance",defaultValue:false},groupHeaderFormatter:{type:"any",group:"Behavior",defaultValue:null}}}});g._DEFAULT_FILTERTYPES={Time:new p({UTC:true}),DateTime:new a({UTC:true}),Float:new n,Integer:new o,Boolean:new i};g.prototype._createMenu=function(){return new s(this.getId()+"-menu")};g.prototype.setGrouped=function(e){var t=this.getParent();if(u(t)){if(e){t._addGroupedColumn(this.getId())}else{t._removeGroupedColumn(this.getId())}}var r=this.setProperty("grouped",e);this._updateColumns();return r};g.prototype.setSummed=function(e){var t=this.setProperty("summed",e,true);this._updateTableAnalyticalInfo();return t};g.prototype.setVisible=function(t){e.prototype.setVisible.call(this,t);this._updateColumns();return this};g.prototype.getLabel=function(){var e=this.getAggregation("label");if(!e){if(!this._oBindingLabel){var r=this.getParent();if(u(r)){var i=r.getBinding();if(i){this._oBindingLabel=t.TableHelper.createLabel();this.addDependent(this._oBindingLabel);l.Binding.metadataLoaded(r).then(function(){this._oBindingLabel.setText(i.getPropertyLabel(this.getLeadingProperty()))}.bind(this))}}}e=this._oBindingLabel}return e};g.prototype.getFilterProperty=function(){var e=this.getProperty("filterProperty");if(!e){var t=this.getParent();if(u(t)){var r=t.getBinding();var i=this.getLeadingProperty();if(r&&r.getFilterablePropertyNames().indexOf(i)>-1){e=i}}}return e};g.prototype.getSortProperty=function(){var e=this.getProperty("sortProperty");if(!e){var t=this.getParent();if(u(t)){var r=t.getBinding();var i=this.getLeadingProperty();if(r&&r.getSortablePropertyNames().indexOf(i)>-1){e=i}}}return e};g.prototype.getFilterType=function(){var e=this.getProperty("filterType");if(!e){var t=this.getParent();if(u(t)){var r=t.getBinding();var i=this.getLeadingProperty(),a=r&&r.getProperty(i);if(a){switch(a.type){case"Edm.Time":e=g._DEFAULT_FILTERTYPES["Time"];break;case"Edm.DateTime":case"Edm.DateTimeOffset":e=g._DEFAULT_FILTERTYPES["DateTime"];break;case"Edm.Single":case"Edm.Double":case"Edm.Decimal":e=g._DEFAULT_FILTERTYPES["Float"];break;case"Edm.SByte":case"Edm.Int16":case"Edm.Int32":case"Edm.Int64":e=g._DEFAULT_FILTERTYPES["Integer"];break;case"Edm.Boolean":e=g._DEFAULT_FILTERTYPES["Boolean"];break}}}}return e};g.prototype._updateColumns=function(e,t){var r=this.getParent();if(u(r)){r._updateColumns(e,t)}};g.prototype._updateTableAnalyticalInfo=function(e){var t=this.getParent();if(t&&u(t)&&!t._bSuspendUpdateAnalyticalInfo){t.updateAnalyticalInfo(e)}};g.prototype._updateTableColumnDetails=function(){var e=this.getParent();if(e&&u(e)&&!e._bSuspendUpdateAnalyticalInfo){e._updateTableColumnDetails()}};g.prototype.shouldRender=function(){if(!this.getVisible()||!this.getTemplate()){return false}return(!this.getGrouped()||this._bLastGroupAndGrouped||this.getShowIfGrouped())&&(!this._bDependendGrouped||this._bLastGroupAndGrouped)};g.prototype.getTooltip_AsString=function(){if(!this.getTooltip()){return this._getDefaultTooltip()}return r.prototype.getTooltip_AsString.apply(this)};g.prototype.getTooltip_Text=function(){var e=r.prototype.getTooltip_Text.apply(this);if(!this.getTooltip()||!e){e=this._getDefaultTooltip()}return e};g.prototype._getDefaultTooltip=function(){var e=this.getParent();if(u(e)){var t=e.getBinding();if(t&&this.getLeadingProperty()){return t.getPropertyQuickInfo(this.getLeadingProperty())}}return null};g.prototype._menuHasItems=function(){var t=function(){var e=this.getParent();var t=e.getBinding();var r=t&&t.getAnalyticalQueryResult();return e&&r&&r.findMeasureByPropertyName(this.getLeadingProperty())}.bind(this);return e.prototype._menuHasItems.apply(this)||t()};g.prototype.isFilterableByMenu=function(){var e=this.getFilterProperty();if(!e||!this.getShowFilterMenuEntry()){return false}var t=this.getParent();if(u(t)){var r=t.getBinding();if(r){if(r.getFilterablePropertyNames().indexOf(e)>-1&&r.getProperty(e)){return true}}}return false};g.prototype.isGroupableByMenu=function(){var e=this.getParent();if(u(e)){var t=e.getBinding();if(t){var r=t.getAnalyticalQueryResult();if(r&&r.findDimensionByPropertyName(this.getLeadingProperty())&&t.getSortablePropertyNames().indexOf(this.getLeadingProperty())>-1&&t.getFilterablePropertyNames().indexOf(this.getLeadingProperty())>-1){return true}}}return false};g.prototype._setCellContentVisibilitySettings=function(){};return g});
/*!
 * OpenUI5
 * (c) Copyright 2009-2022 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/table/AnalyticalColumnMenu",["./ColumnMenu","sap/ui/unified/MenuRenderer","./library","sap/ui/thirdparty/jquery"],function(e,t,o,u){"use strict";var n=o.GroupEventType;var r=e.extend("sap.ui.table.AnalyticalColumnMenu",{metadata:{library:"sap.ui.table"},renderer:t});r.prototype._addMenuItems=function(){e.prototype._addMenuItems.apply(this);if(this._oColumn){this._addSumMenuItem()}};r.prototype._addGroupMenuItem=function(){var e=this._oColumn,t=this._oTable;if(e.isGroupableByMenu()){this._oGroupIcon=this._createMenuItem("group","TBL_GROUP",e.getGrouped()?"accept":null,function(o){var u=o.getSource();var r=e.getGrouped();var a=r?n.group:n.ungroup;e.setGrouped(!r);t.fireGroup({column:e,groupedColumns:t._aGroupedColumns,type:a});u.setIcon(!r?"sap-icon://accept":null)});this.addItem(this._oGroupIcon)}};r.prototype._addSumMenuItem=function(){var e=this._oColumn,t=this._oTable,o=t.getBinding(),n=o&&o.getAnalyticalQueryResult();if(t&&n&&n.findMeasureByPropertyName(e.getLeadingProperty())){this._oSumItem=this._createMenuItem("total","TBL_TOTAL",e.getSummed()?"accept":null,u.proxy(function(t){var o=t.getSource(),u=e.getSummed();e.setSummed(!u);o.setIcon(!u?"sap-icon://accept":null)},this));this.addItem(this._oSumItem)}};r.prototype.open=function(){e.prototype.open.apply(this,arguments);var t=this._oColumn;this._oSumItem&&this._oSumItem.setIcon(t.getSummed()?"sap-icon://accept":null);this._oGroupIcon&&this._oGroupIcon.setIcon(t.getGrouped()?"sap-icon://accept":null)};return r});
/*!
 * OpenUI5
 * (c) Copyright 2009-2022 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/table/AnalyticalColumnMenuRenderer",["sap/ui/table/AnalyticalColumnMenu"],function(e){"use strict";return e.getMetadata().getRenderer()},true);
/*!
 * OpenUI5
 * (c) Copyright 2009-2022 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/table/AnalyticalTable",["./AnalyticalColumn","./Column","./Table","./TreeTable","./TableRenderer","./library","sap/ui/model/analytics/ODataModelAdapter","sap/ui/model/Sorter","sap/ui/unified/MenuItem","./utils/TableUtils","./plugins/BindingSelection","sap/base/Log","sap/base/assert","sap/ui/thirdparty/jquery"],function(e,t,o,n,r,i,a,s,u,p,l,d,m,f){"use strict";var g=i.GroupEventType;var c=i.SortOrder;var h=i.TreeAutoExpandMode;var y=p.createWeakMapFacade();var _=o.extend("sap.ui.table.AnalyticalTable",{metadata:{library:"sap.ui.table",properties:{sumOnTop:{type:"boolean",group:"Appearance",defaultValue:false,deprecated:true},numberOfExpandedLevels:{type:"int",group:"Misc",defaultValue:0,deprecated:true},autoExpandMode:{type:"string",group:"Misc",defaultValue:"Bundled",deprecated:true},columnVisibilityMenuSorter:{type:"any",group:"Appearance",defaultValue:null},collapseRecursive:{type:"boolean",defaultValue:true,deprecated:true},dirty:{type:"boolean",group:"Appearance",defaultValue:null,deprecated:true}},designtime:"sap/ui/table/designtime/AnalyticalTable.designtime"},renderer:r});_.prototype._getFixedBottomRowContexts=function(){var e=this.getBinding();return e?[e.getGrandTotalNode()]:[]};_.prototype._getContexts=n.prototype._getContexts;_.prototype._getRowContexts=n.prototype._getRowContexts;_.prototype.init=function(){o.prototype.init.apply(this,arguments);this.addStyleClass("sapUiAnalyticalTable");this.setShowColumnVisibilityMenu(true);this.setEnableColumnFreeze(true);this.setEnableCellFilter(true);this.setProperty("rowCountConstraints",{fixedTop:false,fixedBottom:false});this._aGroupedColumns=[];this._bSuspendUpdateAnalyticalInfo=false;this._mGroupHeaderMenuItems=null;p.Grouping.setToDefaultGroupMode(this);p.Hook.register(this,p.Hook.Keys.Row.UpdateState,v,this);p.Hook.register(this,p.Hook.Keys.Table.OpenMenu,I,this);p.Hook.register(this,p.Hook.Keys.Row.Expand,G,this);p.Hook.register(this,p.Hook.Keys.Row.Collapse,C,this)};_.prototype.exit=function(){o.prototype.exit.apply(this,arguments);this._cleanupGroupHeaderMenuItems()};_.prototype._adaptLocalization=function(e,t){return o.prototype._adaptLocalization.apply(this,arguments).then(function(){if(t){this._cleanupGroupHeaderMenuItems()}}.bind(this))};_.prototype.setFixedRowCount=function(){d.error("The property fixedRowCount is not supported by control sap.ui.table.AnalyticalTable!");return this};_.prototype.setFixedBottomRowCount=function(){d.error("The property fixedBottomRowCount is managed by control sap.ui.table.AnalyticalTable!");return this};_.prototype.setDirty=function(e){d.error("The property dirty of control sap.ui.table.AnalyticalTable is deprecated. Please use showOverlay instead.");this.setProperty("dirty",e,true);this.setShowOverlay(this.getDirty());return this};_.prototype.setEnableGrouping=function(){d.error("The property enableGrouping is not supported by the sap.ui.table.AnalyticalTable control");return this};_.prototype.setGroupBy=function(){d.warning("The groupBy association is not supported by the sap.ui.table.AnalyticalTable control");return this};_.prototype.getModel=function(e){var t=o.prototype.getModel.apply(this,arguments);var n=this.getBindingInfo("rows");if(t&&n&&n.model==e){a.apply(t)}return t};_.prototype.updateRows=function(e){o.prototype.updateRows.apply(this,arguments);if(e!=="sort"){this._invalidateColumnMenus()}};_.prototype._bindRows=function(e){delete y(this).bPendingRequest;this._applyAnalyticalBindingInfo(e);o.prototype._bindRows.call(this,e)};_.prototype._bindAggregation=function(e,t){if(e==="rows"){this._invalidateColumnMenus();this._applyODataModelAnalyticalAdapter(t.model);this._setFirstVisibleRowIndex(0,{onlySetProperty:true})}o.prototype._bindAggregation.call(this,e,t);if(e==="rows"){this._updateTotalRow(true);p.Binding.metadataLoaded(this).then(function(){this._updateColumns(true)}.bind(this))}};_.prototype._applyAnalyticalBindingInfo=function(e){var t=this.getColumns();for(var o=0,n=t.length;o<n;o++){if(t[o].getSorted()){e.sorter=e.sorter||[];e.sorter.push(new s(t[o].getSortProperty()||t[o].getLeadingProperty(),t[o].getSortOrder()===c.Descending))}}e.parameters=e.parameters||{};e.parameters.analyticalInfo=this._getColumnInformation();if(!e.parameters.hasOwnProperty("sumOnTop")){e.parameters.sumOnTop=this.getSumOnTop()}if(!e.parameters.hasOwnProperty("numberOfExpandedLevels")){e.parameters.numberOfExpandedLevels=this.getNumberOfExpandedLevels()}if(e.parameters.numberOfExpandedLevels>this._aGroupedColumns.length){e.parameters.numberOfExpandedLevels=0}if(!e.parameters.hasOwnProperty("autoExpandMode")){var r=this.getAutoExpandMode();if(r!=h.Bundled&&r!=h.Sequential){r=h.Bundled}e.parameters.autoExpandMode=r}};_.prototype._applyODataModelAnalyticalAdapter=function(e){if(e){a.apply(e)}};_.prototype._getColumnInformation=function(){var t=[],o=this.getColumns();for(var n=0;n<this._aGroupedColumns.length;n++){var r=sap.ui.getCore().byId(this._aGroupedColumns[n]);if(!r){continue}t.push({name:r.getLeadingProperty(),visible:r.getVisible(),grouped:r.getGrouped(),total:r.getSummed(),sorted:r.getSorted(),sortOrder:r.getSortOrder(),inResult:r.getInResult(),formatter:r.getGroupHeaderFormatter()})}for(var n=0;n<o.length;n++){var r=o[n];if(this._aGroupedColumns.indexOf(r.getId())>-1){continue}if(!(r instanceof e)){d.error("You have to use AnalyticalColumns for the Analytical table")}t.push({name:r.getLeadingProperty(),visible:r.getVisible(),grouped:r.getGrouped(),total:r.getSummed(),sorted:r.getSorted(),sortOrder:r.getSortOrder(),inResult:r.getInResult(),formatter:r.getGroupHeaderFormatter()})}return t};function v(e){var t=this.getBinding();var o=this.getBindingInfo("rows");var n=e.context;e.context=n.context;if(!e.context){return}if(t.nodeHasChildren(n)){e.type=e.Type.GroupHeader;e.expandable=true}else if(n.nodeState.sum){e.type=e.Type.Summary}e.level=n.level+(e.type===e.Type.Summary?1:0);e.expanded=n.nodeState.expanded;e.contentHidden=e.expanded&&!o.parameters.sumOnTop;e.title=e.type===e.Type.GroupHeader?t.getGroupName(n.context,n.level):""}function G(e){this.expand(e.getIndex())}function C(e){this.collapse(e.getIndex())}_.prototype.onRowsUpdated=function(e){o.prototype.onRowsUpdated.apply(this,arguments);var n=this.getRows();var r=this.getBinding();var i=this._getVisibleColumns()[0];for(var a=0;a<n.length;a++){var s=n[a];var u=s.getCells();var p=u.length;for(var l=0;l<p;l++){var d=t.ofCell(u[l]);var m=r?r.isMeasure(d.getLeadingProperty()):false;var g=f(u[l].$().closest("td"));var c=false;if(s.isSummary()&&m){c=!d.getSummed()}else if(s.isGroupHeader()&&d===i){c=!m}g.toggleClass("sapUiTableCellHidden",c)}}};function I(e,t){var o=e.isOfType(p.CELLTYPE.ANYCONTENTCELL)?this.getRows()[e.rowIndex]:null;if(!o||!o.isGroupHeader()){this._removeGroupHeaderMenuItems(t);return}this._iGroupedLevel=o.getLevel();this._addGroupHeaderMenuItems(t)}_.prototype._addGroupHeaderMenuItems=function(e){var t=this;function o(){var e=t._iGroupedLevel-1;if(t._aGroupedColumns[e]){var o=t.getColumns().filter(function(o){return t._aGroupedColumns[e]===o.getId()})[0];return{column:o,index:e}}else{return undefined}}if(!this._mGroupHeaderMenuItems){this._mGroupHeaderMenuItems={}}if(!this._mGroupHeaderMenuItems["visibility"]){this._mGroupHeaderMenuItems["visibility"]=new u({text:p.getResourceText("TBL_SHOW_COLUMN"),select:function(){var e=o();if(e){var n=e.column,r=n.getShowIfGrouped();n.setShowIfGrouped(!r);t.fireGroup({column:n,groupedColumns:n.getParent()._aGroupedColumns,type:!r?g.showGroupedColumn:g.hideGroupedColumn})}}})}e.addItem(this._mGroupHeaderMenuItems["visibility"]);if(!this._mGroupHeaderMenuItems["ungroup"]){this._mGroupHeaderMenuItems["ungroup"]=new u({text:p.getResourceText("TBL_UNGROUP"),select:function(){var e=o();if(e&&e.column){var n=e.column;n.setGrouped(false);t.fireGroup({column:n,groupedColumns:t._aGroupedColumns,type:g.ungroup})}}})}e.addItem(this._mGroupHeaderMenuItems["ungroup"]);if(!this._mGroupHeaderMenuItems["ungroupall"]){this._mGroupHeaderMenuItems["ungroupall"]=new u({text:p.getResourceText("TBL_UNGROUP_ALL"),select:function(){var e=t.getColumns();t.suspendUpdateAnalyticalInfo();for(var o=0;o<e.length;o++){e[o].setGrouped(false)}t.resumeUpdateAnalyticalInfo();t.fireGroup({column:undefined,groupedColumns:[],type:g.ungroupAll})}})}e.addItem(this._mGroupHeaderMenuItems["ungroupall"]);if(!this._mGroupHeaderMenuItems["moveup"]){this._mGroupHeaderMenuItems["moveup"]=new u({text:p.getResourceText("TBL_MOVE_UP"),select:function(){var e=o();if(e){var n=e.column;var r=t._aGroupedColumns.indexOf(n.getId());if(r>0){t._aGroupedColumns[r]=t._aGroupedColumns.splice(r-1,1,t._aGroupedColumns[r])[0];t.updateAnalyticalInfo();t.fireGroup({column:n,groupedColumns:n.getParent()._aGroupedColumns,type:g.moveUp})}}},icon:"sap-icon://arrow-top"})}e.addItem(this._mGroupHeaderMenuItems["moveup"]);if(!this._mGroupHeaderMenuItems["movedown"]){this._mGroupHeaderMenuItems["movedown"]=new u({text:p.getResourceText("TBL_MOVE_DOWN"),select:function(){var e=o();if(e){var n=e.column;var r=t._aGroupedColumns.indexOf(n.getId());if(r<t._aGroupedColumns.length){t._aGroupedColumns[r]=t._aGroupedColumns.splice(r+1,1,t._aGroupedColumns[r])[0];t.updateAnalyticalInfo();t.fireGroup({column:n,groupedColumns:n.getParent()._aGroupedColumns,type:g.moveDown})}}},icon:"sap-icon://arrow-bottom"})}e.addItem(this._mGroupHeaderMenuItems["movedown"]);if(!this._mGroupHeaderMenuItems["sortasc"]){this._mGroupHeaderMenuItems["sortasc"]=new u({text:p.getResourceText("TBL_SORT_ASC"),select:function(){var e=o();if(e){var t=e.column;t.sort(false)}},icon:"sap-icon://up"})}e.addItem(this._mGroupHeaderMenuItems["sortasc"]);if(!this._mGroupHeaderMenuItems["sortdesc"]){this._mGroupHeaderMenuItems["sortdesc"]=new u({text:p.getResourceText("TBL_SORT_DESC"),select:function(){var e=o();if(e){var t=e.column;t.sort(true)}},icon:"sap-icon://down"})}e.addItem(this._mGroupHeaderMenuItems["sortdesc"]);if(!this._mGroupHeaderMenuItems["collapse"]){this._mGroupHeaderMenuItems["collapse"]=new u({text:p.getResourceText("TBL_COLLAPSE_LEVEL"),select:function(){t.getBinding().collapseToLevel(t._iGroupedLevel-1);t.setFirstVisibleRow(0);t._getSelectionPlugin().clearSelection()}})}e.addItem(this._mGroupHeaderMenuItems["collapse"]);if(!this._mGroupHeaderMenuItems["collapseall"]){this._mGroupHeaderMenuItems["collapseall"]=new u({text:p.getResourceText("TBL_COLLAPSE_ALL"),select:function(){t.getBinding().collapseToLevel(0);t.setFirstVisibleRow(0);t._getSelectionPlugin().clearSelection()}})}e.addItem(this._mGroupHeaderMenuItems["collapseall"]);if(!this._mGroupHeaderMenuItems["expand"]){this._mGroupHeaderMenuItems["expand"]=new u({text:p.getResourceText("TBL_EXPAND_LEVEL"),select:function(){t.getBinding().expandToLevel(t._iGroupedLevel);t.setFirstVisibleRow(0);t._getSelectionPlugin().clearSelection()}})}e.addItem(this._mGroupHeaderMenuItems["expand"]);if(!this._mGroupHeaderMenuItems["expandall"]){this._mGroupHeaderMenuItems["expandall"]=new u({text:p.getResourceText("TBL_EXPAND_ALL"),select:function(){t.expandAll()}})}e.addItem(this._mGroupHeaderMenuItems["expandall"]);var n=o();if(n){var r=n.column;if(r.getShowIfGrouped()){this._mGroupHeaderMenuItems["visibility"].setText(p.getResourceText("TBL_HIDE_COLUMN"))}else{this._mGroupHeaderMenuItems["visibility"].setText(p.getResourceText("TBL_SHOW_COLUMN"))}this._mGroupHeaderMenuItems["moveup"].setEnabled(n.index>0);this._mGroupHeaderMenuItems["movedown"].setEnabled(n.index<this._aGroupedColumns.length-1)}else{this._mGroupHeaderMenuItems["moveup"].setEnabled(true);this._mGroupHeaderMenuItems["movedown"].setEnabled(true)}};_.prototype._removeGroupHeaderMenuItems=function(e){if(!this._mGroupHeaderMenuItems){return}for(var t in this._mGroupHeaderMenuItems){e.removeItem(this._mGroupHeaderMenuItems[t])}};_.prototype._cleanupGroupHeaderMenuItems=function(){for(var e in this._mGroupHeaderMenuItems){this._mGroupHeaderMenuItems[e].destroy()}this._mGroupHeaderMenuItems=null};_.prototype.getContextByIndex=function(e){var t=this.getBinding();return e>=0&&t?t.getContextByIndex(e):null};_.prototype.getContextInfoByIndex=function(e){var t=this.getBinding();return e>=0&&t?t.getNodeByIndex(e):null};_.prototype.suspendUpdateAnalyticalInfo=function(){this._bSuspendUpdateAnalyticalInfo=true};_.prototype.resumeUpdateAnalyticalInfo=function(e,t){this._bSuspendUpdateAnalyticalInfo=false;this._updateColumns(e,t)};_.prototype.addColumn=function(e,t){var n=this._getColumn(e);if(n.getGrouped()){this._addGroupedColumn(n.getId())}o.prototype.addColumn.call(this,n,t);this._updateColumns(t);return this};_.prototype.insertColumn=function(e,t,n){var r=this._getColumn(e);if(r.getGrouped()){this._addGroupedColumn(r.getId())}o.prototype.insertColumn.call(this,r,t,n);this._updateColumns(n);return this};_.prototype.removeColumn=function(e,t){var n=o.prototype.removeColumn.apply(this,arguments);if(!this._bReorderInProcess){this._aGroupedColumns=f.grep(this._aGroupedColumns,function(t){if(e.getId){return t!=e.getId()}else{return t==e}})}this.updateAnalyticalInfo(t);return n};_.prototype.removeAllColumns=function(e){this._aGroupedColumns=[];var t=o.prototype.removeAllColumns.apply(this,arguments);this._updateColumns(e);return t};_.prototype._getColumn=function(t){if(typeof t==="string"){var o=new e({leadingProperty:t,template:t,managed:true});return o}else if(t instanceof e){return t}else{throw new Error("Wrong column type. You need to define a string (property) or pass an AnalyticalColumnObject")}};_.prototype._updateColumns=function(e,t){if(!this._bSuspendUpdateAnalyticalInfo){this._updateTableColumnDetails();this.updateAnalyticalInfo(e,t);if(this.bOutput){this.invalidate()}}};_.prototype.updateAnalyticalInfo=function(e,t){if(this._bSuspendUpdateAnalyticalInfo){return}var o=this.getBinding();if(o){var n=this._getColumnInformation();var r=o.getNumberOfExpandedLevels()||0;if(r>this._aGroupedColumns.length){o.setNumberOfExpandedLevels(0)}o.updateAnalyticalInfo(n,t);this._updateTotalRow(e);if(!e){this._getRowContexts()}}};_.prototype.refreshRows=function(){o.prototype.refreshRows.apply(this,arguments);this._updateTotalRow()};_.prototype._updateTotalRow=function(e){var t=this.getBinding();this.setProperty("rowCountConstraints",{fixedTop:false,fixedBottom:t?t.providesGrandTotal()&&t.hasTotaledMeasures():false},e)};_.prototype._updateTableColumnDetails=function(){if(this._bSuspendUpdateAnalyticalInfo){return}var e=this.getBinding(),t=e&&e.getAnalyticalQueryResult();if(t){var o=this.getColumns(),n=[],r=[],i=[],a={},s,u;for(var p=0;p<o.length;p++){s=o[p];s._isLastGroupableLeft=false;s._bLastGroupAndGrouped=false;s._bDependendGrouped=false;if(!s.getVisible()){continue}var l=s.getLeadingProperty();u=t.findDimensionByPropertyName(l);if(u){var d=u.getName();if(!a[d]){a[d]={dimension:u,columns:[s]}}else{a[d].columns.push(s)}if(s.getGrouped()&&n.indexOf(d)==-1){n.push(d)}if(i.indexOf(d)==-1){i.push(d)}}}r=f.grep(i,function(e){return n.indexOf(n,e)==-1});if(n.length>0){f.each(n,function(e,t){f.each(a[t].columns,function(e,t){if(!t.getGrouped()){t._bDependendGrouped=true}})});if(n.length==i.length){u=t.findDimensionByPropertyName(sap.ui.getCore().byId(this._aGroupedColumns[this._aGroupedColumns.length-1]).getLeadingProperty());var m=a[u.getName()].columns;f.each(m,function(e,t){t._bLastGroupAndGrouped=true})}}if(r.length==1){f.each(a[r[0]].columns,function(e,t){t._isLastGroupableLeft=true})}}};_.prototype._getFirstMeasureColumnIndex=function(){var e=this.getBinding(),t=e&&e.getAnalyticalQueryResult(),o=this._getVisibleColumns();if(!t){return-1}for(var n=0;n<o.length;n++){var r=o[n],i=r.getLeadingProperty();if(t.findMeasureByName(i)||t.findMeasureByPropertyName(i)){return n}}};_.prototype.getTotalSize=function(){var e=this.getBinding();if(e){return e.getTotalSize()}return 0};_.prototype._onPersoApplied=function(){o.prototype._onPersoApplied.apply(this,arguments);this._aGroupedColumns=[];var e=this.getColumns();for(var t=0,n=e.length;t<n;t++){if(e[t].getGrouped()){this._addGroupedColumn(e[t].getId())}}this._updateColumns()};_.prototype._addGroupedColumn=function(e){if(this._aGroupedColumns.indexOf(e)===-1){this._aGroupedColumns.push(e)}};_.prototype._removeGroupedColumn=function(e){var t=this._aGroupedColumns.indexOf(e);if(t>=0){this._aGroupedColumns.splice(t,1)}};_.prototype.getGroupedColumns=function(){return this._aGroupedColumns};_.prototype.setCollapseRecursive=function(e){var t=this.getBinding();if(t){m(t.setCollapseRecursive,"Collapse Recursive is not supported by the used binding");if(t.setCollapseRecursive){t.setCollapseRecursive(e)}}this.setProperty("collapseRecursive",!!e,true);return this};_.prototype.expand=n.prototype.expand;_.prototype.collapse=n.prototype.collapse;_.prototype.expandAll=function(){var e=this.getBinding();if(e){e.expandToLevel(this._aGroupedColumns.length);this.setFirstVisibleRow(0);this._getSelectionPlugin().clearSelection()}return this};_.prototype.collapseAll=n.prototype.collapseAll;_.prototype.isExpanded=n.prototype.isExpanded;_.prototype.getAnalyticalInfoOfRow=function(e){var t=this.getBinding();var o=e?e.getRowBindingContext():null;if(!p.isA(e,"sap.ui.table.Row")||e.getParent()!==this||!t||!o){return null}var n=o===t.getGrandTotalContext();var r=null;var i=-1;if(n){r=t.getGrandTotalContextInfo();i=0}else{r=this.getContextInfoByIndex(e.getIndex());if(r){i=r.level}}var a=r&&t.nodeHasChildren&&t.nodeHasChildren(r);var s=!a&&!n&&r&&r.nodeState&&r.nodeState.sum;var u=[];if(s||a){var l=this.getGroupedColumns();if(l.length>0&&i>0&&i<=l.length){for(var d=0;d<i;d++){u.push(l[d])}}}return{grandTotal:n,group:a,groupTotal:s,level:i,context:o,groupedColumns:u}};_.prototype._createLegacySelectionPlugin=function(){return new l};_.prototype._setRowCountConstraints=function(){};_.prototype._onBindingDataRequested=function(e){if(e.getParameter("__simulateAsyncAnalyticalBinding")){return}var t=this.getBinding();if(!t.bUseBatchRequests){y(this).bPendingRequest=true}o.prototype._onBindingDataRequested.apply(this,arguments)};_.prototype._onBindingDataReceived=function(e){if(e.getParameter("__simulateAsyncAnalyticalBinding")){return}var t=this.getBinding();if(!t.bUseBatchRequests){y(this).bPendingRequest=false}o.prototype._onBindingDataReceived.apply(this,arguments)};_.prototype._hasPendingRequests=function(){if(y(this).hasOwnProperty("bPendingRequest")){return y(this).bPendingRequest}else{return o.prototype._hasPendingRequests.apply(this,arguments)}};return _});
/*!
 * OpenUI5
 * (c) Copyright 2009-2022 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/table/AnalyticalTableRenderer",["sap/ui/table/AnalyticalTable"],function(e){"use strict";return e.getMetadata().getRenderer()},true);
/*!
 * OpenUI5
 * (c) Copyright 2009-2022 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/table/Column",["./ColumnMenu","./utils/TableUtils","./library","sap/ui/core/Element","sap/ui/core/Popup","sap/ui/core/library","sap/ui/model/Filter","sap/ui/model/FilterOperator","sap/ui/model/FilterType","sap/ui/model/Sorter","sap/ui/model/Type","sap/ui/model/type/String","sap/base/util/ObjectPath","sap/base/util/JSTokenizer","sap/base/Log"],function(e,t,r,i,n,o,a,s,l,u,p,f,g,h,d){"use strict";var y=o.HorizontalAlign,c=r.SortOrder,m=o.ValueState;var b={Standard:"Standard",Creation:"Creation"};var v=t.createWeakMapFacade();var _=new window.WeakMap;var C=i.extend("sap.ui.table.Column",{metadata:{library:"sap.ui.table",properties:{width:{type:"sap.ui.core.CSSSize",group:"Dimension",defaultValue:null},minWidth:{type:"int",group:"Dimension",defaultValue:0},flexible:{type:"boolean",group:"Behavior",defaultValue:true,deprecated:true},resizable:{type:"boolean",group:"Behavior",defaultValue:true},hAlign:{type:"sap.ui.core.HorizontalAlign",group:"Appearance",defaultValue:y.Begin},sorted:{type:"boolean",group:"Appearance",defaultValue:false},sortOrder:{type:"sap.ui.table.SortOrder",group:"Appearance",defaultValue:c.Ascending},sortProperty:{type:"string",group:"Behavior",defaultValue:null},filtered:{type:"boolean",group:"Appearance",defaultValue:false},filterProperty:{type:"string",group:"Behavior",defaultValue:null},filterValue:{type:"string",group:"Behavior",defaultValue:null},filterOperator:{type:"string",group:"Behavior",defaultValue:null},defaultFilterOperator:{type:"string",group:"Behavior",defaultValue:null},filterType:{type:"any",group:"Misc",defaultValue:null},grouped:{type:"boolean",group:"Appearance",defaultValue:false},visible:{type:"boolean",group:"Appearance",defaultValue:true},name:{type:"string",group:"Appearance",defaultValue:null},showFilterMenuEntry:{type:"boolean",group:"Appearance",defaultValue:true},showSortMenuEntry:{type:"boolean",group:"Appearance",defaultValue:true},headerSpan:{type:"any",group:"Behavior",defaultValue:1},autoResizable:{type:"boolean",group:"Behavior",defaultValue:false}},defaultAggregation:"label",aggregations:{label:{type:"sap.ui.core.Control",altTypes:["string"],multiple:false},multiLabels:{type:"sap.ui.core.Control",multiple:true,singularName:"multiLabel"},template:{type:"sap.ui.core.Control",altTypes:["string"],multiple:false},creationTemplate:{type:"sap.ui.core.Control",multiple:false,visibility:"hidden"},menu:{type:"sap.ui.unified.Menu",multiple:false}},associations:{columnHeaderMenu:{type:"sap.ui.core.IColumnHeaderMenu",multiple:false,visibility:"hidden"}},events:{columnMenuOpen:{allowPreventDefault:true,parameters:{menu:{type:"sap.ui.unified.Menu"}}}}}});C._DEFAULT_FILTER_TYPE=new f;C.prototype.init=function(){this.mSkipPropagation={template:true,creationTemplate:true};v(this).oSorter=null;v(this).mCellContentVisibilitySettings=P(this);v(this).bHasDefaultLabel=false;v(this).bHasDefaultTemplate=false;this._initTemplateClonePool()};C.prototype._initTemplateClonePool=function(){this._mTemplateClones=Object.keys(b).reduce(function(e,t){e[t]=[];return e},{})};C.prototype.exit=function(){this._destroyTemplateClones()};C.prototype.setParent=function(){var e=i.prototype.setParent.apply(this,arguments);var t=this.getAggregation("menu");if(t&&typeof t._updateReferences==="function"){t._updateReferences(this)}return e};C.prototype.invalidate=function(e){if(e!==this.getTemplate()&&e!==this.getCreationTemplate()&&!t.isA(e,"sap.ui.table.ColumnMenu")){i.prototype.invalidate.apply(this,arguments)}};C.prototype.setLabel=function(e){var t=e;if(typeof e==="string"){if(v(this).bHasDefaultLabel){this.getLabel().setText(e);return this}t=r.TableHelper.createLabel({text:e});v(this).bHasDefaultLabel=true}else if(v(this).bHasDefaultLabel){this.destroyLabel();v(this).bHasDefaultLabel=false}return this.setAggregation("label",t)};C.prototype.setTemplate=function(e){var t=e;var i=this._getTable();var n=this.getTemplate();var o=true;if(typeof e==="string"){if(v(this).bHasDefaulTemplate){this.getTemplate().bindProperty("text",e);o=false}else{t=r.TableHelper.createTextView().bindProperty("text",e);v(this).bHasDefaulTemplate=true}}else if(v(this).bHasDefaulTemplate){this.destroyTemplate();v(this).bHasDefaulTemplate=false}if(o){this.setAggregation("template",t,true)}if(this.getVisible()){this.invalidate()}this._destroyTemplateClones("Standard");if(i&&this.getVisible()){if(t){i.invalidateRowsAggregation()}if(!n||!t){var a=i.getCreationRow();if(a){a._update()}}}return this};C.prototype.destroyTemplate=function(){this.destroyAggregation("template");this._destroyTemplateClones("Standard");var e=this._getTable();var t=e?e.getCreationRow():null;if(t){t._update()}return this};C.prototype.setCreationTemplate=function(e){var t=this._getTable();this.setAggregation("creationTemplate",e,true);this._destroyTemplateClones("Creation");if(e&&t&&this.getVisible()){var r=t.getCreationRow();if(r){r._update()}}return this};C.prototype.getCreationTemplate=function(){return this.getAggregation("creationTemplate")};C.prototype.destroyCreationTemplate=function(){this.destroyAggregation("creationTemplate",true);this._destroyTemplateClones("Creation");return this};C.prototype.getMenu=function(){var e=this.getAggregation("menu");if(!e){e=this._createMenu();this.setMenu(e)}return e};C.prototype._invalidateMenu=function(){var e=this.getAggregation("menu");if(e&&this._bMenuIsColumnMenu){e._invalidate()}};C.prototype._menuHasItems=function(){var e=this.getAggregation("menu");var r=this._getTable();var i=(e?e.getItems().length>0:false)||(r?r.getEnableColumnFreeze():false)||(r?r.getShowColumnVisibilityMenu():false)||this.isSortableByMenu()||this.isFilterableByMenu()||this.isGroupableByMenu();if(i){return true}return t.Hook.call(r,t.Hook.Keys.Column.MenuItemNotification,this).some(function(e){return e})};C.prototype.isFilterableByMenu=function(){return!!(this.getFilterProperty()&&this.getShowFilterMenuEntry())};C.prototype.isSortableByMenu=function(){return!!(this.getSortProperty()&&this.getShowSortMenuEntry())};C.prototype.isGroupableByMenu=function(){var e=this.getParent();return!!(e&&e.getEnableGrouping&&e.getEnableGrouping()&&this.getSortProperty())};C.prototype.setMenu=function(e){this.setAggregation("menu",e,true);this._bMenuIsColumnMenu=t.isA(e,"sap.ui.table.ColumnMenu");return this};C.prototype._createMenu=function(){if(!this._defaultMenu){this._defaultMenu=new e(this.getId()+"-menu",{ariaLabelledBy:this})}return this._defaultMenu};C.prototype.setSortProperty=function(e){this.setProperty("sortProperty",e);this._invalidateMenu();return this};C.prototype.setShowSortMenuEntry=function(e){if(this.getShowSortMenuEntry()!=e){this._invalidateMenu()}return this.setProperty("showSortMenuEntry",e)};C.prototype.setSorted=function(e){this.setProperty("sorted",e,true);this._updateIcons();return this};C.prototype.setSortOrder=function(e){this.setProperty("sortOrder",e,true);this._updateIcons();return this};C.prototype.setFilterProperty=function(e){this._invalidateMenu();return this.setProperty("filterProperty",e)};C.prototype.setShowFilterMenuEntry=function(e){if(this.getShowFilterMenuEntry()!=e){this._invalidateMenu()}return this.setProperty("showFilterMenuEntry",e)};C.prototype.setFiltered=function(e){this.setProperty("filtered",e,true);this._updateIcons();return this};C.prototype.setFilterValue=function(e){this.setProperty("filterValue",e,true);var t=this.getMenu();if(this._bMenuIsColumnMenu){t._setFilterValue(e)}return this};C.prototype.setFilterOperator=function(e){return this.setProperty("filterOperator",e,true)};C.prototype._openMenu=function(e){var t=this.getMenu();if(!this._menuHasItems()){return false}var r=this.fireColumnMenuOpen({menu:t});if(r){var i=n.Dock;var o=e;if(!e){e=this.getDomRef();o=this.getFocusDomRef()}t.open(null,o,i.BeginTop,i.BeginBottom,e);return true}else{return true}};C.prototype.toggleSort=function(){this.sort(this.getSorted()&&this.getSortOrder()===c.Ascending)};C.prototype.sort=function(e,t){var r=this.getParent();if(r){r.pushSortedColumn(this,t);var i=e?c.Descending:c.Ascending;var n=r.fireSort({column:this,sortOrder:i,columnAdded:t});if(n){var o=r.getSortedColumns();var a=r.getColumns();for(var s=0,l=a.length;s<l;s++){if(o.indexOf(a[s])<0){a[s].setProperty("sorted",false,true);a[s].setProperty("sortOrder",c.Ascending,true);a[s]._updateIcons(true);delete v(a[s]).oSorter}}this.setProperty("sorted",true,true);this.setProperty("sortOrder",i,true);v(this).oSorter=new u(this.getSortProperty(),this.getSortOrder()===c.Descending);var p=[];for(var s=0,l=o.length;s<l;s++){o[s]._updateIcons(true);p.push(v(o[s]).oSorter)}r._resetColumnHeaderHeights();r._updateRowHeights(r._collectRowHeights(true),true);var f=r.getBinding();if(f){if(this._updateTableAnalyticalInfo){this._updateTableAnalyticalInfo(true)}f.sort(p)}else{d.warning("Sorting not performed because no binding present",this)}}}return this};C.prototype._updateIcons=function(e){var t=this.getParent(),r=this.getSorted(),i=this.getFiltered();if(!t||!t.getDomRef()){return}this.$().parents(".sapUiTableCHT").find('td[data-sap-ui-colindex="'+this.getIndex()+'"]:not([colspan]):not(.sapUiTableHidden):first').toggleClass("sapUiTableColFiltered",i).toggleClass("sapUiTableColSorted",r).toggleClass("sapUiTableColSortedD",r&&this.getSortOrder()===c.Descending);t._getAccExtension().updateAriaStateOfColumn(this);if(!e){t._resetColumnHeaderHeights();t._updateRowHeights(t._collectRowHeights(true),true)}};C.prototype._renderSortIcon=function(){this._updateIcons()};C.prototype._getFilter=function(){var e,t=this.getFilterProperty(),r=this.getFilterValue(),i=this.getFilterOperator(),n,o,l=this.getFilterType()||C._DEFAULT_FILTER_TYPE,u=l instanceof f,p;if(r){if(!i){p=r.match(/(.*)\s*\.\.\s*(.*)/);if(r.indexOf("=")==0){i=s.EQ;n=r.substr(1)}else if(r.indexOf("!=")==0){i=s.NE;n=r.substr(2)}else if(r.indexOf("<=")==0){i=s.LE;n=r.substr(2)}else if(r.indexOf("<")==0){i=s.LT;n=r.substr(1)}else if(r.indexOf(">=")==0){i=s.GE;n=r.substr(2)}else if(r.indexOf(">")==0){i=s.GT;n=r.substr(1)}else if(p){if(p[1]&&p[2]){i=s.BT;n=p[1];o=p[2]}else if(p[1]&&!p[2]){i=s.GE;n=p[1]}else{i=s.LE;n=p[2]}}else if(u&&r.indexOf("*")==0&&r.lastIndexOf("*")==r.length-1){i=s.Contains;n=r.substr(1,r.length-2)}else if(u&&r.indexOf("*")==0){i=s.EndsWith;n=r.substr(1)}else if(u&&r.lastIndexOf("*")==r.length-1){i=s.StartsWith;n=r.substr(0,r.length-1)}else{if(this.getDefaultFilterOperator()){i=this.getDefaultFilterOperator()}else{if(u){i=s.Contains}else{i=s.EQ}}n=r.substr(0)}if(!o){e=new a(t,i,this._parseFilterValue(n))}else{e=new a(t,i,this._parseFilterValue(n),this._parseFilterValue(o))}}else{e=new a(t,i,this._parseFilterValue(r))}}return e};C.prototype.filter=function(e){var t=this.getParent();if(t&&t.isBound("rows")){var r=t.fireFilter({column:this,value:e});if(r){this.setProperty("filtered",!!e,true);this.setProperty("filterValue",e,true);var i=this.getMenu();if(this._bMenuIsColumnMenu){i._setFilterValue(e)}var n=[];var o=t.getColumns();for(var a=0,s=o.length;a<s;a++){var u=o[a],p;i=u.getMenu();try{p=u._getFilter();if(u._bMenuIsColumnMenu){i._setFilterState(m.None)}}catch(e){if(u._bMenuIsColumnMenu){i._setFilterState(m.Error)}continue}if(p){n.push(p)}}t.getBinding().filter(n,l.Control);this._updateIcons()}}return this};C.prototype._parseFilterValue=function(e){var t=this.getFilterType();if(t){if(typeof t==="function"){e=t(e)}else{e=t.parseValue(e,"string")}}return e};C.prototype.shouldRender=function(){return this.getVisible()&&!this.getGrouped()&&this.getTemplate()!=null};C.prototype.setProperty=function(e,t){var r=this._getTable();var n=r&&this.getProperty(e)!=t;var o=n&&e==="visible";var a=n&&(e==="visible"||e==="headerSpan");var s=i.prototype.setProperty.apply(this,arguments);if(o){r.invalidateRowsAggregation();var l=r.getCreationRow();if(l){l._update()}}if(a){r._invalidateComputedFixedColumnCount()}return s};C.prototype.setFilterType=function(e){var t=e;if(typeof e==="string"){try{var r=h.parseJS(e);if(typeof r.type==="string"){var i=g.get(r.type);t=i&&new i(r.formatOptions,r.constraints)}}catch(r){var i=g.get(e);t=i&&new i}if(!(t instanceof p)){d.error("The filter type is not an instance of sap.ui.model.Type! Ignoring the filter type!");t=undefined}}this.setProperty("filterType",t,true);return this};C.prototype.getIndex=function(){var e=this.getParent();if(e){return e.indexOfColumn(this)}else{return-1}};C.prototype._getFreeTemplateClone=function(e){var t=this._mTemplateClones[e];var r=null;if(!t){return null}for(var i=0;i<t.length;i++){if(!t[i]||t[i].bIsDestroyed){t.splice(i,1);i--}else if(!r&&!t[i].getParent()){r=t[i]}}return r};C.prototype.getTemplateClone=function(e,t){if(typeof e!=="number"||this.getTemplate()==null){return null}var r=t==null?"Standard":t;var i=this._getFreeTemplateClone(r);if(!i&&b.hasOwnProperty(r)){var n=this["get"+(r==="Standard"?"":r)+"Template"];var o=n.call(this);if(o){i=o.clone();this._mTemplateClones[r].push(i)}}if(i){_.set(i,this);var a=this.getParent();if(a){a._getAccExtension().addColumnHeaderLabel(this,i)}}return i};function T(e){for(var t=0;t<e.length;t++){if(e[t]!=null&&!e[t].bIsDestroyed){e[t].destroy()}}}C.prototype._destroyTemplateClones=function(e){if(e==null){for(var t in b){T(this._mTemplateClones[t])}this._initTemplateClonePool()}else{T(this._mTemplateClones[e]);this._mTemplateClones[e]=[]}};C.prototype._closeMenu=function(){var e=this.getAggregation("menu");if(e){e.close()}};C.prototype._getTable=function(){var e=this.getParent();return t.isA(e,"sap.ui.table.Table")?e:null};C.prototype._setCellContentVisibilitySettings=function(e){S(e);v(this).mCellContentVisibilitySettings=P(this,e)};C.prototype._getCellContentVisibilitySettings=function(){return v(this).mCellContentVisibilitySettings};C.prototype.getColumnHeaderMenu=function(){return sap.ui.getCore().byId(this.getAssociation("columnHeaderMenu"))};function S(e){if(e==null){return}M(e,null,false,["standard","groupHeader","summary"]);M(e.standard,"standard",true);M(e.groupHeader,"groupHeader",true,["nonExpandable","expanded","collapsed"]);M(e.summary,"summary",true,["group","total"])}function M(e,t,r,i){if(e!=null&&!(r&&typeof e==="boolean"||i&&typeof e==="object")){throw new Error("Invalid value"+(t?" for '"+t+"'":""))}if(i&&e!=null&&typeof e==="object"){Object.keys(e).forEach(function(r){if(i.includes(r)){if(t!=null){M(e[r],t+"."+r,true)}}else{throw new Error("Unsupported setting '"+(t?t+".":"")+r+"'")}})}}function P(e,t){t=t?t:{};return{standard:F(t.standard),groupHeader:{nonExpandable:F(t.groupHeader,"nonExpandable"),expanded:F(t.groupHeader,"expanded"),collapsed:F(t.groupHeader,"collapsed")},summary:{group:F(t.summary,"group"),total:F(t.summary,"total")}}}function F(e,t){if(typeof e==="boolean"){return e}else if(t&&e){return e[t]!==false}else{return true}}C.ofCell=function(e){return _.get(e)||null};return C});
/*!
 * OpenUI5
 * (c) Copyright 2009-2022 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/table/ColumnMenu",["./library","sap/ui/unified/Menu","sap/ui/unified/MenuItem","sap/ui/unified/MenuTextFieldItem","sap/ui/unified/MenuRenderer","./utils/TableUtils","sap/base/assert","sap/ui/thirdparty/jquery"],function(e,t,i,n,o,u,l,a){"use strict";var s=new window.WeakMap;var r=t.extend("sap.ui.table.ColumnMenu",{metadata:{library:"sap.ui.table"},renderer:o});r.prototype.init=function(){if(t.prototype.init){t.prototype.init.apply(this,arguments)}this.addStyleClass("sapUiTableColumnMenu");this._bInvalidated=true;this._iPopupClosedTimeoutId=null;this._oColumn=null;this._oTable=null};r.prototype.exit=function(){if(t.prototype.exit){t.prototype.exit.apply(this,arguments)}window.clearTimeout(this._iPopupClosedTimeoutId);r._destroyColumnVisibilityMenuItem(this._oTable);this._oColumn=this._oTable=null};r.prototype.onThemeChanged=function(){if(this.getDomRef()){this._invalidate()}};r.prototype.setParent=function(e){this._invalidate();this._updateReferences(e);return t.prototype.setParent.apply(this,arguments)};r.prototype._updateReferences=function(e){this._oColumn=e;if(this._oColumn){l(u.isA(this._oColumn,"sap.ui.table.Column"),"ColumnMenu.setParent: parent must be a subclass of sap.ui.table.Column");this._oTable=this._oColumn.getParent();if(this._oTable){l(u.isA(this._oTable,"sap.ui.table.Table"),"ColumnMenu.setParent: parent of parent must be subclass of sap.ui.table.Table")}}};r._destroyColumnVisibilityMenuItem=function(e){if(!e||!e._oColumnVisibilityMenuItem){return}e._oColumnVisibilityMenuItem.destroy();e._oColumnVisibilityMenuItem=null};r.prototype._removeColumnVisibilityFromAggregation=function(){if(!this._oTable||!this._oTable._oColumnVisibilityMenuItem){return}this.removeAggregation("items",this._oTable._oColumnVisibilityMenuItem,true)};r.prototype._invalidate=function(){this._removeColumnVisibilityFromAggregation();this.destroyItems();this._bInvalidated=true};r.prototype.open=function(){if(this._bInvalidated){this._bInvalidated=false;this._addMenuItems()}else if(this._oColumn){this._addColumnVisibilityMenuItem()}u.Hook.call(this._oTable,u.Hook.Keys.Table.OpenMenu,u.getCellInfo(arguments[4]),this);if(this.getItems().length>0){this._lastFocusedDomRef=arguments[4];t.prototype.open.apply(this,arguments)}};r.prototype._addMenuItems=function(){if(this._oColumn){this._addSortMenuItem(false);this._addSortMenuItem(true);this._addFilterMenuItem();this._addGroupMenuItem();this._addFreezeMenuItem();this._addColumnVisibilityMenuItem()}};r.prototype._addSortMenuItem=function(e){var t=this._oColumn;if(t.isSortableByMenu()){var i=e?"desc":"asc";var n=e?"sort-descending":"sort-ascending";this.addItem(this._createMenuItem(i,"TBL_SORT_"+i.toUpperCase(),n,function(i){t.sort(e,i.getParameter("ctrlKey")===true)}))}};r.prototype._addFilterMenuItem=function(){var e=this._oColumn;if(e.isFilterableByMenu()){var t=e.getParent();var i=t&&t.getEnableCustomFilter();if(i){this.addItem(this._createMenuItem("filter","TBL_FILTER_ITEM","filter",function(){t.fireCustomFilter({column:e})}))}else{this.addItem(this._createMenuTextFieldItem("filter","TBL_FILTER","filter",e.getFilterValue(),function(){e.filter(this.getValue())}))}}};r.prototype._addGroupMenuItem=function(){var e=this._oColumn;if(e.isGroupableByMenu()){var t=this._oTable;this.addItem(this._createMenuItem("group","TBL_GROUP",null,function(){t.setGroupBy(e)}))}};r.prototype._addFreezeMenuItem=function(){var e=this._oColumn;var t=this._oTable;var i=t&&t.getEnableColumnFreeze();if(i){var n=e.getIndex();var o=n+u.Column.getHeaderSpan(e)==t.getComputedFixedColumnCount();this.addItem(this._createMenuItem("freeze",o?"TBL_UNFREEZE":"TBL_FREEZE",null,function(){var i=t.fireColumnFreeze({column:e});if(i){if(o){t.setFixedColumnCount(0)}else{t.setFixedColumnCount(n+1)}}}))}};r.prototype._addColumnVisibilityMenuItem=function(){var e=this._oTable;if(e&&e.getShowColumnVisibilityMenu()){if(!e._oColumnVisibilityMenuItem||e._oColumnVisibilityMenuItem.bIsDestroyed){e._oColumnVisibilityMenuItem=this._createMenuItem("column-visibilty","TBL_COLUMNS");var i=new t(e._oColumnVisibilityMenuItem.getId()+"-menu");e._oColumnVisibilityMenuItem.setSubmenu(i)}this.addItem(e._oColumnVisibilityMenuItem);this._updateColumnVisibilityMenuItem()}};r.prototype._createColumnVisibilityMenuItem=function(e){var t=this._oTable;var n=u.Column.getHeaderText(t,e.getIndex());return new i({text:n,icon:e.getVisible()?"sap-icon://accept":null,ariaLabelledBy:[t.getId()+(e.getVisible()?"-ariahidecolmenu":"-ariashowcolmenu")],select:a.proxy(function(t){var i=!e.getVisible();if(i||u.getVisibleColumnCount(this._oTable)>1){var n=e.getParent();var o=true;if(u.isA(n,"sap.ui.table.Table")){o=n.fireColumnVisibility({column:e,newVisible:i})}if(o){e.setVisible(i)}}},this)})};r.prototype._createMenuItem=function(e,t,n,o){return new i(this.getId()+"-"+e,{text:u.getResourceText(t),icon:n?"sap-icon://"+n:null,select:o||function(){}})};r.prototype._createMenuTextFieldItem=function(e,t,i,o,l){l=l||function(){};return new n(this.getId()+"-"+e,{label:u.getResourceText(t),icon:i?"sap-icon://"+i:null,value:o,select:l||function(){}})};r.prototype._setFilterValue=function(e){var t=this.getParent();var i=t?t.getParent():undefined;var n=sap.ui.getCore().byId(this.getId()+"-filter");if(n&&n.setValue&&(i&&!i.getEnableCustomFilter())){n.setValue(e)}return this};r.prototype._setFilterState=function(e){var t=this.getParent();var i=t?t.getParent():undefined;var n=sap.ui.getCore().byId(this.getId()+"-filter");if(n&&n.setValueState&&(i&&!i.getEnableCustomFilter())){n.setValueState(e)}return this};function m(e){var t=e.getColumns();if(e.getColumnVisibilityMenuSorter&&typeof e.getColumnVisibilityMenuSorter==="function"){var i=e.getColumnVisibilityMenuSorter();if(typeof i==="function"){t=t.sort(i)}}return t}function d(e,t){if(t.isA("sap.ui.table.AnalyticalColumn")){var i=e.getAnalyticalQueryResult();var n=i.getEntityType();var o=e.getModel().getProperty("/#"+n.getTypeDescription().name+"/"+t.getLeadingProperty()+"/sap:visible");if(o&&(o.value==="false"||o.value===false)){return true}}return false}r.prototype._updateColumnVisibilityMenuItem=function(){var e=this._oTable;if(!e||!e._oColumnVisibilityMenuItem){return}var t=e._oColumnVisibilityMenuItem.getSubmenu();if(!t){return}var i=m(e);var n=t.getItems();var o=e._getVisibleColumns();var l=e.getBinding();var a=u.isA(l,"sap.ui.model.analytics.AnalyticalBinding");for(var r=0;r<i.length;r++){var p=i[r];if(a){if(d(l,p)){continue}}var f=s.get(p);if(!f||f.bIsDestroyed){var f=this._createColumnVisibilityMenuItem(p);t.insertItem(f,r);s.set(p,f)}else{var b=n.indexOf(f);if(r!==b){t.removeItem(f);t.insertItem(f,r)}}var y=o.indexOf(p)>-1;var _=y?"sap-icon://accept":"";n=t.getItems();n[r].setProperty("icon",_);n[r].setEnabled(!y||o.length>1);n[r].removeAllAriaLabelledBy();n[r].addAriaLabelledBy(e.getId()+(y?"-ariahidecolmenu":"-ariashowcolmenu"))}for(var r=n.length;r>i.length;r--){n[r-1].destroy()}};return r});
/*!
 * OpenUI5
 * (c) Copyright 2009-2022 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/table/ColumnMenuRenderer",["sap/ui/table/ColumnMenu"],function(e){"use strict";return e.getMetadata().getRenderer()},true);
/*!
 * OpenUI5
 * (c) Copyright 2009-2022 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/table/CreationRow",["./CreationRowRenderer","./Column","./utils/TableUtils","sap/ui/core/Control","sap/m/library","sap/m/OverflowToolbar","sap/m/ToolbarSpacer","sap/m/Button"],function(e,t,r,l,a,o,i,n){"use strict";var s=l.extend("sap.ui.table.CreationRow",{metadata:{library:"sap.ui.table",properties:{applyEnabled:{type:"boolean",group:"Behavior",defaultValue:true}},aggregations:{cells:{type:"sap.ui.core.Control",multiple:true,singularName:"cell"},toolbar:{type:"sap.ui.core.Toolbar",multiple:false},_defaultToolbar:{type:"sap.ui.core.Toolbar",multiple:false,visibility:"hidden"}},events:{apply:{allowPreventDefault:true}}},renderer:e});s.prototype.setApplyEnabled=function(e){this.setProperty("applyEnabled",e,true);this._updateDefaultToolbar();return this};s.prototype.setVisible=function(e){var t=this.getVisible();var r=this.getTable();this.setProperty("visible",e);if(t!==e&&r){r.invalidate()}return this};s.prototype.setParent=function(e){l.prototype.setParent.apply(this,arguments);this._update();return this};s.prototype.resetFocus=function(){var e=r.getFirstInteractiveElement(this);if(e){e.focus();if(e instanceof window.HTMLInputElement){e.select()}return true}return false};s.prototype.getFocusDomRef=function(){var e=r.getFirstInteractiveElement(this);if(e){return e}return l.prototype.getFocusDomRef.apply(this,arguments)};s.prototype._fireApply=function(){var e=false;if(this.fireApply()){e=this.resetFocus()}return e};function u(e,t){var r=document.activeElement;e.getTable().getDomRef("focusDummy").focus();t.setMarked();window.setTimeout(function(){if(!e._fireApply()){r.focus()}},0)}s.prototype.onsapenter=function(e){if(this.getApplyEnabled()&&!e.isMarked()){u(this,e)}};s.prototype.onsapentermodifiers=function(e){if(this.getApplyEnabled()&&(e.metaKey||e.ctrlKey)){u(this,e)}};function p(e){return new o(e.getId()+"-tb",{content:[new i,new n(e.getId()+"-applyBtn",{text:r.getResourceText("TBL_CREATIONROW_APPLY"),enabled:e.getApplyEnabled(),press:function(){e._fireApply()}})],style:a.ToolbarStyle.Clear,ariaLabelledBy:[e.getId()+"-label"]})}s.prototype._getToolbar=function(){var e=this.getToolbar();if(!e){var t=this.getAggregation("_defaultToolbar");if(!t){t=p(this);this.setAggregation("_defaultToolbar",t,true)}e=t;if(e.data("sap-ui-table-invalid")){this._updateDefaultToolbar()}}return e};s.prototype._updateDefaultToolbar=function(){var e=this.getAggregation("_defaultToolbar");var t;if(this.getToolbar()){if(e){e.data("sap-ui-table-invalid",true)}return}if(!e){return}t=e.getContent()[1];t.setEnabled(this.getApplyEnabled());e.data("sap-ui-table-invalid",null)};s.prototype._getCell=function(e){var r=this.getCells();var l=r.filter(function(r){return t.ofCell(r).getIndex()===e})[0];if(!l){return null}return l};s.prototype._getCellDomRef=function(e){var t=this._getCell(e);var l=t?t.getDomRef():null;var a=r.getCell(this.getTable(),l,true);if(!a){return null}return a};s.prototype._focusCell=function(e){var t=this._getCellDomRef(e);var l=r.getInteractiveElements(t);if(l){l[0].focus();if(l[0]instanceof window.HTMLInputElement){l[0].select()}return true}return false};s.prototype._takeOverKeyboardHandling=function(e){var t=this.getTable();var l=t?t.getDomRef():null;if(!l||!l.contains(document.activeElement)){return false}var a=r.getCell(this.getTable(),document.activeElement);var o=r.getCellInfo(a);var i=false;if(o.columnIndex!=null&&o.columnIndex>=0){i=this._focusCell(o.columnIndex)}else{i=this.resetFocus()}if(i&&e){e.preventDefault()}return i};s.prototype._update=function(){var e=this.getTable();if(!e){this.removeAllCells();return}var t=e.getColumns();this.removeAllCells();for(var r=0,l=t.length;r<l;r++){if(t[r].getVisible()){this.addCell(t[r].getTemplateClone(r,"Creation"))}}};s.prototype.getTable=function(){var e=this.getParent();return r.isA(e,"sap.ui.table.Table")?e:null};return s});
/*!
 * OpenUI5
 * (c) Copyright 2009-2022 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/table/CreationRowRenderer",["./TableRenderer","./utils/TableUtils","sap/ui/core/Renderer"],function(e,t,n){"use strict";var a={apiVersion:2};a.render=function(e,t){var n=t.getTable();if(!n){return}e.openStart("div",t);e.attr("data-sap-ui-fastnavgroup","true");n._getAccRenderExtension().writeAriaAttributesFor(e,n,"CREATIONROW",{creationRow:t});e.class("sapUiTableCreationRow");e.openEnd();this.renderBeginSection(e);this.renderMiddleSection(e,t,n);this.renderEndSection(e,n);n._getAccRenderExtension().writeAccCreationRowText(e,n,t);e.close("div")};a.renderBeginSection=function(e){e.openStart("div");e.class("sapUiTableCreationRowBeginSection");e.class("sapUiTableRowHdrScr");e.openEnd();e.close("div")};a.renderMiddleSection=function(e,t,n){e.openStart("div");e.class("sapUiTableCreationRowMiddleSection");e.openEnd();this.renderForm(e,t,n);this.renderToolbar(e,t);e.close("div")};a.renderEndSection=function(e,n){e.openStart("div");e.class("sapUiTableCreationRowEndSection");if(t.hasRowActions(n)){e.class("sapUiTableCell");e.class("sapUiTableRowActionHeaderCell")}else{e.class("sapUiTableVSbBg")}e.openEnd();e.close("div")};a.renderForm=function(e,t,n){if(t.getCells().length===0){return}e.openStart("div");e.class("sapUiTableCreationRowForm");e.openEnd();if(n.getComputedFixedColumnCount()>0){this.renderRowFormTable(e,n,true)}e.openStart("div");e.class("sapUiTableCtrlScr");e.openEnd();this.renderRowFormTable(e,n,false);e.close("div");e.close("div")};a.renderRowFormTable=function(a,i,r){var o=r?0:i.getComputedFixedColumnCount();var l=r?i.getComputedFixedColumnCount():i.getColumns().length;var s=i.getCreationRow();a.openStart("table");i._getAccRenderExtension().writeAriaAttributesFor(a,i,"CREATIONROW_TABLE");a.class("sapUiTableCtrl");a.style(r?"width":"min-width",i._getColumnsWidth(o,l)+"px");a.openEnd();a.openStart("thead").openEnd();a.openStart("tr");a.class("sapUiTableCtrlCol");a.openEnd();var d=i.getColumns();var c=new Array(l);var p;var u;var C=!r&&l>o;var b;for(p=o;p<l;p++){u=d[p];b={shouldRender:!!(u&&u.shouldRender())};if(b.shouldRender){var T=u.getWidth();if(t.isVariableWidth(T)){C=false;if(r){u._iFixWidth=u._iFixWidth||160;T=u._iFixWidth+"px"}}else if(r){delete u._iFixWidth}b.width=T}c[p]=b}for(p=o;p<l;p++){u=d[p];b=c[p];if(b.shouldRender){a.openStart("th");a.style("width",b.width);a.attr("data-sap-ui-headcolindex",p);a.attr("data-sap-ui-colid",u.getId());a.openEnd();a.close("th")}}if(C){a.openStart("th").openEnd().close("th")}a.close("tr");a.close("thead");a.openStart("tbody").openEnd();a.openStart("tr");a.class("sapUiTableTr");a.openEnd();var g=s.getCells();var h=e.getColumnsToRender(i,o,l);for(p=o;p<l;p++){u=d[p];b=c[p];if(b.shouldRender){a.openStart("td");a.attr("data-sap-ui-colid",u.getId());var v=s._getCell(p);var f=h.length;var R=f>0&&h[0]===u;var S=f>0&&h[f-1]===u;var E=e.getLastFixedColumnIndex(i);var w=r&E===p;var x=n.getTextAlign(u.getHAlign(),v&&v.getTextDirection&&v.getTextDirection());a.style("text-align",x);a.class("sapUiTableCell");a.class("sapUiTablePseudoCell");if(R){a.class("sapUiTableCellFirst")}if(w){a.class("sapUiTableCellLastFixed")}if(S){a.class("sapUiTableCellLast")}a.openEnd();if(v){a.openStart("div");a.class("sapUiTableCellInner");a.openEnd();e.renderTableCellControl(a,i,v,R);a.close("div")}a.close("td")}}if(!r&&C&&g.length>0){a.openStart("td").class("sapUiTableCellDummy").openEnd().close("td")}a.close("tr");a.close("tbody");a.close("table")};a.renderToolbar=function(e,t){e.renderControl(t._getToolbar())};return a},true);
/*!
 * OpenUI5
 * (c) Copyright 2009-2022 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/table/Row",["sap/ui/core/Element","./utils/TableUtils","sap/ui/thirdparty/jquery"],function(t,e,o){"use strict";var n=Object.freeze({Standard:"Standard",Summary:"Summary",GroupHeader:"GroupHeader"});function i(){var t=null;var e=n.Standard;var o=false;var i="";var r=false;var a=false;var l=0;Object.defineProperties(this,{context:{get:function(){return t},set:function(e){t=e||null}},Type:{get:function(){return n}},type:{get:function(){return e},set:function(t){if(!(t in n)){throw Error("Is not a valid type for sap.ui.table.Row: "+t)}e=t}},empty:{get:function(){return this.context==null}},contentHidden:{get:function(){return this.empty?true:o},set:function(t){o=t===true}},title:{get:function(){return this.empty?"":i},set:function(t){i=typeof t==="string"?t:""}},expandable:{get:function(){return this.empty?false:a},set:function(t){a=t===true}},expanded:{get:function(){return this.expandable?r:false},set:function(t){r=t===true}},level:{get:function(){return this.empty?0:l},set:function(t){l=typeof t==="number"?Math.max(1,t||1):1}},reset:{value:function(){t=null;e=n.Standard;o=false;i="";a=false;r=false;l=1}}})}var r=new window.WeakMap;function a(t){if(!r.has(t)){r.set(t,Object.seal(new i))}return r.get(t)}var l=t.extend("sap.ui.table.Row",{metadata:{library:"sap.ui.table",defaultAggregation:"cells",aggregations:{cells:{type:"sap.ui.core.Control",multiple:true,singularName:"cell"},_rowAction:{type:"sap.ui.table.RowAction",multiple:false,visibility:"hidden"},_settings:{type:"sap.ui.table.RowSettings",multiple:false,visibility:"hidden"}}}});l.prototype.init=function(){this.initDomRefs()};l.prototype.exit=function(){this.initDomRefs()};l.prototype.getFocusInfo=function(){var e=this.getTable();return e?e.getFocusInfo():t.prototype.getFocusInfo.apply(this,arguments)};l.prototype.applyFocusInfo=function(e){var o=this.getTable();if(o){o.applyFocusInfo(e)}else{t.prototype.applyFocusInfo.apply(this,arguments)}return this};l.prototype._setFocus=function(t){var o=e.getFirstInteractiveElement(this);if(t===true&&o){o.focus()}else{this.getDomRef("col0").focus()}};l.prototype.addStyleClass=function(t){this.getDomRefs(true).row.addClass(t)};l.prototype.removeStyleClass=function(t){this.getDomRefs(true).row.removeClass(t)};l.prototype.initDomRefs=function(){this._mDomRefs={}};l.prototype.getIndex=function(){var t=this.getTable();if(!t){return-1}var e=t.indexOfRow(this);var o=t._getRowCounts();if(o.fixedTop>0&&e<o.fixedTop){return e}if(o.fixedBottom>0&&e>=o.count-o.fixedBottom){var n=t._getTotalRowCount();if(n>=o.count){return n-(o.count-e)}else{return e}}return t._getFirstRenderedRowIndex()+e};l.prototype.getDomRefs=function(t,e){t=t===true;e=e===true;var n=t?"jQuery":"dom";var i=this._mDomRefs;if(!i[n]){var r=this.getTable();var a=function(e){var n=document.getElementById(e);if(n){return t?o(n):n}return null};var l=function(e){if(e){return t?e.parent():e.parentNode}return null};i[n]={};if(r){var s=r.indexOfRow(this);i[n].rowSelector=a(r.getId()+"-rowsel"+s);i[n].rowAction=a(r.getId()+"-rowact"+s)}i[n].rowHeaderPart=l(i[n].rowSelector);i[n].rowFixedPart=a(this.getId()+"-fixed");i[n].rowScrollPart=a(this.getId());i[n].rowActionPart=l(i[n].rowAction);i[n].rowSelectorText=a(this.getId()+"-rowselecttext");if(t){i[n].row=o().add(i[n].rowHeaderPart).add(i[n].rowFixedPart).add(i[n].rowScrollPart).add(i[n].rowActionPart)}else{i[n].row=[i[n].rowHeaderPart,i[n].rowFixedPart,i[n].rowScrollPart,i[n].rowActionPart].filter(Boolean)}}var p=i[n];if(e){return Object.keys(p).map(function(t){return t==="row"?null:p[t]}).filter(Boolean)}return p};l.prototype._updateSelection=function(){var t=this.getTable();var e=t._getSelectionPlugin().isIndexSelected(this.getIndex());this._setSelected(e);t._getAccExtension().updateSelectionStateOfRow(this)};l.prototype.setRowBindingContext=function(t,o){var n=o.getBindingInfo("rows");var i=n?n.model:undefined;var r=a(this);r.reset();r.context=t;if(r.context){e.Hook.call(o,e.Hook.Keys.Row.UpdateState,r)}this.setBindingContext(r.context,i);this.getDomRefs(true).row.toggleClass("sapUiTableRowHidden",this.isContentHidden());this._updateTableCells(o)};l.prototype.getRowBindingContext=function(){return a(this).context};l.prototype.setBindingContext=function(e,o){return t.prototype.setBindingContext.call(this,e||null,o)};l.prototype._updateTableCells=function(t){var e=this.getCells(),o=this.getIndex(),n=!!t._updateTableCell,i,r,a,l=this.getRowBindingContext();for(var s=0;s<e.length;s++){i=e[s];a=!!i._updateTableCell;r=a||n?i.$().closest("td"):null;if(a){i._updateTableCell(i,l,r,o)}if(n){t._updateTableCell(i,l,r,o)}}};l.prototype.getType=function(){return a(this).type};l.prototype.isGroupHeader=function(){return this.getType()===n.GroupHeader};l.prototype.isSummary=function(){return this.getType()===n.Summary};l.prototype.isGroupSummary=function(){return this.isSummary()&&this.getLevel()>1};l.prototype.isTotalSummary=function(){return this.isSummary()&&this.getLevel()===1};l.prototype.isEmpty=function(){return a(this).empty};l.prototype.isContentHidden=function(){return a(this).contentHidden};l.prototype.getLevel=function(){return a(this).level};l.prototype.getTitle=function(){return a(this).title};l.prototype.isExpandable=function(){return a(this).expandable};l.prototype.isExpanded=function(){return a(this).expanded};l.prototype.destroy=function(){this.removeAllCells();return t.prototype.destroy.apply(this,arguments)};l.prototype.invalidate=function(){return this};l.prototype.getDragGhost=function(){var t=this.getTable();var e=t.getDomRef();var o=this.getDomRefs();var n;var i;var r;var a=t._getSelectionPlugin().getSelectedCount();function l(t){t.removeAttribute("id");t.removeAttribute("data-sap-ui");t.removeAttribute("data-sap-ui-related");var e=t.children.length;for(var o=0;o<e;o++){l(t.children[o])}}function s(t,e){var o=t.cloneNode();var n=t.querySelector("thead").cloneNode(true);var i=t.querySelector("tbody").cloneNode();var r=e.cloneNode(true);i.appendChild(r);o.appendChild(n);o.appendChild(i);return o}n=e.cloneNode();n.classList.add("sapUiTableRowGhost");n.classList.remove("sapUiTableVScr");n.classList.remove("sapUiTableHScr");n.style.width=e.getBoundingClientRect().width+"px";if(o.rowSelector){i=t.getDomRef("sapUiTableRowHdrScr").cloneNode();r=o.rowSelector.cloneNode(true);i.appendChild(r);n.appendChild(i)}if(o.rowFixedPart){i=t.getDomRef("sapUiTableCtrlScrFixed").cloneNode();r=s(t.getDomRef("table-fixed"),o.rowFixedPart);i.appendChild(r);n.appendChild(i)}if(o.rowScrollPart){var p=t.getDomRef("sapUiTableCtrlScr");i=p.cloneNode();r=s(t.getDomRef("table"),o.rowScrollPart);i.appendChild(t.getDomRef("tableCtrlCnt").cloneNode());i.firstChild.appendChild(r);n.appendChild(i)}if(o.rowAction){i=t.getDomRef("sapUiTableRowActionScr").cloneNode();r=o.rowAction.cloneNode(true);i.appendChild(r);n.appendChild(i)}if(a>1){i=document.createElement("div");i.classList.add("sapUiTableRowGhostCount");var u=document.createElement("div");u.textContent=a;i.appendChild(u);n.appendChild(i)}l(n);return n};l.prototype._setSelected=function(t){var o=this.getTable();if(t){this.addStyleClass("sapUiTableRowSel")}else{this.removeStyleClass("sapUiTableRowSel")}if(o){e.dynamicCall(o._getSyncExtension,function(e){e.syncRowSelection(o.indexOfRow(this),t)},this)}};l.prototype._setHovered=function(t){var o=this.getTable();if(t){this.addStyleClass("sapUiTableRowHvr")}else{this.removeStyleClass("sapUiTableRowHvr")}if(o){e.dynamicCall(o._getSyncExtension,function(e){e.syncRowHover(o.indexOfRow(this),t)},this)}};l.prototype.getRowAction=function(){return this.getAggregation("_rowAction")};l.prototype.getTable=function(){var t=this.getParent();return e.isA(t,"sap.ui.table.Table")?t:null};l.prototype.expand=function(){if(this.isExpandable()&&!this.isExpanded()){e.Hook.call(this.getTable(),e.Hook.Keys.Row.Expand,this)}};l.prototype.collapse=function(){if(this.isExpandable()&&this.isExpanded()){e.Hook.call(this.getTable(),e.Hook.Keys.Row.Collapse,this)}};l.prototype.toggleExpandedState=function(){if(this.isExpanded()){this.collapse()}else{this.expand()}};l.prototype.Type=n;return l});
/*!
 * OpenUI5
 * (c) Copyright 2009-2022 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/table/RowAction",["./library","./utils/TableUtils","./RowActionRenderer","sap/ui/core/Control","sap/ui/core/Icon","sap/ui/unified/Menu","sap/ui/core/Popup"],function(e,t,i,s,o,n,a){"use strict";var r=s.extend("sap.ui.table.RowAction",{metadata:{library:"sap.ui.table",properties:{visible:{type:"boolean",group:"Misc",defaultValue:true}},defaultAggregation:"items",aggregations:{items:{type:"sap.ui.table.RowActionItem",multiple:true},_icons:{type:"sap.ui.core.Icon",multiple:true,visibility:"hidden"},_menu:{type:"sap.ui.unified.Menu",multiple:false,visibility:"hidden"}},events:{}},renderer:i});r.prototype.init=function(){this._bFixedLayout=true;this._aActions=["",""];this._iLastCloseTime=0;this.addAggregation("_icons",new o(this.getId()+"-icon0",{decorative:false,press:[this._onIconPress,this]}).addStyleClass("sapUiTableActionIcon")).addDelegate({onAfterRendering:function(){var e=this.getAggregation("_icons")[0].getDomRef();if(this._aActions[0]==="menu"){e.setAttribute("aria-haspopup","menu")}else{e.removeAttribute("aria-haspopup")}}},this);this.addAggregation("_icons",new o(this.getId()+"-icon1",{decorative:false,press:[this._onIconPress,this]}).addStyleClass("sapUiTableActionIcon")).addDelegate({onAfterRendering:function(){var e=this.getAggregation("_icons")[1].getDomRef();if(this._aActions[1]==="menu"){e.setAttribute("aria-haspopup","menu")}else{e.removeAttribute("aria-haspopup")}}},this)};r.prototype.onBeforeRendering=function(){var e=this.getRow();var i=e?e.getTable():null;var s=this.getAggregation("_icons");var o=this.getItems();var n=this._getVisibleItems();var a=n.length;var r=this._getSize();var c=i?i.getId()+"-rowacthdr":"";if(this._bFixedLayout&&a===1&&r===2&&o.length>1&&n[0]===o[1]){n[0]._syncIcon(s[1]);this._aActions=["","action_fixed"]}else if(a===0||r===0){this._aActions=["",""]}else if(a===1&&r>0){n[0]._syncIcon(s[0]);this._aActions=["action",""]}else if(a===2&&r===2){n[0]._syncIcon(s[0]);n[1]._syncIcon(s[1]);this._aActions=["action","action"]}else if(a>2&&r===2){n[0]._syncIcon(s[0]);s[1].setSrc("sap-icon://overflow");s[1].setTooltip(t.getResourceText("TBL_ROW_ACTION_MORE"));this._aActions=["action","menu"]}else{s[0].setSrc("sap-icon://overflow");s[0].setTooltip(t.getResourceText("TBL_ROW_ACTION_MORE"));this._aActions=["menu",""]}s.forEach(function(e,t){e.removeAllAriaLabelledBy();e.removeStyleClass("sapUiTableActionHidden");if(c){e.addAriaLabelledBy(c)}if(this._aActions[t]===""){e.addStyleClass("sapUiTableActionHidden")}}.bind(this))};r.prototype.getAccessibilityInfo=function(){var e=this.getRow();var i=this._getVisibleItems().length;var s=this._getSize();var o=this.getVisible()&&i>0&&s>0&&(!e||!e.isContentHidden()&&!e.isGroupHeader()&&!e.isSummary());var n;if(o){n=t.getResourceText(i==1?"TBL_ROW_ACTION_SINGLE_ACTION":"TBL_ROW_ACTION_MULTIPLE_ACTION",[i])}else{n=t.getResourceText("TBL_ROW_ACTION_NO_ACTION")}return{focusable:o,enabled:o,description:n}};r.prototype._getVisibleItems=function(){return this.getItems().filter(function(e){return e.getVisible()})};r.prototype.getRow=function(){var e=this.getParent();return t.isA(e,"sap.ui.table.Row")?e:null};r.prototype._getSize=function(){var e=this.getRow();var t=e?e.getTable():null;return t?t.getRowActionCount():2};r.prototype._onIconPress=function(e){var t=e.getSource();var i=this.indexOfAggregation("_icons",t);var s=this._aActions[i];if(s==="action"){this._getVisibleItems()[i]._firePress()}else if(s==="action_fixed"){this._getVisibleItems()[0]._firePress()}else if(s==="menu"){var o=this.getAggregation("_menu");if(!o){o=new n;this.setAggregation("_menu",o,true);o.getPopup().attachClosed(function(){this._iLastCloseTime=Date.now()},this)}o.removeAllItems();if(Date.now()-this._iLastCloseTime<500){return}var r=this.getItems();for(var c=i;c<r.length;c++){o.addItem(r[c]._getMenuItem())}o.open(null,t,a.Dock.EndTop,a.Dock.EndBottom,t)}};return r});
/*!
 * OpenUI5
 * (c) Copyright 2009-2022 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/table/RowActionItem",["./library","./utils/TableUtils","sap/ui/core/Element","sap/ui/unified/MenuItem","sap/ui/core/IconPool"],function(t,e,i,o,n){"use strict";var s=t.RowActionType;var r=i.extend("sap.ui.table.RowActionItem",{metadata:{library:"sap.ui.table",properties:{icon:{type:"sap.ui.core.URI",group:"Data",defaultValue:null},visible:{type:"boolean",group:"Misc",defaultValue:true},text:{type:"string",group:"Misc",defaultValue:""},type:{type:"sap.ui.table.RowActionType",group:"Behavior",defaultValue:s.Custom}},events:{press:{item:{type:"sap.ui.table.RowActionItem"},row:{type:"sap.ui.table.Row"}}}}});r.prototype.init=function(){this._oMenuItem=null};r.prototype.exit=function(){if(this._oMenuItem){this._oMenuItem.destroy();this._oMenuItem=null}};r.prototype.getRowAction=function(){var t=this.getParent();return e.isA(t,"sap.ui.table.RowAction")?t:null};r.prototype._firePress=function(){var t=this.getRowAction();this.firePress({item:this,row:t?t.getRow():null})};r.prototype._getMenuItem=function(){if(!this._oMenuItem){this._oMenuItem=new o({select:[this._firePress,this]})}this._oMenuItem.setIcon(this._getIcon());this._oMenuItem.setVisible(this.getVisible());this._oMenuItem.setText(this._getText(false));return this._oMenuItem};r.prototype._getIcon=function(){var t=this.getIcon();if(t){return t}if(this.getType()===s.Navigation){return n.getIconURI(e.ThemeParameters.navigationIcon)}if(this.getType()===s.Delete){return n.getIconURI(e.ThemeParameters.deleteIcon)}return null};r.prototype._getText=function(t){var i=t?this.getTooltip_AsString()||this.getText():this.getText()||this.getTooltip_AsString();if(i){return i}if(this.getType()===s.Navigation){return e.getResourceText("TBL_ROW_ACTION_NAVIGATE")}if(this.getType()===s.Delete){return e.getResourceText("TBL_ROW_ACTION_DELETE")}return null};r.prototype._syncIcon=function(t){t.setSrc(this._getIcon());t.setTooltip(this._getText(true))};return r});
/*!
 * OpenUI5
 * (c) Copyright 2009-2022 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/table/RowActionRenderer",[],function(){"use strict";var e={apiVersion:2};e.render=function(e,i){e.openStart("div",i);e.class("sapUiTableAction");if(!i.getRow()){e.style("display","none")}if(!i.getVisible()){e.class("sapUiTableActionHidden")}var t=i.getTooltip_AsString();if(t){e.attr("title",t)}e.openEnd();var n=i.getAggregation("_icons");e.renderControl(n[0]);e.renderControl(n[1]);e.close("div")};return e},true);
/*!
 * OpenUI5
 * (c) Copyright 2009-2022 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/table/RowSettings",["sap/ui/core/Element","./utils/TableUtils","sap/ui/base/DataType","./library","sap/ui/core/library"],function(t,e,i,a,r){"use strict";var s=r.MessageType;var o=r.IndicationColor;var g=t.extend("sap.ui.table.RowSettings",{metadata:{library:"sap.ui.table",properties:{highlight:{type:"string",group:"Appearance",defaultValue:"None"},highlightText:{type:"string",group:"Misc",defaultValue:""},navigated:{type:"boolean",group:"Appearance",defaultValue:false}}}});g.prototype.validateProperty=function(e,a){if(e!="highlight"||a==null){return t.prototype.validateProperty.apply(this,arguments)}if(!i.getType("sap.ui.core.MessageType").isValid(a)&&!i.getType("sap.ui.core.IndicationColor").isValid(a)){throw new Error('"'+a+'" is of type '+typeof a+", expected is a value of the enums sap.ui.core.MessageType or sap.ui.core.IndicationColor"+' for property "'+e+'" of '+this)}return a};g.prototype.setHighlight=function(t){var e;var i;this.setProperty("highlight",t,true);e=this._getRow();if(!e){return this}i=e.getDomRef("highlight");if(!i){return this}for(var a in s){i.classList.remove("sapUiTableRowHighlight"+a)}for(var r in o){i.classList.remove("sapUiTableRowHighlight"+r)}i.classList.add(this._getHighlightCSSClassName());var g=e.getParent();var n=g?g._getAccExtension():null;if(n){n.updateAriaStateOfRowHighlight(this)}return this};g.prototype.setNavigated=function(t){var e;var i;this.setProperty("navigated",t,true);e=this._getRow();if(!e){return this}i=e.getDomRef("navIndicator");if(!i){return this}if(t){i.classList.add("sapUiTableRowNavigated")}else{i.classList.remove("sapUiTableRowNavigated")}var a=e.getParent();var r=a?a._getAccExtension():null;if(r){r._updateAriaStateOfNavigatedRow(this)}return this};g.prototype.setHighlightText=function(t){var e=this._getRow();var i=e?e.getParent():null;var a=i?i._getAccExtension():null;this.setProperty("highlightText",t,true);if(a){a.updateAriaStateOfRowHighlight(this)}return this};g.prototype._getHighlightCSSClassName=function(){var t=this.getHighlight();if(t==null){t=s.None}return"sapUiTableRowHighlight"+t};g.prototype._getHighlightText=function(){var t=this.getHighlight();if(t===s.None){return""}var i=this.getHighlightText();if(t in s&&i===""){i=e.getResourceText("TBL_ROW_STATE_"+t.toUpperCase())}return i};g.prototype._getRow=function(){var t=this.getParent();if(e.isA(t,"sap.ui.table.Row")){return t}else{return null}};return g});
/*!
 * OpenUI5
 * (c) Copyright 2009-2022 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/table/Table",["sap/ui/Device","sap/ui/core/Control","sap/ui/core/util/PasteHelper","sap/ui/model/ChangeReason","sap/ui/model/Filter","sap/ui/model/Sorter","sap/ui/model/BindingMode","./Column","./Row","./library","./utils/TableUtils","./extensions/ExtensionBase","./extensions/Accessibility","./extensions/Keyboard","./extensions/Pointer","./extensions/Scrolling","./extensions/DragAndDrop","./TableRenderer","./rowmodes/FixedRowMode","./rowmodes/InteractiveRowMode","./rowmodes/AutoRowMode","./plugins/SelectionModelSelection","sap/ui/thirdparty/jquery","sap/base/Log"],function(e,t,i,o,n,r,s,a,l,u,d,p,h,g,c,f,y,m,w,b,v,C,R,_){"use strict";var S=u.GroupEventType;var x=u.NavigationMode;var T=u.SelectionMode;var A=u.SelectionBehavior;var I=u.SortOrder;var P=u.VisibleRowCountMode;var B=d.Hook.Keys.Table;var M=d.createWeakMapFacade();var F=t.extend("sap.ui.table.Table",{metadata:{library:"sap.ui.table",dnd:true,properties:{width:{type:"sap.ui.core.CSSSize",group:"Dimension",defaultValue:"auto"},rowHeight:{type:"int",group:"Appearance",defaultValue:null},columnHeaderHeight:{type:"int",group:"Appearance",defaultValue:null},columnHeaderVisible:{type:"boolean",group:"Appearance",defaultValue:true},visibleRowCount:{type:"int",group:"Appearance",defaultValue:10},firstVisibleRow:{type:"int",group:"Appearance",defaultValue:0},selectionMode:{type:"sap.ui.table.SelectionMode",group:"Behavior",defaultValue:T.MultiToggle},selectionBehavior:{type:"sap.ui.table.SelectionBehavior",group:"Behavior",defaultValue:A.RowSelector},selectedIndex:{type:"int",group:"Appearance",defaultValue:-1,deprecated:true},editable:{type:"boolean",group:"Behavior",defaultValue:true},navigationMode:{type:"sap.ui.table.NavigationMode",group:"Behavior",defaultValue:x.Scrollbar,deprecated:true},threshold:{type:"int",group:"Appearance",defaultValue:100},enableColumnReordering:{type:"boolean",group:"Behavior",defaultValue:true},enableGrouping:{type:"boolean",group:"Behavior",defaultValue:false},showColumnVisibilityMenu:{type:"boolean",group:"Appearance",defaultValue:false},showNoData:{type:"boolean",group:"Appearance",defaultValue:true},visibleRowCountMode:{type:"sap.ui.table.VisibleRowCountMode",group:"Appearance",defaultValue:P.Fixed},minAutoRowCount:{type:"int",group:"Appearance",defaultValue:5},fixedColumnCount:{type:"int",group:"Appearance",defaultValue:0},fixedRowCount:{type:"int",group:"Appearance",defaultValue:0},fixedBottomRowCount:{type:"int",group:"Appearance",defaultValue:0},enableColumnFreeze:{type:"boolean",group:"Behavior",defaultValue:false},enableCellFilter:{type:"boolean",group:"Behavior",defaultValue:false},showOverlay:{type:"boolean",group:"Appearance",defaultValue:false},enableSelectAll:{type:"boolean",group:"Behavior",defaultValue:true},enableCustomFilter:{type:"boolean",group:"Behavior",defaultValue:false},enableBusyIndicator:{type:"boolean",group:"Behavior",defaultValue:false},rowActionCount:{type:"int",group:"Appearance",defaultValue:0},alternateRowColors:{type:"boolean",group:"Appearance",defaultValue:false},rowCountConstraints:{type:"object",visibility:"hidden"}},defaultAggregation:"columns",aggregations:{title:{type:"sap.ui.core.Control",altTypes:["string"],multiple:false,deprecated:true},footer:{type:"sap.ui.core.Control",altTypes:["string"],multiple:false},toolbar:{type:"sap.ui.core.Toolbar",multiple:false,deprecated:true},extension:{type:"sap.ui.core.Control",multiple:true,singularName:"extension"},columns:{type:"sap.ui.table.Column",multiple:true,singularName:"column",bindable:"bindable",dnd:{layout:"Horizontal"}},rows:{type:"sap.ui.table.Row",multiple:true,singularName:"row",bindable:"bindable",selector:"#{id}-tableCCnt",dnd:true},rowMode:{type:"sap.ui.core.Element",multiple:false,visibility:"hidden"},creationRow:{type:"sap.ui.core.Control",multiple:false,visibility:"hidden"},noData:{type:"sap.ui.core.Control",altTypes:["string"],multiple:false},_noColumnsMessage:{type:"sap.ui.core.Control",multiple:false,visibility:"hidden"},rowActionTemplate:{type:"sap.ui.table.RowAction",multiple:false},rowSettingsTemplate:{type:"sap.ui.table.RowSettings",multiple:false},contextMenu:{type:"sap.ui.core.IContextMenu",multiple:false},plugins:{type:"sap.ui.table.plugins.SelectionPlugin",multiple:true,singularName:"plugin"},_messageStrip:{type:"sap.ui.core.Control",multiple:false,visibility:"hidden"},_hiddenDependents:{type:"sap.ui.core.Element",multiple:true,visibility:"hidden"}},associations:{groupBy:{type:"sap.ui.table.Column",multiple:false},ariaLabelledBy:{type:"sap.ui.core.Control",multiple:true,singularName:"ariaLabelledBy"}},events:{rowSelectionChange:{parameters:{rowIndex:{type:"int"},rowContext:{type:"sap.ui.model.Context"},rowIndices:{type:"int[]"},selectAll:{type:"boolean"},userInteraction:{type:"boolean"}}},columnSelect:{allowPreventDefault:true,parameters:{column:{type:"sap.ui.table.Column"}}},columnResize:{allowPreventDefault:true,parameters:{column:{type:"sap.ui.table.Column"},width:{type:"sap.ui.core.CSSSize"}}},columnMove:{allowPreventDefault:true,parameters:{column:{type:"sap.ui.table.Column"},newPos:{type:"int"}}},sort:{allowPreventDefault:true,parameters:{column:{type:"sap.ui.table.Column"},sortOrder:{type:"sap.ui.table.SortOrder"},columnAdded:{type:"boolean"}}},filter:{allowPreventDefault:true,parameters:{column:{type:"sap.ui.table.Column"},value:{type:"string"}}},group:{allowPreventDefault:true,parameters:{column:{type:"sap.ui.table.Column"}}},columnVisibility:{allowPreventDefault:true,parameters:{column:{type:"sap.ui.table.Column"},newVisible:{type:"boolean"}}},cellClick:{allowPreventDefault:true,parameters:{cellControl:{type:"sap.ui.core.Control"},cellDomRef:{type:"Object"},rowIndex:{type:"int"},columnIndex:{type:"int"},columnId:{type:"string"},rowBindingContext:{type:"sap.ui.model.Context"}}},cellContextmenu:{allowPreventDefault:true,parameters:{cellControl:{type:"sap.ui.core.Control"},cellDomRef:{type:"Object"},rowIndex:{type:"int"},columnIndex:{type:"int"},columnId:{type:"string"},rowBindingContext:{type:"sap.ui.model.Context"}},deprecated:true},beforeOpenContextMenu:{allowPreventDefault:true,parameters:{rowIndex:{type:"int"},columnIndex:{type:"int"},contextMenu:{type:"sap.ui.core.IContextMenu"}}},columnFreeze:{allowPreventDefault:true,parameters:{column:{type:"sap.ui.table.Column"}}},customFilter:{column:{type:"sap.ui.table.Column"},value:{type:"string"}},firstVisibleRowChanged:{firstVisibleRow:{type:"int"}},busyStateChanged:{busy:{type:"boolean"}},paste:{allowPreventDefault:true,parameters:{data:{type:"string[][]"}}},rowsUpdated:{}},designtime:"sap/ui/table/designtime/Table.designtime"},renderer:m});F.prototype.init=function(){this.mSkipPropagation={rowActionTemplate:true,rowSettingsTemplate:true};M(this).iCachedBindingLength=0;M(this).iFirstRenderedRowIndex=0;M(this).iComputedFixedColumnCount=null;this._attachExtensions();this._bRtlMode=sap.ui.getCore().getConfiguration().getRTL();this._bRowsBeingBound=false;this._bContextsAvailable=false;this._aRowClones=[];this._bRowAggregationInvalid=true;this._mTimeouts={};this._mAnimationFrames={};this._bHideStandardTooltips=false;this._aRowHeights=[];this._aSortedColumns=[];this._aTableHeaders=[];this._bAllowColumnHeaderTextSelection=false;M(this).iPendingRequests=0;this._iBindingLength=null;this._bFirstRendering=true;this._nDevicePixelRatio=window.devicePixelRatio;if(sap.ui.getCore().isThemeApplied()){d.readThemeParameters()}this._bInvalid=true};F.prototype.applySettings=function(e,i){if(e){var o=["rowMode","plugins"];var n={};for(var r=0;r<o.length;r++){var s=o[r];if(s in e){n[s]=e[s];delete e[s]}}if(Object.keys(n).length>0){t.prototype.applySettings.call(this,n,i)}}this._initLegacyRowMode();this._initLegacySelectionPlugin();t.prototype.applySettings.call(this,e,i)};F.prototype._attachExtensions=function(){if(this._bExtensionsInitialized){return}p.enrich(this,c);p.enrich(this,f);p.enrich(this,g);p.enrich(this,h);p.enrich(this,y);if(e.os.ios){sap.ui.require(["sap/ui/table/extensions/ScrollingIOS"],function(e){if(!this.bIsDestroyed){p.enrich(this,e)}}.bind(this))}this._bExtensionsInitialized=true};F.prototype.exit=function(){this.invalidateRowsAggregation();this._detachExtensions();this._cleanUpTimers();this._detachEvents();d.Menu.cleanupDefaultContentCellContextMenu(this);G(this);delete this._aTableHeaders};F.prototype._detachExtensions=function(){p.cleanup(this)};F.prototype.onpaste=function(e){if(e.isMarked()||/^(input|textarea)$/i.test(e.target.tagName)||!this.getDomRef("sapUiTableCnt").contains(e.target)){return}var t=i.getPastedDataAs2DArray(e.originalEvent);if(t.length===0||t[0].length===0){return}this.firePaste({data:t})};F.prototype.onThemeChanged=function(){d.readThemeParameters();if(this.getDomRef()){this.invalidate()}};F.prototype.onlocalizationChanged=function(e){var t=e.changes||{};var i=t.hasOwnProperty("rtl");var o=t.hasOwnProperty("language");this._adaptLocalization(i,o).then(function(){this.invalidate()}.bind(this)).catch(function(){})};F.prototype._adaptLocalization=function(e,t){if(!e&&!t){return Promise.reject()}var i=Promise.resolve();if(e){this._bRtlMode=sap.ui.getCore().getConfiguration().getRTL()}if(t){i=d.getResourceBundle({async:true,reload:true})}return i.then(function(){if(t){d.Menu.cleanupDefaultContentCellContextMenu(this);this._invalidateColumnMenus()}}.bind(this))};F.prototype._collectRowHeights=function(t){var i=this.getDomRef();if(!i){return[]}var o=this._getBaseRowHeight();var n=t?".sapUiTableColHdrTr":".sapUiTableTr";var r=i.querySelectorAll(".sapUiTableCtrlFixed > tbody > tr"+n);var s=i.querySelectorAll(".sapUiTableCtrlScroll > tbody > tr"+n);var a=t?d.getHeaderRowCount(this):this.getRows().length;var l=[];var u=e.browser.chrome&&window.devicePixelRatio!=1;if(t){if(this.getColumnHeaderHeight()>0){o=this.getColumnHeaderHeight()}else if(this.getRowMode()){o=this._getDefaultRowHeight()}}for(var p=0;p<a;p++){var h=r[p]?r[p].getBoundingClientRect().height:0;var g=s[p]?s[p].getBoundingClientRect().height:0;var c=Math.max(h,g);if(u){var f=o-c;if(f>0&&f<1){l.push(Math.max(c,o-1));continue}}l.push(Math.max(c,o))}if(l.length>0&&!t){d.dynamicCall(this._getSyncExtension,function(e){var t=e.syncRowHeights(l.slice());if(t&&t.length===l.length){l=t.slice()}})}return l};F.prototype._resetRowHeights=function(){var e=this._getBaseRowHeight();var t="";if(e){t=e+"px"}var i=this.getDomRef("tableCCnt");if(i){var o=i.querySelectorAll(".sapUiTableTr");for(var n=0;n<o.length;n++){o[n].style.height=t}}};F.prototype._resetColumnHeaderHeights=function(){var e=this.getDomRef();if(e){var t=e.querySelectorAll(".sapUiTableColHdrTr");for(var i=0;i<t.length;i++){t[i].style.height=null}}};F.prototype._collectTableSizes=function(){var e={tableCtrlScrollWidth:0,tableRowHdrScrWidth:0,tableCtrlScrWidth:0,tableCtrlFixedWidth:0,tableCntHeight:0,tableCntWidth:0};var t=this.getDomRef();if(!t){return e}var i=t.querySelector(".sapUiTableCnt");if(i){e.tableCntHeight=i.clientHeight;e.tableCntWidth=i.clientWidth}var o=t.querySelector(".sapUiTableCtrlScroll:not(.sapUiTableCHT)");if(o){e.tableCtrlScrollWidth=o.getBoundingClientRect().width}var n=t.querySelector(".sapUiTableRowHdrScr");if(n){e.tableRowHdrScrWidth=n.clientWidth}var r=t.querySelector(".sapUiTableCtrlScr:not(.sapUiTableCHA)");if(r){e.tableCtrlScrWidth=r.getBoundingClientRect().width}var s=t.querySelector(".sapUiTableCtrlScrFixed:not(.sapUiTableCHA) > .sapUiTableCtrlFixed");if(s){e.tableCtrlFixedWidth=s.clientWidth}var a=this._getSpanBasedComputedFixedColumnCount();var l=0;if(a){var u=this.getColumns();var p=t.querySelectorAll(".sapUiTableCtrlFirstCol:not(.sapUiTableCHTHR) > th");for(var h=0;h<p.length;h++){var g=parseInt(p[h].getAttribute("data-sap-ui-headcolindex"));if(!isNaN(g)&&g<a){var c=u[g];var f;if(c._iFixWidth!=null){f=c._iFixWidth}else{f=p[h].getBoundingClientRect().width}l+=f}}}if(l>0){var y=this._getScrollExtension();var m=e.tableRowHdrScrWidth;var w=y.getVerticalScrollbar();if(w&&!y.isVerticalScrollbarExternal()){m+=w.offsetWidth}if(d.hasRowActions(this)){var b=this.getDomRef("sapUiTableRowActionScr");if(b){m+=b.offsetWidth}}m+=d.Column.getMinColumnWidth();var v=e.tableCntWidth-m;var C=v>l;var R=!C;if(this._bIgnoreFixedColumnCount!==R){this._bIgnoreFixedColumnCount=R;if(this.getEnableColumnFreeze()){this._invalidateColumnMenus()}this.invalidate()}}return e};F.prototype._updateRowHeights=function(e,t){var i=this.getDomRef();if(!i){return}function o(t,i){var o=e[i];if(o){t.style.height=o+"px"}}var n=t?".sapUiTableColHdrTr":".sapUiTableTr";var r=t?[]:i.querySelectorAll(".sapUiTableRowSelectionCell");var s=t?[]:i.querySelectorAll(".sapUiTableRowActionCell");var a=i.querySelectorAll(".sapUiTableCtrlFixed > tbody > tr"+n);var l=i.querySelectorAll(".sapUiTableCtrlScroll > tbody > tr"+n);Array.prototype.forEach.call(r,o);Array.prototype.forEach.call(s,o);Array.prototype.forEach.call(a,o);Array.prototype.forEach.call(l,o)};F.prototype.onBeforeRendering=function(e){this._bInvalid=true;this._detachEvents();if(e&&e.isMarked("renderRows")){return}this._cleanUpTimers();this.getBinding();this._aTableHeaders=[]};F.prototype.onAfterRendering=function(e){var t=e&&e.isMarked("renderRows");this._bInvalid=false;this._attachEvents();this._initRowDomRefs();if(!this._bAllowColumnHeaderTextSelection&&!t){this._disableTextSelection(this.$().find(".sapUiTableCHA"))}this.getDomRef().classList.remove("sapUiTableRActFlexible");if(!t){this._aTableHeaders=this.$().find(".sapUiTableColHdrCnt th")}this._updateTableSizes(d.RowsUpdateReason.Render,true);this._adjustFirstVisibleRowToTotalRowCount();d.registerResizeHandler(this,"Table",this._onTableResize.bind(this));this._bFirstRendering=false};F.prototype.invalidate=function(){this._bInvalid=true;d.Column.invalidateColumnUtils(this);return t.prototype.invalidate.call(this)};F.prototype._initRowDomRefs=function(){var e=this.getRows();for(var t=0;t<e.length;t++){e[t].initDomRefs()}};F.prototype._updateTableSizes=function(e,t){t=t===true;var i=this.getDomRef();if(this._bInvalid||!i||!sap.ui.getCore().isThemeApplied()||i.offsetWidth===0){return}if(!t){this._resetRowHeights();this._resetColumnHeaderHeights()}this._aRowHeights=this._collectRowHeights(false);var o=this._collectRowHeights(true);function n(e){var t=e.getDomRef();var i=d.Column.getMinColumnWidth();var o=[];var n=e.getColumnHeaderVisible();function r(e,t){if(e<=t){return Math.max(e,t-5,i)+"px"}return-1}function s(s){var a=Math.max(s._minWidth||0,i,s.getMinWidth());var l=s.getWidth();var u;var p;var h;if(d.isVariableWidth(l)&&!d.isFixedColumn(e,s.getIndex())){u=t.querySelectorAll('th[data-sap-ui-colid="'+s.getId()+'"]');p=u[n?0:1];h=p?p.offsetWidth:null;if(h!==null){if(h<=a){return{headers:u,newWidth:r(h,a)}}else if(p&&p.style.width!=l){o.push({col:s,header:p,minWidth:a,headers:u});return{headers:u,newWidth:l}}o.push({col:s,header:p,minWidth:a,headers:u})}}return null}function a(e){if(e){Array.prototype.forEach.call(e.headers,function(t){t.style.width=e.newWidth})}}e._getVisibleColumns().map(s).forEach(a);if(o.length){var l;for(var u=0;u<o.length;u++){l=o[u].header&&o[u].header.offsetWidth;o[u].newWidth=r(l,o[u].minWidth);if(parseInt(o[u].newWidth)>=0){a(o[u])}}}}n(this);var r=this._collectTableSizes();this._updateRowHeights(this._aRowHeights,false);this._updateRowHeights(o,true);d.dynamicCall(this._getSyncExtension,function(e){e.syncLayout({top:this.getDomRef("sapUiTableCnt").offsetTop,headerHeight:this.getDomRef().querySelector(".sapUiTableColHdrCnt").getBoundingClientRect().height,contentHeight:this.getDomRef("tableCCnt").getBoundingClientRect().height})},this);var s=this.$();if(d.hasRowActions(this)||d.hasRowNavigationIndicators(this)){var a=s.hasClass("sapUiTableRActFlexible");var l=this.getDomRef("dummycolhdr");if(l){var u=this.getDomRef("header");var p=u.clientWidth;var h=this.getColumns().reduce(function(e,t){if(t.getDomRef()&&t.getIndex()>=this.getComputedFixedColumnCount()){return e+d.convertCSSSizeToPixel(t.getWidth())}return e}.bind(this),0);var g=p>h+1;if(!a&&g){var c=h+r.tableRowHdrScrWidth+r.tableCtrlFixedWidth;var f={};if(!d.hasRowActions(this)){c=c-d.ThemeParameters.navIndicatorWidth+d.BaseBorderWidth}f[this._bRtlMode?"right":"left"]=c;this.$("sapUiTableRowActionScr").css(f);this.$("rowacthdr").css(f);s.toggleClass("sapUiTableRActFlexible",true)}else if(a&&!g){this.$("sapUiTableRowActionScr").removeAttr("style");this.$("rowacthdr").removeAttr("style");s.toggleClass("sapUiTableRActFlexible",false)}}}s.find(".sapUiTableNoOpacity").addBack().removeClass("sapUiTableNoOpacity");d.Hook.call(this,B.UpdateSizes,e)};F.prototype.setShowOverlay=function(e){this.setProperty("showOverlay",e,true);if(this.getDomRef()){this.$().toggleClass("sapUiTableOverlay",this.getShowOverlay());this._getAccExtension().updateAriaStateForOverlayAndNoData();this._getKeyboardExtension().updateNoDataAndOverlayFocus()}return this};F.prototype._updateFixedBottomRows=function(){var e=this.getDomRef();if(!e||this._getRowCounts().fixedBottom===0){return}var t=d.getFirstFixedBottomRowIndex(this);var i=this.getRows();var o;R(e).find(".sapUiTableRowLastScrollable").removeClass("sapUiTableRowLastScrollable");R(e).find(".sapUiTableRowFirstFixedBottom").removeClass("sapUiTableRowFirstFixedBottom");if(t>=0&&t<i.length){o=i[t].getDomRefs(true);o.row.addClass("sapUiTableRowFirstFixedBottom",true)}if(t>=1&&t<i.length){o=i[t-1].getDomRefs(true);o.row.addClass("sapUiTableRowLastScrollable",true)}};F.prototype.focus=function(e){this._oFocusInfo=e;t.prototype.focus.apply(this,arguments);delete this._oFocusInfo};F.prototype.getFocusInfo=function(){var e=this.$().find(":focus").attr("id");if(e){return{customId:e}}else{return t.prototype.getFocusInfo.apply(this,arguments)}};F.prototype.applyFocusInfo=function(e){if(e&&e.customId){R(document.getElementById(e.customId)).trigger("focus")}else{t.prototype.applyFocusInfo.apply(this,arguments)}return this};F.prototype.setTitle=function(e){var t=e;if(typeof e==="string"||e instanceof String){t=u.TableHelper.createTextView({text:e});t.addStyleClass("sapUiTableHdrTitle")}this.setAggregation("title",t);return this};F.prototype.setFooter=function(e){var t=e;if(typeof e==="string"||e instanceof String){t=u.TableHelper.createTextView({text:e})}this.setAggregation("footer",t);return this};F.prototype.setSelectionMode=function(e){if(e===T.Multi){e=T.MultiToggle;_.warning("The selection mode 'Multi' is deprecated and must not be used anymore."+" Your setting was defaulted to selection mode 'MultiToggle'",this)}if(this._hasSelectionPlugin()){_.error("If a selection plugin is applied to the table, the selection mode is controlled by the plugin.",this)}else{this.setProperty("selectionMode",e);this._oLegacySelectionPlugin.setSelectionMode(e)}return this};F.prototype.setFirstVisibleRow=function(e){if(e==null){e=0}else if(e<0){_.error("The index of the first visible row must be greater than or equal to 0. The value has been set to 0.",this);e=0}else if(this._bContextsAvailable){var t=this._getMaxFirstVisibleRowIndex();if(t<e){_.warning("The index of the first visible row is too high. The value has been set to "+t+".",this);e=t}}this._setFirstVisibleRowIndex(e);return this};F.prototype._setFirstVisibleRowIndex=function(e,t){t=Object.assign({onScroll:false,suppressScrolling:false,suppressEvent:false,forceEvent:false,suppressRendering:false,onlySetProperty:false},t);if(this._bContextsAvailable){e=Math.min(e,this._getMaxFirstVisibleRowIndex())}e=Math.max(0,e);var i=this.getFirstVisibleRow()!==e;var o=this._getFirstRenderedRowIndex();var n=this._bContextsAvailable?Math.min(e,this._getMaxFirstRenderedRowIndex()):e;var r=this._getScrollExtension();this.setProperty("firstVisibleRow",e,true);if(!t.suppressRendering){M(this).iFirstRenderedRowIndex=n}if(t.onlySetProperty){return false}if((i||t.forceEvent)&&!t.suppressEvent){this.fireFirstVisibleRowChanged({firstVisibleRow:e})}if(!this.getBinding()){r.updateVerticalScrollPosition();return false}var s=false;var a=this.getBinding()!=null&&n!==o;if(a){if(!t.suppressRendering){z(this,t.onScroll?d.RowsUpdateReason.VerticalScroll:d.RowsUpdateReason.FirstVisibleRowChange);s=true}if(!t.onScroll&&!t.suppressScrolling){r.updateVerticalScrollPosition(s)}}else if(!t.onScroll&&!t.suppressScrolling){r.updateVerticalScrollPosition(!this._bContextsAvailable)}return s};F.prototype._setFocus=function(e,t){return new Promise(function(i){if(e===-1){e=this._getTotalRowCount()-1}if(typeof e!=="number"||e<-1){e=0}var o=this.getFirstVisibleRow();var n=this._getRowCounts().count;if(e>o&&e<o+n){this.getRows()[e-o]._setFocus(t);return i()}if(this._setFirstVisibleRowIndex(e)){this.attachEventOnce("rowsUpdated",function(){D(this,e,t);return i()})}else{D(this,e,t);return i()}}.bind(this))};function D(e,t,i){var o=e._getTotalRowCount();var n=e._getFirstRenderedRowIndex();e.getRows()[Math.min(t,o-1)-n]._setFocus(i)}F.getMetadata().getAggregation("rows")._doesNotRequireFactory=true;F.prototype.bindAggregation=function(e,i){if(e==="rows"){this._bindRows(E(Array.prototype.slice.call(arguments,1)));return this}return t.prototype.bindAggregation.apply(this,arguments)};F.prototype.bindRows=function(e){this._bindRows(E(arguments));return this};F.prototype._bindRows=function(e){V(this);this._bRowsBeingBound=true;W(this);k(this);F._addBindingListener(e,"change",function(){this._onBindingChange.apply(this,arguments)}.bind(this));F._addBindingListener(e,"dataRequested",function(){this._onBindingDataRequested.apply(this,arguments)}.bind(this));F._addBindingListener(e,"dataReceived",function(){this._onBindingDataReceived.apply(this,arguments)}.bind(this));d.Hook.call(this,B.BindRows,e);t.prototype.bindAggregation.call(this,"rows",e);this._bRowsBeingBound=false};F.prototype._bindAggregation=function(e,i){if(e==="rows"){V(this);this._bRowsBeingBound=true}t.prototype._bindAggregation.call(this,e,i);if(e==="rows"){d.Grouping.setupExperimentalGrouping(this);var o=this.getBinding();var n=o?o.getModel():null;this._bRowsBeingBound=false;d.Hook.call(this,B.RowsBound,o);if(n&&n.getDefaultBindingMode()===s.OneTime){_.error('The binding mode of the model is set to "OneTime".'+' This binding mode is not supported for the "rows" aggregation!'+" Scrolling can not be performed.",this)}}};F.prototype.unbindAggregation=function(e,i){if(e==="rows"){this._unbindRows();return this}return t.prototype.unbindAggregation.apply(this,arguments)};F.prototype.unbindRows=function(){this._unbindRows();return this};F.prototype._unbindRows=function(){var e=this.getBindingInfo("rows");if(e){d.Hook.call(this,B.UnbindRows,e)}t.prototype.unbindAggregation.call(this,"rows",true);if(this._bRowsBeingBound||this.bIsDestroyed||this._bIsBeingDestroyed){return}this._adjustToTotalRowCount();if(e){d.Hook.call(this,B.RowsUnbound)}V(this);k(this)};function V(e){e._bRowsBeingBound=false;e._bContextsAvailable=false;M(e).iPendingRequests=0;e._iBindingLength=null}function E(e){var t;if(e==null||e[0]==null){t={}}else if(typeof e[0]==="string"){var i=e[0];var o=e[1];var s=e[2];var a=e[3];if(o instanceof r||Array.isArray(s)&&s[0]instanceof n){a=s;s=o;o=undefined}t={path:i,sorter:s,filters:a,template:o}}else{t=e[0]}return t}F._addBindingListener=function(e,t,i,o){if(!e.events){e.events={}}var n=e.events[t];e.events[t]=function(){i.apply(o,arguments);if(n){n.apply(this,arguments)}}};F.prototype._onBindingChange=function(e){};F.prototype.setRowMode=function(e){this._destroyLegacyRowMode();this.setAggregation("rowMode",e);this._initLegacyRowMode()};F.prototype.getRowMode=function(){return this.getAggregation("rowMode")};F.prototype._getRowMode=function(){var e=this.getRowMode()||this._oLegacyRowMode;if(!e){this._initLegacyRowMode();e=this._oLegacyRowMode}return e};F.prototype._initLegacyRowMode=function(){if(this._oLegacyRowMode||this.getRowMode()){return}this._oLegacyRowMode=U(this);this.addAggregation("_hiddenDependents",this._oLegacyRowMode)};F.prototype._destroyLegacyRowMode=function(){if(this._oLegacyRowMode){this._oLegacyRowMode.destroy();delete this._oLegacyRowMode}};function U(e){var t;switch(e.getVisibleRowCountMode()){case P.Fixed:t=new w(true);break;case P.Interactive:t=new b(true);break;case P.Auto:t=new v(true);break;default:}return t}F.prototype._getRowCounts=function(){var e=this._getRowMode().getComputedRowCounts();var t=this._bVariableRowHeightEnabled&&!e.fixedTop&&!e.fixedBottom;e._fullsize=e.count;e._scrollSize=e.scrollable;if(e.count>0&&t){e.count++;e.scrollable++}return e};F.prototype.setVisibleRowCountMode=function(e){if(this.getRowMode()){_.warning('If the "rowMode" aggregation is set, setting the "visibleRowCountMode" has no effect');return this.setProperty("visibleRowCountMode",e,true)}var t=this.getVisibleRowCountMode();this.setProperty("visibleRowCountMode",e);var i=this.getVisibleRowCountMode();if(i!==t){this._destroyLegacyRowMode();this._initLegacyRowMode()}return this};F.prototype.setVisibleRowCount=function(e){var t=this.getVisibleRowCountMode();if(t==P.Auto){_.error("VisibleRowCount will be ignored since VisibleRowCountMode is set to Auto",this);return this}if(e!=null&&!isFinite(e)){return this}var i=this.getFixedRowCount()+this.getFixedBottomRowCount();if(e<=i&&i>0){_.error("Table: "+this.getId()+" visibleRowCount('"+e+"') must be bigger than number of"+" fixed rows('"+(this.getFixedRowCount()+this.getFixedBottomRowCount())+"')",this);return this}if(this.getRowMode()){_.warning('If the "rowMode" aggregation is set, setting the "visibleRowCount" has no effect');return this.setProperty("visibleRowCount",e,true)}e=this.validateProperty("visibleRowCount",e);this.setProperty("visibleRowCount",e);d.dynamicCall(this._getSyncExtension,function(t){t.syncRowCount(e)});return this};F.prototype.setMinAutoRowCount=function(e){if(parseInt(e)<1){_.error("The minAutoRowCount property must be greater than 0. The value has been set to 1.",this);e=1}if(this.getRowMode()){_.warning('If the "rowMode" aggregation is set, setting the "minAutoRowCount" has no effect');return this.setProperty("minAutoRowCount",e,true)}return this.setProperty("minAutoRowCount",e)};F.prototype.setTooltip=function(e){_.warning("The aggregation tooltip is not supported for sap.ui.table.Table",this);return this.setAggregation("tooltip",e,true)};F.prototype.setNavigationMode=function(){this.setProperty("navigationMode",x.Scrollbar,true);_.error("The navigationMode property is deprecated and must not be used anymore. Your setting was defaulted to 'Scrollbar'",this);return this};F.prototype._getRowContexts=function(e){var t=this.getBinding();var i=this._getRowCounts();var o=this.getThreshold();e=e==null?i.count:e;if(o!==0){o=Math.max(e-i.fixedTop-i.fixedBottom,o)}e=Math.max(e,this._getRowMode().getMinRequestLength(),0);if(!t||e===0){return[]}var n=this._getFirstRenderedRowIndex();var r=[];if(i.fixedTop>0&&n>0){H(r,this._getFixedTopRowContexts(),0);H(r,this._getContexts(n+i.fixedTop,e-i.fixedBottom-i.fixedTop,o),i.fixedTop)}else{H(r,this._getContexts(n,e-i.fixedBottom,o),0)}if(i.fixedBottom>0){H(r,this._getFixedBottomRowContexts(),Math.min(i.fixedTop+i.scrollable,Math.max(this._getTotalRowCount()-i.fixedBottom,0)))}return r};function H(e,t,i){for(var o=0;o<t.length;o++){e[i+o]=t[o]}}F.prototype._getFixedTopRowContexts=function(){var e=this._getRowCounts();return e.fixedTop>0?this._getContexts(0,e.fixedTop,0,true):[]};F.prototype._getFixedBottomRowContexts=function(){var e=this._getRowCounts();var t=N(this,true);if(e.fixedBottom>0&&e.count-e.fixedBottom<t){return this._getContexts(t-e.fixedBottom,e.fixedBottom,0,true)}else{return[]}};F.prototype._getContexts=function(e,t,i,o){var n=this.getBinding();return n?n.getContexts(e,t,i,o):[]};F.prototype._adjustToTotalRowCount=function(){var e=this._getTotalRowCount();if(this._iBindingLength!==e){this._iBindingLength=e;this._updateFixedBottomRows();this._adjustFirstVisibleRowToTotalRowCount();d.Hook.call(this,B.TotalRowCountChanged)}};F.prototype._adjustFirstVisibleRowToTotalRowCount=function(){var e=this.getFirstVisibleRow();var t=this._getMaxFirstVisibleRowIndex();if(t<e&&this._bContextsAvailable){this._setFirstVisibleRowIndex(t,{onlySetProperty:true})}};F.prototype.refreshRows=function(e){this._bContextsAvailable=false;if(e===o.Sort||e===o.Filter){this.setFirstVisibleRow(0)}d.Hook.call(this,B.RefreshRows,e||d.RowsUpdateReason.Unknown)};F.prototype.updateRows=function(e,t){if(this.bIsDestroyed||this._bIsBeingDestroyed){return}if(t.detailedReason==="AddVirtualContext"){L(this);return}else if(t.detailedReason==="RemoveVirtualContext"){W(this);return}this._bContextsAvailable=true;if(e===o.Sort||e===o.Filter){this.setFirstVisibleRow(0)}this._adjustToTotalRowCount();z(this,e)};function L(e){var t=e._getRowContexts(null,true)[0];W(e);e._oVirtualRow=e._getRowClone("virtual");e._oVirtualRow.setBindingContext(t,e.getBindingInfo("rows").model);e.addAggregation("_hiddenDependents",e._oVirtualRow)}function W(e){if(e._oVirtualRow){e._oVirtualRow.destroy();delete e._oVirtualRow}}function z(e,t){if(e._bContextsAvailable){d.Hook.call(e,B.UpdateRows,t||d.RowsUpdateReason.Unknown)}}F.prototype.insertRow=function(){_.error('The control manages the rows aggregation. The method "insertRow" cannot be used programmatically!',this);return this};F.prototype.addRow=function(){_.error('The control manages the rows aggregation. The method "addRow" cannot be used programmatically!',this);return this};F.prototype.removeRow=function(){_.error('The control manages the rows aggregation. The method "removeRow" cannot be used programmatically!',this);return null};F.prototype.removeAllRows=function(){_.error('The control manages the rows aggregation. The method "removeAllRows" cannot be used programmatically!',this);return[]};F.prototype.destroyRows=function(){_.error('The control manages the rows aggregation. The method "destroyRows" cannot be used programmatically!',this);return this};F.prototype.setCreationRow=function(e){if(!d.isA(e,"sap.ui.table.CreationRow")){e=null}return this.setAggregation("creationRow",e)};F.prototype.getCreationRow=function(){return this.getAggregation("creationRow")};F.prototype.autoResizeColumn=function(e){this._getPointerExtension().doAutoResizeColumn(e)};F.prototype._attachEvents=function(){var t=this.$();var i=this.getId();if(sap.ui.getCore().getConfiguration().getAnimation()){R(document.body).on("webkitTransitionEnd."+i+" transitionend."+i,function(e){if(R(e.target).has(t).length>0){this._updateTableSizes(d.RowsUpdateReason.Animation)}}.bind(this))}e.resize.attachHandler(this._onWindowResize,this);p.attachEvents(this)};F.prototype._detachEvents=function(){var t=this.getId();R(document.body).off("webkitTransitionEnd."+t+" transitionend."+t);d.deregisterResizeHandler(this,"Table");e.resize.detachHandler(this._onWindowResize,this);p.detachEvents(this)};F.prototype._cleanUpTimers=function(){var e;for(e in this._mTimeouts){if(this._mTimeouts[e]){window.clearTimeout(this._mTimeouts[e]);delete this._mTimeouts[e]}}for(e in this._mAnimationFrames){if(this._mAnimationFrames[e]){window.cancelAnimationFrame(this._mAnimationFrames[e]);delete this._mAnimationFrames[e]}}};function O(e){var t=e.getDomRef();if(t){e.getDomRef().classList.toggle("sapUiTableEmpty",d.isNoDataVisible(e));e._getAccExtension().updateAriaStateForOverlayAndNoData();e._getKeyboardExtension().updateNoDataAndOverlayFocus()}}F.prototype.removeColumn=function(e){e=this.removeAggregation("columns",e);if(e===null){return e}if(!this._bReorderInProcess){var t=this._aSortedColumns.indexOf(e);if(t>=0){this._aSortedColumns.splice(t,1)}}q(this);return e};F.prototype.removeAllColumns=function(){var e=this.removeAllAggregation("columns");this._aSortedColumns=[];q(this);return e};F.prototype.destroyColumns=function(){var e=this.destroyAggregation("columns");this._aSortedColumns=[];q(this);return e};F.prototype.addColumn=function(e){this.addAggregation("columns",e);q(this);return this};F.prototype.insertColumn=function(e,t){this.insertAggregation("columns",e,t);q(this);return this};function q(e){e.invalidateRowsAggregation();e._invalidateComputedFixedColumnCount();var t=e.getCreationRow();if(t){t._update()}}F.prototype._getTotalRowCount=function(){return N(this)};function N(e,t){var i=e.getBinding();var o=e.getBindingInfo("rows");if(!i){return 0}if(o.length!=null){return o.length}if(t===true){return i.getLength()}if(!e._bContextsAvailable){return M(e).iCachedBindingLength}M(e).iCachedBindingLength=i.getLength();return M(e).iCachedBindingLength}F.prototype._getMaxFirstVisibleRowIndex=function(){var e;if(d.isVariableRowHeightEnabled(this)){e=this._getTotalRowCount()-1}else{e=this._getTotalRowCount()-this._getRowCounts().count}return Math.max(0,e)};F.prototype._getMaxFirstRenderedRowIndex=function(){var e=this._getTotalRowCount()-this._getRowCounts().count;return Math.max(0,e)};F.prototype._getFirstRenderedRowIndex=function(){return M(this).iFirstRenderedRowIndex};F.prototype._getVisibleColumns=function(){var e=[];var t=this.getColumns();for(var i=0,o=t.length;i<o;i++){if(t[i].shouldRender()){e.push(t[i])}}return e};F.prototype._getColumnsWidth=function(e,t){var i=this.getColumns();var o=0;if(e!==0&&!e){e=0}if(t!==0&&!t){t=i.length}for(var n=e,r=t;n<r;n++){if(i[n]&&i[n].shouldRender()){var s=d.convertCSSSizeToPixel(i[n].getWidth());if(s==null){s=d.Column.getMinColumnWidth()}o+=s}}return o};F.prototype._onTableResize=function(e){var t=e.oldSize.width;var i=e.size.width;if(this._bInvalid||!this.getDomRef()||t===i){return}this._updateTableSizes(d.RowsUpdateReason.Resize)};F.prototype._onWindowResize=function(){if(this._bInvalid||!this.getDomRef()){return}if(e.browser.chrome&&window.devicePixelRatio!==this._nDevicePixelRatio){this._nDevicePixelRatio=window.devicePixelRatio;this._updateTableSizes(d.RowsUpdateReason.Zoom);this._adjustOutlineOffset()}};F.prototype._adjustOutlineOffset=function(){if(window.devicePixelRatio<1){this.addStyleClass("sapUiTableZoomout")}else{this.removeStyleClass("sapUiTableZoomout")}};F.prototype._disableTextSelection=function(e){R(e||document.body).attr("unselectable","on").css({"-moz-user-select":"none","-webkit-user-select":"none","user-select":"none"}).on("selectstart",function(e){e.preventDefault();return false})};F.prototype._enableTextSelection=function(e){R(e||document.body).attr("unselectable","off").css({"-moz-user-select":"","-webkit-user-select":"","user-select":""}).off("selectstart")};F.prototype._findAndfireCellEvent=function(e,t,i){var o=R(t.target);var n=o.closest(".sapUiTableDataCell");var r=n.attr("id");var s=/.*-row(\d*)-col(\d*)/i.exec(r);var l=false;if(s){var u=s[1];var d=s[2];var p=this.getRows()[u];var h=p&&p.getCells()[d];var g=p&&p.getIndex();var c=a.ofCell(h).getId();var f=p.getRowBindingContext();var y={rowIndex:g,columnIndex:d,columnId:c,cellControl:h,rowBindingContext:f,cellDomRef:n.get(0)};l=!e.call(this,y);if(!l&&typeof i==="function"){y.cellDomRef=n[0];l=i.call(this,y)}}return l};F.prototype.getFocusDomRef=function(){this._getKeyboardExtension().initItemNavigation();if(this.getShowOverlay()){return this.getDomRef("overlay")}if(d.isNoDataVisible(this)){return this.getDomRef("noDataCnt")}var e=this._oFocusInfo&&this._oFocusInfo.targetInfo&&d.isA(this._oFocusInfo.targetInfo,"sap.ui.core.message.Message");if(e&&this.getColumnHeaderVisible()){var i=this._getVisibleColumns()[0];if(i){return i.getDomRef()}}var o=d.getFocusedItemInfo(this);if(o&&o.domRef){return o.domRef}return t.prototype.getFocusDomRef.apply(this,arguments)};F.prototype.pushSortedColumn=function(e,t){if(!t){this._aSortedColumns=[]}if(this._aSortedColumns.indexOf(e)===-1){this._aSortedColumns.push(e)}};F.prototype.getSortedColumns=function(){return this._aSortedColumns.slice()};F.prototype.sort=function(e,t,i){if(!e){for(var o=0;o<this._aSortedColumns.length;o++){this._aSortedColumns[o].setSorted(false)}var n=this.getBinding();if(n){n.sort()}this._aSortedColumns=[]}if(this.getColumns().indexOf(e)>=0){e.sort(t===I.Descending,i)}};F.prototype.filter=function(e,t){if(this.getColumns().indexOf(e)>=0){if(t==null){t=""}else if(typeof t!=="string"){throw new Error("The filter value is not a string")}e.filter(t)}};F.prototype._updateSelection=function(){var e=this.getSelectionMode();if(e===T.None){return}var t=this._getSelectionPlugin().getRenderConfig();var i;var o;var n=this.$("selall");var r=this.getRows();for(var s=0;s<r.length;s++){var a=r[s];a._updateSelection()}if(!t.headerSelector.visible){return}if(t.headerSelector.type==="toggle"){var l=d.areAllRowsSelected(this);n.toggleClass("sapUiTableSelAll",!l);this._getAccExtension().setSelectAllState(l);i=l?"TBL_DESELECT_ALL":"TBL_SELECT_ALL"}else if(t.headerSelector.type==="clear"){n.toggleClass("sapUiTableSelAllDisabled",!t.headerSelector.enabled);i="TBL_DESELECT_ALL";if(t.headerSelector.enabled){n.removeAttr("aria-disabled")}else{n.attr("aria-disabled","true")}}if(i){o=d.getResourceText(i);if(this._getShowStandardTooltips()){n.attr("title",o)}else if(t.headerSelector.type==="toggle"){this.getDomRef("ariaselectall").innerText=o}}};F.prototype._getShowStandardTooltips=function(){return!this._bHideStandardTooltips};F.prototype._onSelectionChanged=function(e){var t=this._getSelectionPlugin();var i=e.getParameter("rowIndices");var o=e.getParameter("selectAll");var n=this._iSourceRowIndex!==undefined?this._iSourceRowIndex:t.getSelectedIndex();this._updateSelection();if(!this._hasSelectionPlugin()){this.setProperty("selectedIndex",t.getSelectedIndex(),true);this.fireRowSelectionChange({rowIndex:n,rowContext:this.getContextByIndex(n),rowIndices:i,selectAll:o,userInteraction:this._iSourceRowIndex!==undefined})}};F.prototype.getContextByIndex=function(e){var t=this.getBinding();return e>=0&&t?t.getContexts(e,1,0,true)[0]:null};F.prototype.getSelectedIndex=function(){if(this._hasSelectionPlugin()){throw new Error("Unsupported operation: sap.ui.table.Table#getSelectedIndex must not be called if a selection plugin is applied.")}return this._getSelectionPlugin().getSelectedIndex()};F.prototype.setSelectedIndex=function(e){if(this._hasSelectionPlugin()){throw new Error("Unsupported operation: sap.ui.table.Table#setSelectedIndex must not be called if a selection plugin is applied.")}this._getSelectionPlugin().setSelectedIndex(e);return this};F.prototype.clearSelection=function(){if(this._hasSelectionPlugin()){throw new Error("Unsupported operation: sap.ui.table.Table#clearSelection must not be called if a selection plugin is applied.")}this._getSelectionPlugin().clearSelection();return this};F.prototype.selectAll=function(){if(this._hasSelectionPlugin()){throw new Error("Unsupported operation: sap.ui.table.Table#selectAll must not be called if a selection plugin is applied.")}if(d.hasSelectAll(this)){this._getSelectionPlugin().selectAll()}return this};F.prototype.getSelectedIndices=function(){if(this._hasSelectionPlugin()){throw new Error("Unsupported operation: sap.ui.table.Table#getSelectedIndices must not be called if a selection plugin is applied.")}return this._getSelectionPlugin().getSelectedIndices()};F.prototype.addSelectionInterval=function(e,t){if(this._hasSelectionPlugin()){throw new Error("Unsupported operation: sap.ui.table.Table#addSelectionInterval must not be called if a selection plugin is applied.")}this._getSelectionPlugin().addSelectionInterval(e,t);return this};F.prototype.setSelectionInterval=function(e,t){if(this._hasSelectionPlugin()){throw new Error("Unsupported operation: sap.ui.table.Table#setSelectionInterval must not be called if a selection plugin is applied.")}this._getSelectionPlugin().setSelectionInterval(e,t);return this};F.prototype.removeSelectionInterval=function(e,t){if(this._hasSelectionPlugin()){throw new Error("Unsupported operation: sap.ui.table.Table#removeSelectionInterval must not be called if a selection plugin is applied.")}this._getSelectionPlugin().removeSelectionInterval(e,t);return this};F.prototype.isIndexSelected=function(e){if(this._hasSelectionPlugin()){throw new Error("Unsupported operation: sap.ui.table.Table#isIndexSelected must not be called if a selection plugin is applied.")}return this._getSelectionPlugin().isIndexSelected(e)};F.prototype.setGroupBy=function(e){var t=e;var i=sap.ui.getCore().byId(this.getGroupBy());if(typeof t==="string"){t=sap.ui.getCore().byId(t)}var o=false;if(t instanceof a&&t!==i){if(this.getColumns().indexOf(t)===-1){throw new Error("Column has to be part of the columns aggregation!")}var n=this.fireGroup({column:t,groupedColumns:[t.getId()],type:S.group});if(i){i.setGrouped(false);o=true}if(n&&this.getEnableGrouping()){t.setGrouped(true)}}if(!t||o){if(i){i.setGrouped(false)}d.Grouping.resetExperimentalGrouping(this)}this.setAssociation("groupBy",t);d.Grouping.setupExperimentalGrouping(this);return this};F.prototype.getBinding=function(e){return t.prototype.getBinding.call(this,e==null?"rows":e)};F.prototype.setEnableGrouping=function(e){var t=sap.ui.getCore().byId(this.getGroupBy());this.setProperty("enableGrouping",e);if(t){t.setGrouped(e)}if(e){d.Grouping.setupExperimentalGrouping(this)}else{d.Grouping.resetExperimentalGrouping(this)}this._invalidateColumnMenus();return this};F.prototype.setEnableCustomFilter=function(e){this.setProperty("enableCustomFilter",e);this._invalidateColumnMenus();return this};F.prototype.setEnableColumnFreeze=function(e){this.setProperty("enableColumnFreeze",e);this._invalidateColumnMenus();return this};F.prototype.setShowColumnVisibilityMenu=function(e){this.setProperty("showColumnVisibilityMenu",e);this._invalidateColumnMenus();return this};F.prototype.getComputedFixedColumnCount=function(){if(this._bIgnoreFixedColumnCount){return 0}return this._getSpanBasedComputedFixedColumnCount()};F.prototype._getSpanBasedComputedFixedColumnCount=function(){if(M(this).iComputedFixedColumnCount===null){var e=this.getColumns();var t;var i=this.getFixedColumnCount();for(var o=i-1;o>=0;o--){t=e[o];if(t){i=Math.max(i,t.getIndex()+d.Column.getHeaderSpan(t));break}}M(this).iComputedFixedColumnCount=Math.min(i,e.length)}return M(this).iComputedFixedColumnCount};F.prototype.setFixedColumnCount=function(e){this.setProperty("fixedColumnCount",e);this._invalidateComputedFixedColumnCount();var t=this.getColumns();var i;var o=this.$().find(".sapUiTableCtrlFirstCol > th");for(var n=this._getSpanBasedComputedFixedColumnCount()-1;n>=0;n--){i=t[n];if(i&&d.isVariableWidth(i.getWidth())){i._iFixWidth=o.filter("[data-sap-ui-headcolindex='"+i.getIndex()+"']").width()}}this._collectTableSizes();if(this.getEnableColumnFreeze()){this._invalidateColumnMenus()}return this};F.prototype.setFixedRowCount=function(e){if(!(parseInt(e)>=0)){_.error("Number of fixed rows must be greater or equal 0",this);return this}if(e+this.getFixedBottomRowCount()>=this.getVisibleRowCount()){_.error("Table '"+this.getId()+"' fixed rows('"+(e+this.getFixedBottomRowCount())+"') must be smaller than"+" numberOfVisibleRows('"+this.getVisibleRowCount()+"')",this);return this}if(this.getRowMode()){_.warning('If the "rowMode" aggregation is set, setting the "fixedRowCount" has no effect');return this.setProperty("fixedRowCount",e,true)}return this.setProperty("fixedRowCount",e)};F.prototype.setFixedBottomRowCount=function(e){if(!(parseInt(e)>=0)){_.error("Number of fixed bottom rows must be greater or equal 0",this);return this}if(e+this.getFixedRowCount()>=this.getVisibleRowCount()){_.error("Table '"+this.getId()+"' fixed rows('"+(e+this.getFixedRowCount())+"') must be smaller than"+" numberOfVisibleRows('"+this.getVisibleRowCount()+"')",this);return this}if(this.getRowMode()){_.warning('If the "rowMode" aggregation is set, setting the "iFixedBottomRowCount" has no effect');return this.setProperty("fixedBottomRowCount",e,true)}return this.setProperty("fixedBottomRowCount",e)};F.prototype.setThreshold=function(e){this.setProperty("threshold",e,true);return this};F.prototype._invalidateColumnMenus=function(){var e=this.getColumns();for(var t=0,i=e.length;t<i;t++){e[t]._invalidateMenu()}};F.prototype._isTouchEvent=function(e){return!!(e&&e.originalEvent&&e.originalEvent.touches)};F.prototype._getRowClone=function(e){var t=typeof e==="number";var i=t;var o=i?this._aRowClones[e]:null;if(o&&!o.bIsDestroyed){return o}o=new l(this.getId()+"-rows"+"-row"+(t?e:"-"+e));if(i){this._aRowClones[e]=o}var n=this.getColumns();for(var r=0,s=n.length;r<s;r++){if(n[r].getVisible()){var a=n[r].getTemplateClone(r);if(a){o.addCell(a)}}}if(d.hasRowActions(this)){var u=this.getRowActionTemplate().clone();o.setAggregation("_rowAction",u,true)}var p=this.getRowSettingsTemplate();if(p){var h=p.clone();o.setAggregation("_settings",h,true)}return o};F.prototype.invalidateRowsAggregation=function(){this._bRowAggregationInvalid=true};F.prototype._invalidateComputedFixedColumnCount=function(){M(this).iComputedFixedColumnCount=null};F.prototype._getBaseRowHeight=function(){var e=this._getRowMode().getBaseRowContentHeight();if(e>0){return e+d.RowHorizontalFrameSize}else{return this._getDefaultRowHeight()}};F.prototype._getDefaultRowHeight=function(){var e=d.getContentDensity(this);return d.DefaultRowHeight[e]};F.prototype._getDefaultRowContentHeight=function(){var e=d.getContentDensity(this);return d.BaseSize[e]};F.prototype.setNoData=function(e){var t=d.getNoDataText(this);this.setAggregation("noData",e,true);var i=d.getNoDataText(this);if(d.isA(e,"sap.m.IllustratedMessage")){var o=this.getAggregation("_noColumnsMessage");if(!o){sap.ui.require(["sap/m/table/Util"],function(e){o=e.getNoColumnsIllustratedMessage();this.setAggregation("_noColumnsMessage",o)}.bind(this))}}if(t!=null&&i!=null){if(t!==i){this.$("noDataMsg").text(i)}}else{this.invalidate()}return this};F.prototype.exportData=function(e){var t=sap.ui.requireSync("sap/ui/core/util/Export");e=e||{};if(!e.rows){var i=this.getBinding(),o=this.getBindingInfo("rows");var n=i.aFilters.concat(i.aApplicationFilters);e.rows={path:o.path,model:o.model,sorter:i.aSorters,filters:n,parameters:o.parameters}}if(!e.exportType){var r=sap.ui.requireSync("sap/ui/core/util/ExportTypeCSV");e.exportType=new r}var s=e.rows.model;if(!s){var a=e.rows.path;var l=a.indexOf(">");if(l>0){s=a.substr(0,l)}}if(!e.columns){e.columns=[];var u=this.getColumns();for(var d=0,p=u.length;d<p;d++){var h=u[d];if(h.getSortProperty()){e.columns.push({name:h.getLabel().getText(),template:{content:{path:h.getSortProperty(),model:s}}})}}}var g=new t(e);this.addDependent(g);return g};F.prototype._onPersoApplied=function(){var e=this.getColumns();var t=[];for(var i=0,o=e.length;i<o;i++){var n=e[i];if(n.getSorted()){t.push(new r(n.getSortProperty(),n.getSortOrder()===I.Descending))}}var s=this.getBinding();if(s){if(t.length>0){s.sort(t)}}};F.prototype._toggleSelectAll=function(){if(!d.hasData(this)||this.getSelectionMode()!==T.MultiToggle){return}var e=this._getSelectionPlugin();if(d.areAllRowsSelected(this)){this._iSourceRowIndex=-1;e.clearSelection()}else{this._iSourceRowIndex=0;e.selectAll()}this._iSourceRowIndex=undefined};F.prototype.setBusy=function(e){var i=this.getBusy();var o=t.prototype.setBusy.call(this,e,"sapUiTableGridCnt");var n=this.getBusy();if(i!==n){this.fireBusyStateChanged({busy:n})}return o};F.prototype.setEnableBusyIndicator=function(e){this.setProperty("enableBusyIndicator",e,true);if(this.getEnableBusyIndicator()){k(this)}else{this.setBusy(false);G(this)}return this};F.prototype._onBindingDataRequested=function(){M(this).iPendingRequests++;k(this)};F.prototype._onBindingDataReceived=function(){M(this).iPendingRequests--;k(this)};F.prototype._hasPendingRequests=function(){return M(this).iPendingRequests>0};function k(e){if(!e.getEnableBusyIndicator()){return}G(e);if(e._hasPendingRequests()){e.setBusy(true)}else{M(e).hideBusyIndicatorTimeoutId=setTimeout(function(){e.setBusy(false);G(e)},0)}}function G(e){clearTimeout(M(e).hideBusyIndicatorTimeoutId);delete M(e).hideBusyIndicatorTimeoutId}F.prototype._setLargeDataScrolling=function(e){this._bLargeDataScrolling=!!e};F.prototype.setRowActionTemplate=function(e){this.setAggregation("rowActionTemplate",e);this.invalidateRowsAggregation();return this};F.prototype.setRowActionCount=function(e){if(typeof e==="number"){e=Math.max(0,Math.min(e,2))}return this.setProperty("rowActionCount",e)};F.prototype.setRowSettingsTemplate=function(e){this.setAggregation("rowSettingsTemplate",e);this.invalidateRowsAggregation();return this};F.prototype.addPlugin=function(e){this.addAggregation("plugins",e);if(d.isA(e,"sap.ui.table.plugins.SelectionPlugin")){this._initSelectionPlugin()}return this};F.prototype.insertPlugin=function(e,t){this.insertAggregation("plugins",e,t);if(d.isA(e,"sap.ui.table.plugins.SelectionPlugin")){this._initSelectionPlugin()}return this};F.prototype.removePlugin=function(e){var t=this.removeAggregation("plugins",e);if(d.isA(t,"sap.ui.table.plugins.SelectionPlugin")){this._initSelectionPlugin()}return t};F.prototype.removeAllPlugins=function(){var e=this.removeAllAggregation("plugins");this._initSelectionPlugin();return e};F.prototype.destroyPlugins=function(){this.destroyAggregation("plugins");this._initSelectionPlugin();return this};F.prototype.getPlugin=function(e){if(typeof e!=="string"){return null}var t=this.getPlugins();for(var i=0;i<t.length;i++){if(t[i].isA(e)){return t[i]}}return null};F.prototype._getSelectionPlugin=function(){var e=this._oSelectionPlugin||this._oLegacySelectionPlugin;if(!e){this._initLegacySelectionPlugin();e=this._oLegacySelectionPlugin}if(typeof this._getSelectedIndicesCount==="function"&&e.getSelectedCount!==this._getSelectedIndicesCount){e.getSelectedCount=this._getSelectedIndicesCount;["isIndexSelected","setSelectedIndex","getSelectedIndex","getSelectedIndices","setSelectionInterval","addSelectionInterval","removeSelectionInterval","selectAll","clearSelection"].forEach(function(t){e[t]=this[t]}.bind(this))}return e};F.prototype._hasSelectionPlugin=function(){return this._oSelectionPlugin!=null};F.prototype._initSelectionPlugin=function(){var e=this.getPlugin("sap.ui.table.plugins.SelectionPlugin");if(e){this._destroyLegacySelectionPlugin();if(e!==this._oSelectionPlugin){$(this,this._oSelectionPlugin);j(this,e);this._oSelectionPlugin=e}}else{this._initLegacySelectionPlugin();$(this,this._oSelectionPlugin);delete this._oSelectionPlugin}};F.prototype._initLegacySelectionPlugin=function(){if(this._oLegacySelectionPlugin||this.getPlugin("sap.ui.table.plugins.SelectionPlugin")){return}this._oLegacySelectionPlugin=this._createLegacySelectionPlugin();this.addAggregation("_hiddenDependents",this._oLegacySelectionPlugin);j(this,this._oLegacySelectionPlugin)};F.prototype._destroyLegacySelectionPlugin=function(){if(this._oLegacySelectionPlugin){this._oLegacySelectionPlugin.destroy();delete this._oLegacySelectionPlugin}};F.prototype._createLegacySelectionPlugin=function(){return new C};function j(e,t){if(t&&t.getMetadata().hasEvent("selectionChange")){t.attachSelectionChange(e._onSelectionChanged,e)}}function $(e,t){if(t&&t.getMetadata().hasEvent("selectionChange")){t.detachSelectionChange(e._onSelectionChanged,e)}}F.prototype.insertAggregation=function(e,i,o,n){if(e==="_hiddenDependents"){return t.prototype.insertAggregation.call(this,e,i,o,true)}return t.prototype.insertAggregation.apply(this,arguments)};F.prototype.addAggregation=function(e,i,o){if(e==="_hiddenDependents"){return t.prototype.addAggregation.call(this,e,i,true)}return t.prototype.addAggregation.apply(this,arguments)};F.prototype.removeAggregation=function(e,i,o){if(e==="_hiddenDependents"){return t.prototype.removeAggregation.call(this,e,i,true)}return t.prototype.removeAggregation.apply(this,arguments)};F.prototype.removeAllAggregation=function(e,i){if(e==="_hiddenDependents"){return t.prototype.removeAllAggregation.call(this,e,true)}return t.prototype.removeAllAggregation.apply(this,arguments)};F.prototype.destroyAggregation=function(e,i){if(e==="_hiddenDependents"){return t.prototype.destroyAggregation.call(this,e,true)}t.prototype.destroyAggregation.apply(this,arguments);if(e==="rows"){this._aRowClones.forEach(function(e){e.destroy()});this._aRowClones=[]}return this};F.prototype.getCellControl=function(e,t,i){var o=d.getRowColCell(this,e,t,!i);return o.cell};F.prototype._fireRowsUpdated=function(e){var t={reason:e||d.RowsUpdateReason.Unknown};this.onRowsUpdated(t);clearTimeout(this._mTimeouts.fireRowsUpdated);this._mTimeouts.fireRowsUpdated=setTimeout(function(){this.onRowsContentUpdated(t);this.fireEvent("_rowsUpdated",t);this.fireRowsUpdated()}.bind(this),0)};F.prototype.onRowsUpdated=function(e){d.Grouping.updateGroups(this);this._getAccExtension()._updateAriaRowIndices();this._updateSelection();O(this);this.getRows().forEach(function(e){e.getCells().forEach(function(t){var i=a.ofCell(t);var o=i._getCellContentVisibilitySettings();var n=e.getDomRefs(true).row.find('td[data-sap-ui-colid="'+i.getId()+'"]');var r=true;if(!n){return}if(e.isGroupHeader()){if(!e.isExpandable()){r=o.groupHeader.nonExpandable}else if(e.isExpanded()){r=o.groupHeader.expanded}else{r=o.groupHeader.collapsed}}else if(e.isTotalSummary()){r=o.summary.total}else if(e.isGroupSummary()){r=o.summary.group}else{r=o.standard}n.toggleClass("sapUiTableCellHidden",!r)})})};F.prototype.onRowsContentUpdated=function(e){if(this.getRows().length>0){this._resetRowHeights();this._aRowHeights=this._collectRowHeights(false);this._updateRowHeights(this._aRowHeights,false);this._getAccExtension().updateAccForCurrentCell(e.reason)}};F.prototype._enableSynchronization=function(){var e=this;return new Promise(function(t,i){sap.ui.require(["sap/ui/table/extensions/Synchronization"],function(i){t(p.enrich(e,i).getInterface())},function(e){i(e)})})};F.prototype._enableLegacyMultiSelection=function(){if(this._hasSelectionPlugin()){throw new Error("Unsupported operation: sap.ui.table.Table#_enableLegacyMultiSelection must not be called"+" if a selection plugin is applied.")}this._legacyMultiSelection=function(e,t){if(this._hasSelectionPlugin()){throw new Error("Unsupported operation: The legacy multi selection is not supported if a selection plugin is applied")}var i=!!(t.metaKey||t.ctrlKey);if(!this.isIndexSelected(e)){if(i){this.addSelectionInterval(e,e)}else{this.setSelectedIndex(e)}}else if(i||this._getSelectionPlugin().getSelectedCount()===1){this.removeSelectionInterval(e,e)}else{this.setSelectedIndex(e)}}.bind(this)};F.prototype._setRowCountConstraints=function(e){this.setProperty("rowCountConstraints",e)};return F});
/*
 * OpenUI5
 * (c) Copyright 2009-2022 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/table/TablePersoController",["./library","sap/ui/base/ManagedObject","sap/ui/core/syncStyleClass","sap/base/Log","sap/ui/thirdparty/jquery","./utils/TableUtils"],function(e,t,r,a,o,i){"use strict";var s=e.ResetAllMode;var l=t.extend("sap.ui.table.TablePersoController",{constructor:function(e,r){t.apply(this,arguments)},metadata:{properties:{autoSave:{type:"boolean",defaultValue:true},persoService:{type:"any"},customDataKey:{type:"string",defaultValue:"persoKey"},showResetAll:{type:"boolean",defaultValue:true,since:"1.88"},resetAllMode:{type:"sap.ui.table.ResetAllMode",defaultValue:s.Default,since:"1.88"}},associations:{table:{type:"sap.ui.table.Table",multiple:false}},library:"sap.ui.table"}});l.prototype.init=function(){this._schemaProperty="_persoSchemaVersion";this._schemaVersion="1.0";this._oInitialPersoData=null;this._aTableEvents=["columnResize","columnMove","columnVisibility","sort","filter","group"];this._aColumnProperties=["visible","width","sorted","sortOrder","grouped","summed"];this._bSaveFilters=false;if(this._bSaveFilters){this._aTableEvents.push("filter");this._aColumnProperties.push("filtered");this._aColumnProperties.push("filterValue")}};l.prototype.setResetAllMode=function(e){if(!this._resetAllModeSet){this.setProperty("resetAllMode",e);this._resetAllModeSet=true}else{a.warning("resetAllMode of the TablePersoController can only be set once.")}};l.prototype.exit=function(){var e=this._getTable();if(e){this._manageTableEventHandlers(e,false)}delete this._schemaProperty;delete this._schemaVersion;delete this._oInitialPersoData;if(this._oDialog){this._oDialog.destroy();delete this._oDialog}};l.prototype.setPersoService=function(e){e=this.validateProperty("persoService",e);if(e&&(typeof e.getPersData!=="function"||typeof e.setPersData!=="function"||typeof e.delPersData!=="function")){throw new Error('Value of property "persoService" needs to be null/undefined or an object that has the methods '+'"getPersData", "setPersData" and "delPersData".')}var t=this.getPersoService();this.setProperty("persoService",e,true);var r=this.getPersoService();if(r&&r!==t&&this._getTable()&&(this.getAutoSave()||!t)){this.refresh()}return this};l.prototype.setAutoSave=function(e){var t=this.getAutoSave();this.setProperty("autoSave",e,true);var r=this.getAutoSave();if(r&&!t){this.savePersonalizations()}return this};l.prototype.setTable=function(e){var t=this._getTable();if(t){t._oPersoController=undefined}this.setAssociation("table",e,true);var r=this._getTable();if(r){r._oPersoController=this}if(t){this._manageTableEventHandlers(t,false)}if(r&&r!==t){if(this.getResetAllMode()===s.Default){this._oInitialPersoData=this._getCurrentTablePersoData(true)}this._manageTableEventHandlers(r,true);if(this.getPersoService()&&(this.getAutoSave()||!t)){this.refresh()}}else if(!r){this._oInitialPersoData=null}return this};l.prototype.setCustomDataKey=function(e){var t=this.getCustomDataKey();this.setProperty("customDataKey",e,true);var r=this.getCustomDataKey();if(this.getResetAllMode()===s.Default&&this._getTable()){this._oInitialPersoData=this._getCurrentTablePersoData(true)}if(t!==r&&this.getAutoSave()){this.savePersonalizations()}return this};l.prototype._manageTableEventHandlers=function(e,t){for(var r=0,a=this._aTableEvents.length;r<a;r++){var o=e[t?"attachEvent":"detachEvent"];o.apply(e,[this._aTableEvents[r],this._tableEventHandler,this])}};l.prototype.refresh=function(){var e=this;var t=this.getPersoService();if(t){return t.getPersData().done(function(t){var r=t&&Array.isArray(t.aColumns)?t:e._oInitialPersoData;e._adjustTable(r);if(e.getResetAllMode()===s.ServiceDefault){e._oInitialPersoData=e._getCurrentTablePersoData(true)}}).fail(function(){a.error("Problem reading persisted personalization data.")})}else{a.error("The Personalization Service is not available!");var r=o.Deferred();r.reject();return r.promise()}};l.prototype.savePersonalizations=function(){var e=this.getPersoService();if(e){var t=this._getCurrentTablePersoData();t[this._schemaProperty]=this._schemaVersion;return e.setPersData(t).fail(function(){a.error("Problem persisting personalization data.")})}else{a.error("The Personalization Service is not available!");var r=o.Deferred();r.reject();return r.promise()}};l.prototype._adjustTable=function(e){var t=this._getTable();if(!t||!e||!Array.isArray(e.aColumns)){return}var r={},o=t.getColumns();for(var i=0,s=o.length;i<s;i++){r[this._getColumnPersoKey(o[i])]=o[i]}var l=e.aColumns;for(var i=0,s=l.length;i<s;i++){var n=l[i];var u=r[n.id];if(u){if(t.indexOfColumn(u)!==n.order){t.removeColumn(u);t.insertColumn(u,n.order)}var h=u.getMetadata();for(var p=0,f=this._aColumnProperties.length;p<f;p++){var g=this._aColumnProperties[p];if(n[g]!==undefined){try{if(h.hasProperty(g)&&u.getProperty(g)!=n[g]){u.setProperty(g,n[g])}}catch(e){a.error('sap.ui.table.TablePersoController: failed to apply the value "'+u[g]+'" for the property + "'+g+'".')}}}}}if(typeof t._onPersoApplied==="function"){t._onPersoApplied()}};l.prototype._tableEventHandler=function(e){if(this.getAutoSave()&&!this._iTriggerSaveTimeout){var t=this;this._iTriggerSaveTimeout=setTimeout(function(){t.savePersonalizations();t._iTriggerSaveTimeout=null},0)}};l.prototype._getCurrentTablePersoData=function(e){var t=this._getTable(),r=t.getColumns();var a={aColumns:[]};for(var o=0,s=r.length;o<s;o++){var l=r[o];var n=this._getColumnPersoKey(l);var u={id:n,order:o};var h=l.getMetadata();for(var p=0,f=this._aColumnProperties.length;p<f;p++){var g=this._aColumnProperties[p];if(h.hasProperty(g)){u[g]=l.getProperty(g)}}if(e){u.text=i.Column.getHeaderText(t,o)||n}a.aColumns.push(u)}return a};l.prototype._getTable=function(){return sap.ui.getCore().byId(this.getTable())};l.prototype._getColumnPersoKey=function(e){return this._getPersoKey(this._getTable())+"-"+this._getPersoKey(e)};l.prototype._getPersoKey=function(e){var t=e.data(this.getCustomDataKey());if(!t){t=e.getId();if(t.indexOf(sap.ui.getCore().getConfiguration().getUIDPrefix())===0){a.warning('Generated IDs should not be used as personalization keys! The stability cannot be ensured! (Control: "'+e.getId()+'")')}}return t};l.prototype.openDialog=function(e){var t=this;function a(){if(t._oDialog){r("sapUiSizeCompact",t._getTable(),t._oDialog._oDialog);t._oDialog.open()}}if(!this._oDialog){sap.ui.getCore().loadLibrary("sap.m",{async:true}).then(function(){sap.ui.require(["sap/m/TablePersoDialog"],function(r){t._oDialog=new r(t._getTable().getId()+"-PersoDialog",{persoService:t.getPersoService(),showSelectAll:true,showResetAll:e&&e.showResetAll||t.getShowResetAll(),hasGrouping:false,contentWidth:e&&e.contentWidth,contentHeight:e&&e.contentHeight||"20rem",initialColumnState:t._oInitialPersoData.aColumns,columnInfoCallback:function(e,r,a){return t._getCurrentTablePersoData(true).aColumns},confirm:function(){t._adjustTable(this.retrievePersonalizations());if(t.getAutoSave()){t.savePersonalizations()}}});t._oDialog._oDialog.addStyleClass("sapUiNoContentPadding");if(t.getResetAllMode()===s.ServiceReset&&t.getPersoService().getResetPersData){t._oDialog.setShowResetAll(false);t.getPersoService().getResetPersData().done(function(e){if(this._bIsBeingDestroyed){return}if(e){t._oDialog.setInitialColumnState(e.aColumns);t._oDialog.setShowResetAll(t.getShowResetAll())}})}a()})})}else{a()}};return l});
/*!
 * OpenUI5
 * (c) Copyright 2009-2022 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/table/TableRenderer",["sap/ui/core/Control","sap/ui/Device","./library","./Column","./utils/TableUtils","./extensions/ExtensionBase","sap/ui/core/Renderer","sap/ui/core/IconPool","sap/base/Log"],function(e,t,a,i,r,n,s,l,o){"use strict";var d=a.VisibleRowCountMode;var c=a.SortOrder;var p=r.Column;var g={Begin:"flex-start",End:"flex-end",Left:undefined,Right:undefined,Center:"center"};var b={apiVersion:2};b.render=function(e,i){delete i._iHeaderRowCount;g.Left=i._bRtlMode?"flex-end":"flex-start";g.Right=i._bRtlMode?"flex-start":"flex-end";r.getResourceBundle();e.openStart("div",i);i._getAccRenderExtension().writeAriaAttributesFor(e,i,"ROOT");e.class("sapUiTable");if(t.browser.chrome&&window.devicePixelRatio<1){e.class("sapUiTableZoomout")}if("ontouchstart"in document){e.class("sapUiTableTouch")}e.class("sapUiTableSelMode"+i.getSelectionMode());if(i.getColumnHeaderVisible()){e.class("sapUiTableCHdr")}if(r.hasRowHeader(i)){e.class("sapUiTableRowSelectors")}if(r.hasRowHighlights(i)){e.class("sapUiTableRowHighlights")}var n=a.TableHelper.addTableClass();if(n){e.class(n)}var s=i._getScrollExtension();if(s.isVerticalScrollbarRequired()&&!s.isVerticalScrollbarExternal()){e.class("sapUiTableVScr")}if(i.getEditable()){e.class("sapUiTableEdt")}if(r.hasRowActions(i)){var l=i.getRowActionCount();e.class(l==1?"sapUiTableRActS":"sapUiTableRAct")}else if(r.hasRowNavigationIndicators(i)){e.class("sapUiTableRowNavIndicator")}if(r.isNoDataVisible(i)&&!i._hasPendingRequests()){e.class("sapUiTableEmpty")}if(i.getShowOverlay()){e.class("sapUiTableOverlay")}var o=r.Grouping.getModeCssClass(i);if(o){e.class(o)}e.style("width",i.getWidth());i._getRowMode().applyTableStyles(e);if(i._bFirstRendering){e.class("sapUiTableNoOpacity")}e.openEnd();this.renderTabElement(e,"sapUiTableOuterBefore");e.openStart("div",i.getId()+"-before");e.openEnd();e.renderControl(i.getAggregation("_messageStrip"));if(i.getTitle()){this.renderHeader(e,i,i.getTitle())}if(i.getToolbar()){this.renderToolbar(e,i,i.getToolbar())}if(i.getExtension()&&i.getExtension().length>0){this.renderExtensions(e,i,i.getExtension())}e.close("div");e.openStart("div",i.getId()+"-sapUiTableCnt");e.class("sapUiTableCnt");e.attr("data-sap-ui-fastnavgroup","true");e.attr("data-sap-ui-pasteregion","true");i._getAccRenderExtension().writeAriaAttributesFor(e,i,"CONTAINER");e.openEnd();e.openStart("div",i.getId()+"-sapUiTableGridCnt");i._getAccRenderExtension().writeAriaAttributesFor(e,i,"CONTENT");e.openEnd();this.renderColRsz(e,i);this.renderColHdr(e,i);this.renderTable(e,i);e.close("div");var c=i.getCreationRow();if(c&&c.getVisible()){e.renderControl(c);this.renderHSbBackground(e,i);this.renderHSb(e,i)}i._getAccRenderExtension().writeHiddenAccTexts(e,i);e.openStart("div",i.getId()+"-overlay");e.class("sapUiTableOverlayArea");e.attr("tabindex","0");i._getAccRenderExtension().writeAriaAttributesFor(e,i,"OVERLAY");e.openEnd();e.close("div");e.close("div");e.openStart("div",i.getId()+"-after");e.openEnd();if(i.getFooter()){this.renderFooter(e,i,i.getFooter())}if(i.getVisibleRowCountMode()==d.Interactive){this.renderVariableHeight(e,i)}this.renderBottomPlaceholder(e,i);e.close("div");this.renderTabElement(e,"sapUiTableOuterAfter");e.close("div")};b.renderHeader=function(e,t,a){e.openStart("div");e.class("sapUiTableHdr");t._getAccRenderExtension().writeAriaAttributesFor(e,t,"TABLEHEADER");e.openEnd();e.renderControl(a);e.close("div")};b.renderToolbar=function(e,t,a){if(!r.isA(a,"sap.ui.core.Toolbar")){return}e.openStart("div");e.class("sapUiTableTbr");if(typeof a.getStandalone==="function"&&a.getStandalone()){a.setStandalone(false)}if(a.isA("sap.m.Toolbar")){a.setDesign("Transparent",true);a.addStyleClass("sapMTBHeader-CTX");e.class("sapUiTableMTbr")}t._getAccRenderExtension().writeAriaAttributesFor(e,t,"TABLESUBHEADER");e.openEnd();e.renderControl(a);e.close("div")};b.renderExtensions=function(e,t,a){for(var i=0,r=a.length;i<r;i++){this.renderExtension(e,t,a[i])}};b.renderExtension=function(e,t,a){e.openStart("div");e.class("sapUiTableExt");t._getAccRenderExtension().writeAriaAttributesFor(e,t,"TABLESUBHEADER");e.openEnd();e.renderControl(a);e.close("div")};b.renderTable=function(e,t){var a=t.getRows().length>0;this.renderTabElement(e,"sapUiTableCtrlBefore",a?"0":"-1");e.openStart("div",t.getId()+"-tableCCnt");t._getRowMode().applyRowContainerStyles(e);e.class("sapUiTableCCnt");e.openEnd();this.renderTableCCnt(e,t);e.close("div");this.renderTabElement(e,"sapUiTableCtrlAfter",a?"0":"-1");this.renderTabElement(e,null,"-1",t.getId()+"-focusDummy");var i=t.getCreationRow();if(!i||!i.getVisible()){this.renderHSbBackground(e,t);this.renderHSb(e,t)}};b.renderTableCCnt=function(t,a){this.renderTableCtrl(t,a);this.renderRowHdr(t,a);this.renderRowActions(t,a);if(!a._getScrollExtension().isVerticalScrollbarExternal()){this.renderVSb(t,a)}t.openStart("div",a.getId()+"-noDataCnt");t.class("sapUiTableCtrlEmpty");t.attr("tabindex","0");a._getAccRenderExtension().writeAriaAttributesFor(t,a,"NODATA");t.openEnd();var i=r.getNoContentMessage(a);if(i instanceof e){t.renderControl(i)}else{t.openStart("span",a.getId()+"-noDataMsg");t.class("sapUiTableCtrlEmptyMsg");t.openEnd();t.text(r.getNoDataText(a));t.close("span")}t.close("div")};b.renderFooter=function(e,t,a){e.openStart("div");e.class("sapUiTableFtr");t._getAccRenderExtension().writeAriaAttributesFor(e,t,"TABLEFOOTER");e.openEnd();e.renderControl(a);e.close("div")};b.renderVariableHeight=function(e,t){e.openStart("div",t.getId()+"-sb");e.attr("tabindex","-1");e.class("sapUiTableHeightResizer");e.style("height","5px");e.openEnd();e.close("div")};b.renderBottomPlaceholder=function(e,t){var a=t._getRowMode().getTableBottomPlaceholderStyles();if(a===undefined){return}e.openStart("div",t.getId()+"-placeholder-bottom");e.class("sapUiTablePlaceholder");t._getRowMode().applyTableBottomPlaceholderStyles(e);e.openEnd();e.close("div")};b.renderColHdr=function(e,t){var a=r.getHeaderRowCount(t);var i=t.getColumns();var n=t.getComputedFixedColumnCount();e.openStart("div");e.class("sapUiTableColHdrCnt");e.openEnd();this.renderColRowHdr(e,t);if(n>0){e.openStart("div");e.class("sapUiTableCHA");e.class("sapUiTableCtrlScrFixed");e.class("sapUiTableNoOpacity");e.openEnd();this.renderTableControlCnt(e,t,true,0,n,true,false,0,a,true);e.close("div")}e.openStart("div",t.getId()+"-sapUiTableColHdrScr");e.class("sapUiTableCHA");e.class("sapUiTableCtrlScr");if(i.length==0){e.class("sapUiTableHasNoColumns")}if(n>0){if(t._bRtlMode){e.style("margin-right","0")}else{e.style("margin-left","0")}}e.openEnd();this.renderTableControlCnt(e,t,false,n,i.length,false,false,0,a,true);e.close("div");e.openStart("div");e.class("sapUiTableVSbHeader");e.openEnd();e.close("div");if(r.hasRowActions(t)){e.openStart("div",t.getId()+"-rowacthdr");t._getAccRenderExtension().writeAriaAttributesFor(e,t,"ROWACTIONHEADER");e.class("sapUiTableCell");e.class("sapUiTableHeaderCell");e.class("sapUiTableRowActionHeaderCell");e.openEnd();e.openStart("span");e.openEnd();e.text(r.getResourceText("TBL_ROW_ACTION_COLUMN_LABEL"));e.close("span");e.close("div")}e.close("div")};b.renderColRowHdr=function(e,t){var a=false;var i=false;var n=t._getSelectionPlugin().getRenderConfig();e.openStart("div",t.getId()+"-selall");e.class("sapUiTableCell");e.class("sapUiTableHeaderCell");e.class("sapUiTableRowSelectionHeaderCell");var s;if(n.headerSelector.visible){var l=r.areAllRowsSelected(t);if(n.headerSelector.type==="toggle"){s=l?"TBL_DESELECT_ALL":"TBL_SELECT_ALL"}else if(n.headerSelector.type==="clear"){s="TBL_DESELECT_ALL";if(!n.headerSelector.enabled){e.class("sapUiTableSelAllDisabled");e.attr("aria-disabled","true")}}if(t._getShowStandardTooltips()&&s){e.attr("title",r.getResourceText(s))}if(!l){e.class("sapUiTableSelAll")}else{i=true}e.class("sapUiTableSelAllVisible");a=true}e.attr("tabindex","-1");var o={enabled:a,checked:i};t._getAccRenderExtension().writeAriaAttributesFor(e,t,"COLUMNROWHEADER",o);e.openEnd();if(n.headerSelector.visible){if(n.headerSelector.type==="clear"&&n.headerSelector.icon){e.renderControl(n.headerSelector.icon)}else{e.openStart("div");e.class("sapUiTableSelectAllCheckBox");e.openEnd();e.close("div")}}e.close("div")};b.renderCol=function(e,t,a,i,r,n,l,o,d){var p,b=!r,T=a.getIndex(),f=a.getMultiLabels();if(f.length>0){p=f[i]}else if(i==0){p=a.getLabel()}var u=a.getId();if(i===0){e.openStart("td",a)}else{u=u+"_"+i;e.openStart("td",u)}e.attr("data-sap-ui-related",a.getId());e.attr("data-sap-ui-colid",a.getId());e.attr("data-sap-ui-colindex",T);e.attr("tabindex","-1");var C={column:a,headerId:u,index:T};if(r>1){e.attr("colspan",r);C.colspan=true}if(d){var h=a.getFiltered();var R=a.getSorted();if(h){e.class("sapUiTableColFiltered")}if(R){e.class("sapUiTableColSorted");if(a.getSortOrder()===c.Descending){e.class("sapUiTableColSortedD")}}}t._getAccRenderExtension().writeAriaAttributesFor(e,t,"COLUMNHEADER",C);e.class("sapUiTableCell");e.class("sapUiTableHeaderCell");e.class("sapUiTableHeaderDataCell");if(t.getEnableColumnReordering()||t.hasListeners("columnSelect")||a._menuHasItems()){e.class("sapUiTableHeaderCellActive")}if(n){e.class("sapUiTableCellFirst")}if(l){e.class("sapUiTableCellLastFixed")}if(o){e.class("sapUiTableCellLast")}if(b){e.class("sapUiTableHidden")}if(t.getColumnHeaderHeight()>0){e.style("height",t.getColumnHeaderHeight()+"px")}var v=a.getTooltip_AsString();if(v){e.attr("title",v)}e.openEnd();e.openStart("div",u+"-inner");e.class("sapUiTableCellInner");var S=a.getHAlign();var E=s.getTextAlign(S);if(E){e.style("text-align",E)}e.openEnd();e.openStart("div");e.style("justify-content",g[S]);e.openEnd();if(p){e.renderControl(p)}e.close("div");e.close("div");e.close("td")};b.renderColRsz=function(e,t){e.openStart("div",t.getId()+"-rsz");e.class("sapUiTableColRsz");e.openEnd();e.close("div")};b.renderRowHdr=function(e,t){e.openStart("div",t.getId()+"-sapUiTableRowHdrScr");t._getAccRenderExtension().writeAriaAttributesFor(e,t,"PRESENTATION");e.class("sapUiTableRowHdrScr");e.class("sapUiTableNoOpacity");t._getAccRenderExtension().writeAriaAttributesFor(e,t,"ROWHEADER_COL");e.openEnd();for(var a=0,i=t.getRows().length;a<i;a++){this.renderRowAddon(e,t,t.getRows()[a],a,true)}e.close("div")};b.renderRowActions=function(e,t){if(!r.hasRowActions(t)&&!r.hasRowNavigationIndicators(t)){return}e.openStart("div",t.getId()+"-sapUiTableRowActionScr");t._getAccRenderExtension().writeAriaAttributesFor(e,t,"PRESENTATION");r.hasRowActions(t)?e.class("sapUiTableRowWithAction"):e.class("sapUiTableRowActionScr");e.class("sapUiTableNoOpacity");e.openEnd();for(var a=0,i=t.getRows().length;a<i;a++){this.renderRowAddon(e,t,t.getRows()[a],a,false)}e.close("div")};b.addRowCSSClasses=function(e,t,a){var i=t._getRowCounts();var n=r.getFirstFixedBottomRowIndex(t);if(a===0){e.class("sapUiTableFirstRow")}else if(a===t.getRows().length-1){e.class("sapUiTableLastRow")}if(i.fixedTop>0){if(a==i.fixedTop-1){e.class("sapUiTableRowLastFixedTop")}if(a==i.fixedTop){e.class("sapUiTableRowFirstScrollable")}}if(n>=0&&n===a){e.class("sapUiTableRowFirstFixedBottom")}else if(n>=1&&n-1===a){e.class("sapUiTableRowLastScrollable")}};b.renderRowAddon=function(e,t,a,i,n){var s=t._getSelectionPlugin().isIndexSelected(a.getIndex());e.openStart("div");var l=a.getAggregation("_settings");var o={index:i,rowHidden:a.isEmpty(),rowNavigated:l?l.getNavigated():false};t._getAccRenderExtension().writeAriaAttributesFor(e,t,"TR",o);e.attr("data-sap-ui-related",a.getId());e.attr("data-sap-ui-rowindex",i);e.class("sapUiTableRow");e.class("sapUiTableContentRow");if(a.isContentHidden()){e.class("sapUiTableRowHidden")}else if(s){e.class("sapUiTableRowSel")}if(i%2!=0&&t.getAlternateRowColors()&&!r.Grouping.isInTreeMode(t)){e.class("sapUiTableRowAlternate")}this.addRowCSSClasses(e,t,i);e.openEnd();e.openStart("div",t.getId()+(n?"-rowsel":"-rowact")+i);e.class("sapUiTableCell");e.class("sapUiTableContentCell");e.class(n?"sapUiTableRowSelectionCell":"sapUiTableRowActionCell");t._getRowMode().renderRowStyles(e);e.attr("tabindex","-1");o={rowSelected:s,rowHidden:a.isEmpty()};t._getAccRenderExtension().writeAriaAttributesFor(e,t,n?"ROWHEADER":"ROWACTION",o);e.openEnd();if(n){this.writeRowHighlightContent(e,t,a,i);this.writeRowSelectorContent(e,t,a,i)}else{var d=a.getRowAction();if(d){e.renderControl(d)}this.writeRowNavigationContent(e,t,a,i)}e.close("div");e.close("div")};b.renderTableCtrl=function(e,t){if(t.getComputedFixedColumnCount()>0){e.openStart("div",t.getId()+"-sapUiTableCtrlScrFixed");e.class("sapUiTableCtrlScrFixed");e.openEnd();this.renderTableControl(e,t,true);e.close("div")}e.openStart("div",t.getId()+"-sapUiTableCtrlScr");e.class("sapUiTableCtrlScr");if(t.getComputedFixedColumnCount()>0){if(t._bRtlMode){e.style("margin-right","0")}else{e.style("margin-left","0")}}e.openEnd();e.openStart("div",t.getId()+"-tableCtrlCnt");e.class("sapUiTableCtrlCnt");e.openEnd();this.renderTableControl(e,t,false);e.close("div");e.close("div")};b.renderTableControl=function(e,t,a){var i,r;if(a){i=0;r=t.getComputedFixedColumnCount()}else{i=t.getComputedFixedColumnCount();r=t.getColumns().length}var n=t._getRowCounts();var s=t.getRows();if(n.fixedTop>0){this.renderTableControlCnt(e,t,a,i,r,true,false,0,n.fixedTop)}this.renderTableControlCnt(e,t,a,i,r,false,false,n.fixedTop,s.length-n.fixedBottom);if(n.fixedBottom>0&&s.length>0){this.renderTableControlCnt(e,t,a,i,r,false,true,s.length-n.fixedBottom,s.length)}};b.renderTableControlCnt=function(e,t,a,i,n,s,l,o,d,c){var p=c?"-header":"-table";var g=t.getId()+p;var b=[];if(a){g+="-fixed";b.push("sapUiTableCtrlFixed")}else{b.push("sapUiTableCtrlScroll")}if(s){g+="-fixrow";b.push("sapUiTableCtrlRowFixed")}else if(l){g+="-fixrow-bottom";b.push("sapUiTableCtrlRowFixedBottom")}else{b.push("sapUiTableCtrlRowScroll")}e.openStart("table",g);b.forEach(function(t){e.class(t)});t._getAccRenderExtension().writeAriaAttributesFor(e,t,c?"COLUMNHEADER_TABLE":"TABLE");e.class("sapUiTableCtrl");if(c){e.class("sapUiTableCHT")}e.style(a?"width":"min-width",t._getColumnsWidth(i,n)+"px");e.openEnd();e.openStart("thead").openEnd();e.openStart("tr");e.class("sapUiTableCtrlCol");if(o==0){e.class("sapUiTableCtrlFirstCol")}if(c){e.class("sapUiTableCHTHR")}e.openEnd();var T=t.getColumns();var f=new Array(n);var u;var C;var h=!a&&n>i;for(u=i;u<n;u++){C=T[u];var R={shouldRender:!!(C&&C.shouldRender())};if(R.shouldRender){var v=C.getWidth();if(r.isVariableWidth(v)){h=false;if(a){C._iFixWidth=C._iFixWidth||160;v=C._iFixWidth+"px"}}else if(a){delete C._iFixWidth}R.width=v}f[u]=R}if(T.length===0){e.openStart("th").openEnd().close("th")}for(u=i;u<n;u++){p=c?"_hdr":"_col";C=T[u];R=f[u];if(R.shouldRender){if(o==0){e.openStart("th",t.getId()+p+u);t._getAccRenderExtension().writeAriaAttributesFor(e,t,"TH",{column:C})}else{e.openStart("th")}e.style("width",R.width);e.attr("data-sap-ui-headcolindex",u);e.attr("data-sap-ui-colid",C.getId());e.openEnd();if(o==0&&r.getHeaderRowCount(t)==0&&!c){if(C.getMultiLabels().length>0){e.renderControl(C.getMultiLabels()[0])}else{e.renderControl(C.getLabel())}}e.close("th")}}if(h){e.openStart("th",c&&t.getId()+"-dummycolhdr");t._getAccRenderExtension().writeAriaAttributesFor(e,t,"PRESENTATION");e.openEnd().close("th")}e.close("tr");e.close("thead");e.openStart("tbody").openEnd();var S=t._getVisibleColumns();var E=t.getRows();var w;var A;if(c){for(w=o,A=d;w<A;w++){this.renderColumnHeaderRow(e,t,w,a,i,n,h,w===A-1)}}else{var x=t._getAccExtension().getAriaTextsForSelectionMode(true);var U=r.isRowSelectionAllowed(t);var H=t.getDragDropConfig().some(function(e){return e.getMetadata().isInstanceOf("sap.ui.core.dnd.IDragInfo")&&e.getSourceAggregation()==="rows"});var I=this.getLastFixedColumnIndex(t);for(w=o,A=d;w<A;w++){this.renderTableRow(e,t,E[w],w,a,i,n,false,S,I,h,x,U,H)}}e.close("tbody");e.close("table")};b.writeRowSelectorContent=function(e,t,a,i){t._getAccRenderExtension().writeAccRowSelectorText(e,t,a,i);if(r.Grouping.isInGroupMode(t)){e.openStart("div");e.class("sapUiTableGroupShield");e.openEnd();e.close("div");e.openStart("div",a.getId()+"-groupHeader");e.class("sapUiTableGroupIcon");e.openEnd();e.close("div");if(r.Grouping.showGroupMenuButton(t)){var n=l.getIconInfo("sap-icon://drop-down-list");e.openStart("div").class("sapUiTableGroupMenuButton").openEnd();e.text(n.content);e.close("div")}}};b.writeRowHighlightContent=function(e,t,a,i){if(!r.hasRowHighlights(t)){return}var n=a.getAggregation("_settings");var s=n._getHighlightCSSClassName();e.openStart("div",a.getId()+"-highlight");e.class("sapUiTableRowHighlight");e.class(s);e.openEnd();t._getAccRenderExtension().writeAccRowHighlightText(e,t,a,i);e.close("div")};b.writeRowNavigationContent=function(e,t,a,i){if(!r.hasRowNavigationIndicators(t)){return}var n=a.getAggregation("_settings");e.openStart("div",a.getId()+"-navIndicator");if(n.getNavigated()){e.class("sapUiTableRowNavigated")}e.openEnd();e.close("div")};b.renderColumnHeaderRow=function(e,t,a,i,r,n,s,l){e.openStart("tr");e.class("sapUiTableRow");e.class("sapUiTableHeaderRow");e.class("sapUiTableColHdrTr");t._getAccRenderExtension().writeAriaAttributesFor(e,t,"COLUMNHEADER_ROW");e.openEnd();var o=this.getColumnsToRender(t,r,n),d=0,c=-1;function g(e,t,i){var r=p.getHeaderSpan(e,a),n;if(d<1){if(r>1){n=e.getIndex();r=i.slice(t+1,t+r).reduce(function(e,t){return t.getIndex()-n<r?e+1:e},1)}e._nSpan=d=r;c=t}else{e._nSpan=0}d--}o.forEach(g);function b(r,n){this.renderCol(e,t,r,a,r._nSpan,n===0,i&&n==c,!i&&n==c,r._nSpan===1&&!r._bIconsRendered);r._bIconsRendered=r._bIconsRendered||r._nSpan===1;delete r._nSpan;if(l){delete r._bIconsRendered}}o.forEach(b.bind(this));if(!i&&s&&o.length>0){e.openStart("td").class("sapUiTableCellDummy");t._getAccRenderExtension().writeAriaAttributesFor(e,t,"PRESENTATION");e.openEnd().close("td")}e.close("tr")};b.renderTableRow=function(e,t,a,i,n,s,l,o,d,c,p,g,b,T){if(!a){return}var f=t._getSelectionPlugin();if(n){e.openStart("tr",a.getId()+"-fixed");e.attr("data-sap-ui-related",a.getId())}else{e.openStart("tr",a)}if(a._bDummyRow){e.style("opacity","0")}e.class("sapUiTableRow");e.class("sapUiTableContentRow");e.class("sapUiTableTr");if(a.isContentHidden()){e.class("sapUiTableRowHidden")}else{if(T&&n){e.attr("draggable",true)}if(f.isIndexSelected(a.getIndex())){e.class("sapUiTableRowSel")}}if(i%2!=0&&t.getAlternateRowColors()&&!r.Grouping.isInTreeMode(t)){e.class("sapUiTableRowAlternate")}this.addRowCSSClasses(e,t,i);e.attr("data-sap-ui-rowindex",i);t._getRowMode().renderRowStyles(e);var u=a.getAggregation("_settings");var C={index:i,rowHidden:a.isEmpty(),rowNavigated:u?u.getNavigated():false};t._getAccRenderExtension().writeAriaAttributesFor(e,t,"TR",C);e.openEnd();var h=!a.isEmpty()&&f.isIndexSelected(a.getIndex());var R=a.getCells();for(var v=0,S=R.length;v<S;v++){this.renderTableCell(e,t,a,R[v],v,n,s,l,d,c,h)}if(!n&&p&&R.length>0){e.openStart("td").class("sapUiTableCellDummy");t._getAccRenderExtension().writeAriaAttributesFor(e,t,"PRESENTATION");e.openEnd();e.close("td")}e.close("tr")};b.renderTableCell=function(e,t,a,n,l,o,d,c,p,g,b){var T=i.ofCell(n);var f=T.getIndex();if(T.shouldRender()&&d<=f&&c>f){var u=a.getId()+"-col"+l;e.openStart("td",u);e.attr("tabindex","-1");e.attr("data-sap-ui-colid",T.getId());var C=p.length;var h=C>0&&p[0]===T;var R=C>0&&p[C-1]===T;var v=o&&g===f;var S={index:f,column:T,row:a,fixed:o,rowSelected:b};t._getAccRenderExtension().writeAriaAttributesFor(e,t,"DATACELL",S);var E=s.getTextAlign(T.getHAlign());if(E){e.style("text-align",E)}e.class("sapUiTableCell");e.class("sapUiTableContentCell");e.class("sapUiTableDataCell");if(h){e.class("sapUiTableCellFirst")}if(v){e.class("sapUiTableCellLastFixed")}if(R){e.class("sapUiTableCellLast")}if(h&&r.Grouping.isInTreeMode(t)){e.class("sapUiTableCellFlex")}e.openEnd();e.openStart("div");e.class("sapUiTableCellInner");t._getRowMode().renderCellContentStyles(e);e.openEnd();this.renderTableCellControl(e,t,n,h);e.close("div");e.close("td")}};b.renderTableCellControl=function(e,t,a,i){if(i&&r.Grouping.isInTreeMode(t)){var n=a.getParent();e.openStart("span",n.getId()+"-treeicon");e.class("sapUiTableTreeIcon");e.attr("tabindex","-1");t._getAccRenderExtension().writeAriaAttributesFor(e,t,"TREEICON",{row:n});e.openEnd();e.close("span")}e.renderControl(a)};b.renderVSb=function(e,t,a){var i=t._getScrollExtension();var r=t._getRowCounts();a=Object.assign({tabIndex:true},a);e.openStart("div");e.class("sapUiTableVSbContainer");if(!i.isVerticalScrollbarRequired()){e.class("sapUiTableHidden")}e.class(a.cssClass);e.openEnd();e.openStart("div",t.getId()+"-vsb");e.class("sapUiTableVSb");e.style("max-height",i.getVerticalScrollbarHeight()+"px");if(r.fixedTop>0){e.style("top",r.fixedTop*t._getBaseRowHeight()-1+"px")}if(a.tabIndex){e.attr("tabindex","-1")}e.openEnd();e.openStart("div");e.class("sapUiTableVSbContent");e.style("height",i.getVerticalScrollHeight()+"px");e.openEnd();e.close("div");e.close("div");e.close("div")};b.renderVSbExternal=function(e,t){if(n.isEnrichedWith(t,"sap.ui.table.extensions.Synchronization")){this.renderVSb(e,t,{cssClass:"sapUiTableVSbExternal",tabIndex:false})}else{o.error("This method can only be used with synchronization enabled.",t,"TableRenderer.renderVSbExternal")}};b.renderHSb=function(e,t,a){a=Object.assign({id:t.getId()+"-hsb",cssClass:"sapUiTableHSb",tabIndex:true,hidden:true,scrollWidth:0},a);e.openStart("div",a.id);e.class(a.cssClass);if(a.hidden){e.class("sapUiTableHidden")}if(a.tabIndex){e.attr("tabindex","-1")}e.openEnd();e.openStart("div",a.id+"-content");e.class("sapUiTableHSbContent");if(a.scrollWidth>0){e.style("width",a.scrollWidth+"px")}e.openEnd();e.close("div");e.close("div")};b.renderHSbExternal=function(e,t,a,i){if(n.isEnrichedWith(t,"sap.ui.table.extensions.Synchronization")){this.renderHSb(e,t,{id:a,cssClass:"sapUiTableHSbExternal",tabIndex:false,hidden:false,scrollWidth:i})}else{o.error("This method can only be used with synchronization enabled.",t,"TableRenderer.renderVSbExternal")}};b.renderHSbBackground=function(e,t){e.openStart("div",t.getId()+"-hsb-bg");e.class("sapUiTableHSbBg");e.openEnd().close("div")};b.renderTabElement=function(e,t,a,i){e.openStart("div");if(t){e.class(t)}if(i){e.attr("id",i)}e.attr("tabindex",a==null?"0":a);e.openEnd().close("div")};b.getColumnsToRender=function(e,t,a){return e.getColumns().slice(t,a).filter(function(e){return e&&e.shouldRender()})};b.getLastFixedColumnIndex=function(e){var t=e.getComputedFixedColumnCount();var a=e.getColumns();var i,r;for(var n=t-1;n>=0;n--){i=a[n];if(i.shouldRender()){r=n;break}}return r};return b},true);
/*!
 * OpenUI5
 * (c) Copyright 2009-2022 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/table/TreeTable",["./Table","./TableRenderer","sap/ui/model/ClientTreeBindingAdapter","sap/ui/model/TreeBindingCompatibilityAdapter","./library","./utils/TableUtils","./plugins/BindingSelection","sap/base/Log","sap/base/assert"],function(e,t,r,n,o,i,a,s,p){"use strict";var l=i.createWeakMapFacade();var u=e.extend("sap.ui.table.TreeTable",{metadata:{library:"sap.ui.table",properties:{expandFirstLevel:{type:"boolean",defaultValue:false,deprecated:true},useGroupMode:{type:"boolean",group:"Appearance",defaultValue:false},groupHeaderProperty:{type:"string",group:"Data",defaultValue:null},collapseRecursive:{type:"boolean",defaultValue:true,deprecated:true},rootLevel:{type:"int",group:"Data",defaultValue:0,deprecated:true}},events:{toggleOpenState:{parameters:{rowIndex:{type:"int"},rowContext:{type:"object"},expanded:{type:"boolean"}}}}},renderer:t});u.prototype.init=function(){e.prototype.init.apply(this,arguments);l(this).bPendingRequest=false;i.Grouping.setToDefaultTreeMode(this);i.Hook.register(this,i.Hook.Keys.Row.UpdateState,d,this);i.Hook.register(this,i.Hook.Keys.Row.Expand,f,this);i.Hook.register(this,i.Hook.Keys.Row.Collapse,g,this)};u.prototype._bindRows=function(t){l(this).bPendingRequest=false;if(!t.parameters){t.parameters={}}if(!("rootLevel"in t.parameters)){t.parameters.rootLevel=this.getRootLevel()}if(!("collapseRecursive"in t.parameters)){t.parameters.collapseRecursive=this.getCollapseRecursive()}if(!("numberOfExpandedLevels"in t.parameters)){t.parameters.numberOfExpandedLevels=this.getExpandFirstLevel()?1:0}return e.prototype._bindRows.call(this,t)};function d(e){var t=this.getBinding();var r=e.context;e.context=r.context;if(!e.context){return}e.level=r.level+1;if(t.nodeHasChildren){e.expandable=t.nodeHasChildren(r)}else{e.expandable=t.hasChildren(r.context)}e.expanded=r.nodeState.expanded;if(i.Grouping.isInGroupMode(this)){var n=this.getGroupHeaderProperty();if(n){e.title=e.context.getProperty(n)}if(e.expandable){e.type=e.Type.GroupHeader;e.contentHidden=true}}}function f(e){var t=e.getIndex();var r=c(this,t,true);if(typeof r==="boolean"){this._onGroupHeaderChanged(t,r)}}function g(e){var t=e.getIndex();var r=c(this,t,false);if(typeof r==="boolean"){this._onGroupHeaderChanged(t,r)}}function c(e,t,r){var n=[];var o=e.getBinding();if(!o||t==null){return null}if(typeof t==="number"){n=[t]}else if(Array.isArray(t)){if(r==null&&t.length>1){return null}n=t}var i=e._getTotalRowCount();var a=n.filter(function(e){var t=o.isExpanded(e);var n=true;if(o.nodeHasChildren){if(o.getNodeByIndex){n=!o.nodeHasChildren(o.getNodeByIndex(e))}else{n=false}}return e>=0&&e<i&&!n&&r!==t}).sort(function(e,t){return e-t});if(a.length===0){return null}for(var s=a.length-1;s>0;s--){if(r){o.expand(a[s],true)}else{o.collapse(a[s],true)}}if(r===true){o.expand(a[0],false)}else if(r===false){o.collapse(a[0],false)}else{o.toggleIndex(a[0])}return o.isExpanded(a[0])}u.prototype.setFixedRowCount=function(e){s.warning('TreeTable: the property "fixedRowCount" is not supported and will be ignored!');return this};u.prototype.isTreeBinding=function(t){t=t||"rows";if(t==="rows"){return true}return e.prototype.isTreeBinding.apply(this,arguments)};u.prototype.getBinding=function(t){t=t==null?"rows":t;var o=e.prototype.getBinding.call(this,t);if(o&&t==="rows"&&!o.getLength){if(o.isA("sap.ui.model.odata.ODataTreeBinding")){n(o,this)}else if(o.isA("sap.ui.model.odata.v2.ODataTreeBinding")){o.applyAdapterInterface()}else if(o.isA("sap.ui.model.ClientTreeBinding")){r.apply(o)}else{s.error("Binding not supported by sap.ui.table.TreeTable")}}return o};u.prototype._getContexts=function(e,t,r){var n=this.getBinding();if(n){return n.getNodes(e,t,r)}else{return[]}};u.prototype._getRowContexts=function(e){return h(this,e)};function h(t,r,n){var o=t._getTotalRowCount();var i=e.prototype._getRowContexts.call(t,r);if(n===true){return i}var a=t._getTotalRowCount();var s=t._getFirstRenderedRowIndex();var p=t._getMaxFirstRenderedRowIndex();t._adjustToTotalRowCount();if(p<s&&t._bContextsAvailable){i=h(t,r,true)}else if(o!==a){i=h(t,r,true)}return i}u.prototype._onGroupHeaderChanged=function(e,t){this.fireToggleOpenState({rowIndex:e,rowContext:this.getContextByIndex(e),expanded:t})};u.prototype.expand=function(e){c(this,e,true);return this};u.prototype.collapse=function(e){c(this,e,false);return this};u.prototype.collapseAll=function(){var e=this.getBinding();if(e){e.collapseToLevel(0);this.setFirstVisibleRow(0)}return this};u.prototype.expandToLevel=function(e){var t=this.getBinding();p(t&&t.expandToLevel,"TreeTable.expandToLevel is not supported with your current Binding. Please check if you are running on an ODataModel V2.");if(t&&t.expandToLevel){t.expandToLevel(e)}return this};u.prototype.isExpanded=function(e){var t=this.getBinding();if(t){return t.isExpanded(e)}return false};u.prototype.getContextByIndex=function(e){var t=this.getBinding();if(t){return t.getContextByIndex(e)}};u.prototype.setRootLevel=function(e){this.setFirstVisibleRow(0);var t=this.getBinding();if(t){p(t.setRootLevel,"rootLevel is not supported by the used binding");if(t.setRootLevel){t.setRootLevel(e)}}this.setProperty("rootLevel",e,true);return this};u.prototype.setCollapseRecursive=function(e){var t=this.getBinding();if(t){p(t.setCollapseRecursive,"Collapse Recursive is not supported by the used binding");if(t.setCollapseRecursive){t.setCollapseRecursive(e)}}this.setProperty("collapseRecursive",!!e,true);return this};u.prototype.setUseGroupMode=function(e){this.setProperty("useGroupMode",!!e);y(this);return this};u.prototype.setEnableGrouping=function(){s.warning("The property enableGrouping is not supported by the sap.ui.table.TreeTable control");return this};u.prototype.setGroupBy=function(){s.warning("The groupBy association is not supported by the sap.ui.table.TreeTable control");return this};u.prototype.setUseFlatMode=function(e){this._bFlatMode=!!e;y(this);return this};function y(e){if(e.getUseGroupMode()){i.Grouping.setHierarchyMode(e,i.Grouping.HierarchyMode.GroupedTree)}else if(e._bFlatMode){i.Grouping.setToDefaultFlatMode(e)}else if(!e._bFlatMode){i.Grouping.setToDefaultTreeMode(e)}}u.prototype._createLegacySelectionPlugin=function(){return new a};u.prototype._onBindingDataRequested=function(t){l(this).bPendingRequest=true;e.prototype._onBindingDataRequested.apply(this,arguments)};u.prototype._onBindingDataReceived=function(t){l(this).bPendingRequest=false;e.prototype._onBindingDataReceived.apply(this,arguments)};u.prototype._hasPendingRequests=function(){return l(this).bPendingRequest};return u});
/*!
 * OpenUI5
 * (c) Copyright 2009-2022 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/table/TreeTableRenderer",["sap/ui/table/TreeTable"],function(e){"use strict";return e.getMetadata().getRenderer()},true);
/*!
 * OpenUI5
 * (c) Copyright 2009-2022 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/table/extensions/Accessibility",["./ExtensionBase","./AccessibilityRender","../utils/TableUtils","../library","sap/ui/core/Control","sap/ui/thirdparty/jquery"],function(e,t,a,r,i,o){"use strict";var l=r.SelectionMode;var n=a.CELLTYPE;var s={getAccInfoOfControl:function(e){if(e&&typeof e.getAccessibilityInfo==="function"){if(typeof e.getVisible==="function"&&!e.getVisible()){return s._normalize({})}var t=e.getAccessibilityInfo();if(t){var a={};s._flatten(t,a);return a}}return null},_normalize:function(e){if(!e){return null}if(e._normalized){return e}e.role=e.role||"";e.type=e.type||"";e.description=e.description||"";e.enabled=e.enabled===true||e.enabled===false?e.enabled:null;e.editable=e.editable===true||e.editable===false?e.editable:null;e.children=e.children||[];e._normalized=true;return e},_flatten:function(e,t,a){a=a?a:0;s._normalize(e);if(a==0){s._normalize(t);t._descriptions=[]}t._descriptions.push(s._getFullDescription(e));e.children.forEach(function(e){if(!e.getAccessibilityInfo||e.getVisible&&!e.getVisible()){return}var r=e.getAccessibilityInfo();if(r){s._flatten(r,t,a+1)}});if(a==0){t.description=t._descriptions.join(" ").trim();t._descriptions=undefined}},_getFullDescription:function(e){var t=e.type+" "+e.description;if(e.enabled===false){t=t+" "+a.getResourceText("TBL_CTRL_STATE_DISABLED")}else if(e.editable===false){t=t+" "+a.getResourceText("TBL_CTRL_STATE_READONLY")}return t.trim()}};var u={getColumnIndexOfFocusedCell:function(e){var t=e.getTable();var r=a.getFocusedItemInfo(t);return r.cellInRow-(a.hasRowHeader(t)?1:0)},getInfoOfFocusedCell:function(e){var t=e.getTable();var r=t._getItemNavigation();var i=t.getDomRef();if(!e.getAccMode()||!i||!r){return null}var o=r.getFocusedDomRef();if(!o||o!==document.activeElement){return null}return a.getCellInfo(o)},getRelevantColumnHeaders:function(e,t){var r=[];if(!e||!t||!e.getColumnHeaderVisible()){return r}var i=a.getHeaderRowCount(e);if(i>0){var o=t.getId();r.push(o);for(var l=1;l<i;l++){r.push(o+"_"+l)}var n=a.Column.getParentSpannedColumns(e,o);if(n&&n.length){for(var s=0;s<n.length;s++){var u=n[s].level;var c=n[s].column.getId();r[u]=u===0?c:c+"_"+u}}}return r},isHiddenCell:function(e,t){var r=a.Grouping.isInGroupHeaderRow(e);var i=a.Grouping.isInSummaryRow(e);var o=!!t&&!!t.hasStyleClass;var l=e.parent().hasClass("sapUiTableRowHidden");var n=e.hasClass("sapUiTableCellHidden");var s=r&&o&&t.hasStyleClass("sapUiAnalyticalTableGroupCellHidden");var u=i&&o&&t.hasStyleClass("sapUiAnalyticalTableSumCellHidden");return l||n||s||u},isTreeColumnCell:function(e,t){return a.Grouping.isInTreeMode(e.getTable())&&t.hasClass("sapUiTableCellFirst")},getColumnTooltip:function(e){if(!e){return null}var t=e.getTooltip_AsString();if(t){return t}var a=e.getLabel();if(a instanceof i){t=a.getTooltip_AsString()}if(t){return t}return null},getGridSize:function(e){var t=a.hasRowHeader(e);var r=a.hasRowActions(e);var i=a.getVisibleColumnCount(e)+(t?1:0)+(r?1:0);var o=a.isNoDataVisible(e)?0:Math.max(e._getTotalRowCount(),e._getRowCounts().count);return{columnCount:i,rowCount:a.getHeaderRowCount(e)+o}},getRowIndex:function(e){return e.getIndex()+1+a.getHeaderRowCount(e.getTable())},updateRowColCount:function(e){var t=e.getTable(),r=t._getItemNavigation(),i=false,o=false,l=false,n=a.hasRowHeader(t);if(r){var s=u.getColumnIndexOfFocusedCell(e)+1+(n?1:0);var c=t.getRows()[a.getRowIndexOfFocusedCell(t)];var d=c?u.getRowIndex(c):0;var E=u.getGridSize(t);i=e._iLastRowNumber!=d||e._iLastRowNumber==d&&e._iLastColumnNumber==s;o=e._iLastColumnNumber!=s;l=e._iLastRowNumber==null&&e._iLastColumnNumber==null;t.$("rownumberofrows").text(i&&d>0?a.getResourceText("TBL_ROW_ROWCOUNT",[d,E.rowCount]):" ");t.$("colnumberofcols").text(o?a.getResourceText("TBL_COL_COLCOUNT",[s,E.columnCount]):" ");t.$("ariacount").text(l?a.getResourceText("TBL_DATA_ROWS_COLS",[E.rowCount,E.columnCount]):" ");e._iLastRowNumber=d;e._iLastColumnNumber=s}return{rowChange:i,colChange:o,initial:l}},cleanupCellModifications:function(e){if(e._cleanupInfo){e._cleanupInfo.cell.attr(e._cleanupInfo.attr);e._cleanupInfo=null}},storeDefaultsBeforeCellModifications:function(e,t,a,r){e._cleanupInfo={cell:t,attr:{"aria-labelledby":a&&a.length?a.join(" "):null,"aria-describedby":r&&r.length?r.join(" "):null}}},performCellModifications:function(e,t,r,i,o,n,s,c){u.storeDefaultsBeforeCellModifications(e,t,r,i);var d=u.updateRowColCount(e);var E=e.getTable();E.$("cellacc").text(s||" ");if(c){c(o,n,d.rowChange,d.colChange,d.initial)}var f="";if(d.initial){f=E.getId()+"-ariacount";if(E.getSelectionMode()!==l.None){f=f+" "+E.getId()+"-ariaselection"}}if(o&&o.length){f=f+" "+o.join(" ")}if(d.initial||d.rowChange){if(a.hasRowNavigationIndicators(E)){var g=a.getCellInfo(t);if(g.type!==a.CELLTYPE.COLUMNHEADER&&g.type!==a.CELLTYPE.COLUMNROWHEADER){var T=E.getRows()[g.rowIndex].getAggregation("_settings");if(T.getNavigated()){f=f+" "+E.getId()+"-rownavigatedtext"}}}}t.attr({"aria-labelledby":f?f:null,"aria-describedby":n&&n.length?n.join(" "):null})},modifyAccOfDATACELL:function(e){var t=this.getTable();var r=t.getId();var i=t._getItemNavigation();var o=e.cell;if(!i){return}var l=a.getRowIndexOfFocusedCell(t),n=u.getColumnIndexOfFocusedCell(this),d=a.getRowColCell(t,l,n,false),E=null,f=d.row,g=f.getId(),T=u.isHiddenCell(o,d.cell),p=u.isTreeColumnCell(this,o),b=u.getAriaAttributesFor(this,c.ELEMENTTYPES.DATACELL,{index:n,column:d.column,fixed:a.isFixedColumn(t,n)})["aria-labelledby"]||[],R=[],h=[r+"-rownumberofrows",r+"-colnumberofcols"],C=f.isGroupHeader(),A=f.isSummary();if(C){h.push(r+"-ariarowgrouplabel")}else if(f.isTotalSummary()){h.push(r+"-ariagrandtotallabel")}else if(f.isGroupSummary()){h.push(r+"-ariagrouptotallabel")}if(a.hasRowHighlights(t)&&!C&&!A){h.push(g+"-highlighttext")}h=h.concat(b);if(!T){E=s.getAccInfoOfControl(d.cell);h.push(E?r+"-cellacc":d.cell.getId());if(a.getInteractiveElements(o)!==null){h.push(r+"-toggleedit")}if(a.Grouping.isInTreeMode(t)&&o.parent().attr("aria-selected")==="true"){h.push(r+"-ariarowselected")}}var v=E?E.description:" ";if(p&&!T){var w=u.getAriaAttributesFor(this,c.ELEMENTTYPES.TREEICON,{row:d.row});if(w&&w["aria-label"]){v=w["aria-label"]+" "+v}}u.performCellModifications(this,o,b,null,h,R,v,function(e,r,i,l){if(C&&i){e.splice(3,0,g+"-groupHeader")}var n=o.find(".sapUiTableTreeIcon").not(".sapUiTableTreeIconLeaf").length==1;if((n||C)&&(i||l)){r.push(t.getId()+(!f.isExpanded()?"-rowexpandtext":"-rowcollapsetext"))}else if(!T&&!C&&!A&&a.isRowSelectionAllowed(t)&&i){e.push(g+"-rowselecttext")}})},modifyAccOfROWHEADER:function(e){var t=this.getTable();var r=t.getId();var i=e.cell;var o=t.getRows()[e.rowIndex];var l=o.getId();var n=u.getAriaAttributesFor(this,c.ELEMENTTYPES.ROWHEADER)["aria-labelledby"]||[];var s=n.concat([r+"-rownumberofrows",r+"-colnumberofcols"]);if(!o.isSummary()&&!o.isGroupHeader()&&!o.isContentHidden()){s.push(l+"-rowselecttext");if(a.hasRowHighlights(t)){s.push(l+"-highlighttext")}}if(o.isGroupHeader()){s.push(r+"-ariarowgrouplabel");s.push(l+"-groupHeader");s.push(r+(o.isExpanded()?"-rowcollapsetext":"-rowexpandtext"))}if(o.isTotalSummary()){s.push(r+"-ariagrandtotallabel")}else if(o.isGroupSummary()){s.push(r+"-ariagrouptotallabel")}u.performCellModifications(this,i,n,null,s,null,null)},modifyAccOfCOLUMNHEADER:function(e){var t=this.getTable();var r=e.cell;var i=sap.ui.getCore().byId(r.attr("data-sap-ui-colid"));var o=u.getAriaAttributesFor(this,c.ELEMENTTYPES.COLUMNHEADER,{headerId:r.attr("id"),column:i,index:r.attr("data-sap-ui-colindex")});var l=u.getColumnTooltip(i);var n=[t.getId()+"-colnumberofcols"].concat(o["aria-labelledby"]);var s=e.columnSpan;if(s>1){n.push(t.getId()+"-ariacolspan");t.$("ariacolspan").text(a.getResourceText("TBL_COL_DESC_SPAN",[""+s]))}if(l){n.push(t.getId()+"-cellacc")}if(s<=1&&i&&i.getFiltered()){n.push(t.getId()+"-ariacolfiltered")}u.performCellModifications(this,r,o["aria-labelledby"],o["aria-describedby"],n,o["aria-describedby"],l)},modifyAccOfCOLUMNROWHEADER:function(e){var t=this.getTable();var a=e.cell;var r=a.hasClass("sapUiTableSelAllVisible");var i=u.getAriaAttributesFor(this,c.ELEMENTTYPES.COLUMNROWHEADER,{enabled:r,checked:r&&!t.$().hasClass("sapUiTableSelAll")});var o=[t.getId()+"-colnumberofcols"].concat(i["aria-labelledby"]);u.performCellModifications(this,a,i["aria-labelledby"],i["aria-describedby"],o,i["aria-describedby"],null)},modifyAccOfROWACTION:function(e){var t=this.getTable();var r=t.getId();var i=e.cell;var o=t.getRows()[e.rowIndex];var l=o.getId();var n=u.isHiddenCell(i);var s=u.getAriaAttributesFor(this,c.ELEMENTTYPES.ROWACTION)["aria-labelledby"]||[];var d=[r+"-rownumberofrows",r+"-colnumberofcols"].concat(s);var E=[];var f=o.isGroupHeader();if(f){d.push(r+"-ariarowgrouplabel");d.push(r+(o.isExpanded()?"-rowcollapsetext":"-rowexpandtext"))}if(o.isTotalSummary()){d.push(r+"-ariagrandtotallabel")}else if(o.isGroupSummary()){d.push(r+"-ariagrouptotallabel")}if(!o.isSummary()&&!o.isGroupHeader()&&i.attr("aria-selected")==="true"){d.push(r+"-ariarowselected")}if(a.hasRowHighlights(t)&&!o.isGroupHeader()&&!o.isSummary()){d.push(l+"-highlighttext")}var g="";if(!n){var T=o.getRowAction();if(T){var p=T.getAccessibilityInfo();if(p){d.push(r+"-cellacc");g=p.description;if(a.getInteractiveElements(i)!==null){E.push(r+"-toggleedit")}}}}u.performCellModifications(this,i,s,[],d,E,g,function(e,t,a){if(f&&a){var i=e.indexOf(r+"-ariarowgrouplabel")+1;e.splice(i,0,l+"-groupHeader")}})},getAriaAttributesFor:function(e,t,r){var o={},n=e.getTable(),s=n.getId();function d(e,t,r,i){var l="";if(r&&i){l="overlay,nodata"}else if(r&&!i){l="overlay"}else if(!r&&i){l="nodata"}var n=false;if(r&&e.getShowOverlay()||i&&a.isNoDataVisible(e)){n=true}if(n){o["aria-hidden"]="true"}if(l){o["data-sap-ui-table-acc-covered"]=l}}switch(t){case c.ELEMENTTYPES.COLUMNROWHEADER:var E=n._getSelectionPlugin().getRenderConfig();if(E.headerSelector.visible){if(E.headerSelector.type==="toggle"){o["role"]=["checkbox"];if(r&&r.enabled){o["aria-checked"]=r.checked?"true":"false"}}else if(E.headerSelector.type==="clear"){o["role"]=["button"];if(!r||!r.enabled){o["aria-disabled"]="true"}}}if(!n._getShowStandardTooltips()&&E.headerSelector.type==="toggle"){o["aria-labelledby"]=[s+"-ariaselectall"]}break;case c.ELEMENTTYPES.ROWHEADER:o["role"]="gridcell";o["aria-colindex"]=1;break;case c.ELEMENTTYPES.ROWACTION:o["role"]="gridcell";o["aria-colindex"]=n._getVisibleColumns().length+1+(a.hasRowHeader(n)?1:0);o["aria-labelledby"]=[s+"-rowacthdr"];break;case c.ELEMENTTYPES.COLUMNHEADER:var f=r&&r.column;var g=r&&r.colspan;o["role"]="columnheader";o["aria-colindex"]=r.index+1+(a.hasRowHeader(n)?1:0);var T=[];if(r&&r.headerId){var p=u.getRelevantColumnHeaders(n,f);var b=p.indexOf(r.headerId);T=b>0?p.slice(0,b+1):[r.headerId]}for(var R=0;R<T.length;R++){T[R]=T[R]+"-inner"}o["aria-labelledby"]=T;if(r&&r.index<n.getComputedFixedColumnCount()){o["aria-labelledby"].push(s+"-ariafixedcolumn")}if(!g&&f&&f.getSorted()){o["aria-sort"]=f.getSortOrder()==="Ascending"?"ascending":"descending"}if(!g&&f){var h=f.getColumnHeaderMenu();if(h){o["aria-haspopup"]=h.getAriaHasPopupType().toLowerCase()}else if(f._menuHasItems()){o["aria-haspopup"]="menu"}}break;case c.ELEMENTTYPES.DATACELL:o["role"]="gridcell";o["aria-colindex"]=r.index+1+(a.hasRowHeader(n)?1:0);if(r.column){var T=u.getRelevantColumnHeaders(n,r.column);for(var R=0;R<T.length;R++){T[R]=T[R]+"-inner"}if(r&&r.fixed){T.push(s+"-ariafixedcolumn")}o["aria-labelledby"]=T}break;case c.ELEMENTTYPES.ROOT:break;case c.ELEMENTTYPES.TABLE:o["role"]="presentation";d(n,o,true,true);break;case c.ELEMENTTYPES.CONTAINER:break;case c.ELEMENTTYPES.CONTENT:o["role"]=a.Grouping.isInGroupMode(n)||a.Grouping.isInTreeMode(n)?"treegrid":"grid";o["aria-labelledby"]=[].concat(n.getAriaLabelledBy());if(n.getTitle()){o["aria-labelledby"].push(n.getTitle().getId())}if(n.getSelectionMode()===l.MultiToggle){o["aria-multiselectable"]="true"}var C=n._getRowCounts();var A=a.hasFixedColumns(n);var v=C.fixedTop>0;var w=C.fixedBottom>0;var L=a.hasRowHeader(n);var m=a.hasRowActions(n);var O=u.getGridSize(n);o["aria-owns"]=[s+"-table"];if(A){o["aria-owns"].push(s+"-table-fixed")}if(v){o["aria-owns"].push(s+"-table-fixrow");if(A){o["aria-owns"].push(s+"-table-fixed-fixrow")}}if(w){o["aria-owns"].push(s+"-table-fixrow-bottom");if(A){o["aria-owns"].push(s+"-table-fixed-fixrow-bottom")}}if(L){o["aria-owns"].push(s+"-sapUiTableRowHdrScr")}if(m){o["aria-owns"].push(s+"-sapUiTableRowActionScr")}o["aria-rowcount"]=O.rowCount;o["aria-colcount"]=O.columnCount;if(n.isA("sap.ui.table.AnalyticalTable")){o["aria-roledescription"]=a.getResourceText("TBL_ANALYTICAL_TABLE_ROLE_DESCRIPTION")}break;case c.ELEMENTTYPES.TABLEHEADER:o["role"]="heading";o["aria-level"]="2";d(n,o,true,false);break;case c.ELEMENTTYPES.COLUMNHEADER_TBL:o["role"]="presentation";break;case c.ELEMENTTYPES.COLUMNHEADER_ROW:o["role"]="row";d(n,o,true,false);break;case c.ELEMENTTYPES.CREATIONROW_TBL:o["role"]="presentation";break;case c.ELEMENTTYPES.CREATIONROW:o["role"]="form";o["aria-labelledby"]=r.creationRow.getId()+"-label";d(n,o,true,false);break;case c.ELEMENTTYPES.ROWHEADER_COL:d(n,o,true,true);break;case c.ELEMENTTYPES.TH:o["role"]="presentation";o["scope"]="col";o["aria-hidden"]="true";break;case c.ELEMENTTYPES.TR:o["role"]="row";if(r.rowNavigated){o["aria-current"]=true}break;case c.ELEMENTTYPES.TREEICON:if(a.Grouping.isInTreeMode(n)){o={"aria-label":"",title:"",role:""};if(n.getBinding()){if(r&&r.row){if(r.row.isExpandable()){var _=a.getResourceText(r.row.isExpanded()?"TBL_COLLAPSE":"TBL_EXPAND");if(n._getShowStandardTooltips()){o["title"]=_}else{o["aria-label"]=_}o["aria-expanded"]=""+!!r.row.isExpanded();o["aria-hidden"]="false";o["role"]="button"}else{o["aria-label"]=a.getResourceText("TBL_LEAF");o["aria-hidden"]="true"}}}}break;case c.ELEMENTTYPES.NODATA:o["role"]="gridcell";var S=a.getNoContentMessage(n);var T=[];if(S instanceof i){if(S.isA("sap.m.IllustratedMessage")){var N=S.getAccessibilityReferences();T.push(N.title);T.push(N.description)}else{T.push(S.getId())}}else{T.push(s+"-noDataMsg")}o["aria-labelledby"]=T;d(n,o,true,false);break;case c.ELEMENTTYPES.OVERLAY:o["role"]="region";o["aria-labelledby"]=[].concat(n.getAriaLabelledBy());if(n.getTitle()){o["aria-labelledby"].push(n.getTitle().getId())}o["aria-labelledby"].push(s+"-ariainvalid");break;case c.ELEMENTTYPES.TABLEFOOTER:case c.ELEMENTTYPES.TABLESUBHEADER:d(n,o,true,false);break;case c.ELEMENTTYPES.ROWACTIONHEADER:o["aria-hidden"]="true";break;case"PRESENTATION":o["role"]="presentation";break}return o}};var c=e.extend("sap.ui.table.extensions.Accessibility",{_init:function(r,i,o){this._accMode=sap.ui.getCore().getConfiguration().getAccessibility();this._busyCells=[];a.addDelegate(r,this);e.enrich(r,t);return"AccExtension"},_attachEvents:function(){a.Hook.register(this.getTable(),a.Hook.Keys.Table.TotalRowCountChanged,this._updateAriaRowCount,this)},_detachEvents:function(){a.Hook.deregister(this.getTable(),a.Hook.Keys.Table.TotalRowCountChanged,this._updateAriaRowCount,this)},_debug:function(){this._ExtensionHelper=u;this._ACCInfoHelper=s},destroy:function(){this.getTable().removeEventDelegate(this);this._busyCells=[];e.prototype.destroy.apply(this,arguments)},getAriaAttributesFor:function(e,t){return u.getAriaAttributesFor(this,e,t)},onfocusin:function(e){var t=this.getTable();if(!t||a.getCellInfo(e.target).cell==null){return}if(t._mTimeouts._cleanupACCExtension){clearTimeout(t._mTimeouts._cleanupACCExtension);t._mTimeouts._cleanupACCExtension=null}this.updateAccForCurrentCell("Focus")},onfocusout:function(e){var t=this.getTable();if(!t){return}t._mTimeouts._cleanupACCExtension=setTimeout(function(){var e=this.getTable();if(!e){return}this._iLastRowNumber=null;this._iLastColumnNumber=null;u.cleanupCellModifications(this);e._mTimeouts._cleanupACCExtension=null}.bind(this),100)}});c.ELEMENTTYPES={DATACELL:"DATACELL",COLUMNHEADER:"COLUMNHEADER",ROWHEADER:"ROWHEADER",ROWACTION:"ROWACTION",COLUMNROWHEADER:"COLUMNROWHEADER",ROOT:"ROOT",CONTAINER:"CONTAINER",CONTENT:"CONTENT",TABLE:"TABLE",TABLEHEADER:"TABLEHEADER",TABLEFOOTER:"TABLEFOOTER",TABLESUBHEADER:"TABLESUBHEADER",COLUMNHEADER_TBL:"COLUMNHEADER_TABLE",COLUMNHEADER_ROW:"COLUMNHEADER_ROW",CREATIONROW_TBL:"CREATIONROW_TABLE",CREATIONROW:"CREATIONROW",ROWHEADER_COL:"ROWHEADER_COL",TH:"TH",TR:"TR",TREEICON:"TREEICON",ROWACTIONHEADER:"ROWACTIONHEADER",NODATA:"NODATA",OVERLAY:"OVERLAY"};c.prototype.getAccMode=function(){return this._accMode};c.prototype._updateAriaRowIndices=function(){if(!this._accMode){return}var e=this.getTable();var t=e.getRows();var a,r;for(r=0;r<t.length;r++){a=t[r];a.getDomRefs(true).row.attr("aria-rowindex",u.getRowIndex(a))}};c.prototype._updateAriaRowCount=function(){var e=this.getTable();var t=e.$("sapUiTableGridCnt");if(t){t.attr("aria-rowcount",u.getGridSize(e).rowCount)}};c.prototype.updateAccForCurrentCell=function(e){if(!this._accMode||!this.getTable()._getItemNavigation()){return}if(e==="Focus"||e===a.RowsUpdateReason.Expand||e===a.RowsUpdateReason.Collapse){u.cleanupCellModifications(this)}var t=u.getInfoOfFocusedCell(this);var r;if(!t||!t.isOfType(n.ANY)){return}if(t.isOfType(n.DATACELL)){r=c.ELEMENTTYPES.DATACELL}else if(t.isOfType(n.COLUMNHEADER)){r=c.ELEMENTTYPES.COLUMNHEADER}else if(t.isOfType(n.ROWHEADER)){r=c.ELEMENTTYPES.ROWHEADER}else if(t.isOfType(n.ROWACTION)){r=c.ELEMENTTYPES.ROWACTION}else if(t.isOfType(n.COLUMNROWHEADER)){r=c.ELEMENTTYPES.COLUMNROWHEADER}if(!u["modifyAccOf"+r]){return}if(e!=="Focus"&&e!==a.RowsUpdateReason.Expand&&e!==a.RowsUpdateReason.Collapse){if(t.isOfType(n.DATACELL|n.ROWHEADER|n.ROWACTION)){t.cell.attr("role","status");t.cell.attr("role","gridcell")}else{return}}u["modifyAccOf"+r].apply(this,[t])};c.prototype.updateAriaStateOfColumn=function(e){if(!this._accMode){return}var t=u.getAriaAttributesFor(this,c.ELEMENTTYPES.COLUMNHEADER,{headerId:e.getId(),column:e,index:this.getTable().indexOfColumn(e)});var a=u.getRelevantColumnHeaders(this.getTable(),e);for(var r=0;r<a.length;r++){var i=o(document.getElementById(a[r]));if(!i.attr("colspan")){i.attr({"aria-sort":t["aria-sort"]||null})}}};c.prototype.updateRowTooltips=function(e,t,r){if(!this._accMode){return}var i=this.getTable();var o=!e.isEmpty()&&!e.isGroupHeader()&&!e.isSummary()&&i._getShowStandardTooltips();if(t.row){if(o&&a.isRowSelectionAllowed(i)&&!t.row.hasClass("sapUiTableRowHidden")){t.row.attr("title",r)}else{t.row.removeAttr("title")}}if(t.rowSelector){if(o&&a.isRowSelectorSelectionAllowed(i)){t.rowSelector.attr("title",r)}else{t.rowSelector.removeAttr("title")}}if(t.rowScrollPart){var l=t.rowScrollPart.add(t.rowFixedPart).add(t.rowActionPart);if(o&&a.isRowSelectionAllowed(i)){l.attr("title",r)}else{l.removeAttr("title")}}};c.prototype.updateSelectionStateOfRow=function(e){if(!this._accMode){return}var t=e.getDomRefs(true);var r="";var i="";if(!e.isEmpty()&&!e.isGroupHeader()&&!e.isSummary()){var o=this.getAriaTextsForSelectionMode(true);var l=this.getTable();var n=l._getSelectionPlugin().isIndexSelected(e.getIndex());if(t.row){t.row.add(t.row.children(".sapUiTableCell")).attr("aria-selected",n?"true":"false")}if(!n){r=o.keyboard["rowSelect"];i=o.mouse["rowSelect"]}else{r=a.getResourceText("TBL_ROW_DESC_SELECTED")+" "+o.keyboard["rowDeselect"];i=o.mouse["rowDeselect"]}}if(t.rowSelectorText){t.rowSelectorText.text(r)}this.updateRowTooltips(e,t,i)};c.prototype.updateAriaExpandAndLevelState=function(e){if(!this._accMode){return}var t=e.getDomRefs(true);var a=t.row.find(".sapUiTableTreeIcon");if(t.rowHeaderPart){t.rowHeaderPart.attr({"aria-haspopup":e.isGroupHeader()?"menu":null})}t.row.attr({"aria-expanded":e.isExpandable()?e.isExpanded()+"":null,"aria-level":e.getLevel()});if(a){a.attr(u.getAriaAttributesFor(this,c.ELEMENTTYPES.TREEICON,{row:e}))}};c.prototype.updateAriaStateOfRowHighlight=function(e){if(!this._accMode||!e){return}var t=e._getRow();var a=t?t.getDomRef("highlighttext"):null;if(a){a.innerText=e._getHighlightText()}};c.prototype._updateAriaStateOfNavigatedRow=function(e){if(!this._accMode||!e){return}var t=e._getRow();var a=e.getNavigated();t.getDomRefs(true).row.attr("aria-current",a?true:null)};c.prototype.updateAriaStateForOverlayAndNoData=function(){var e=this.getTable();if(!e||!e.getDomRef()||!this._accMode){return}if(e.getShowOverlay()){e.$().find("[data-sap-ui-table-acc-covered*='overlay']").attr("aria-hidden","true")}else{e.$().find("[data-sap-ui-table-acc-covered*='overlay']").removeAttr("aria-hidden");if(a.isNoDataVisible(e)){e.$().find("[data-sap-ui-table-acc-covered*='nodata']").attr("aria-hidden","true")}else{e.$().find("[data-sap-ui-table-acc-covered*='nodata']").removeAttr("aria-hidden")}}};c.prototype.getAriaTextsForSelectionMode=function(e,t){var r=this.getTable();if(!t){t=r.getSelectionMode()}var i=r._getShowStandardTooltips();var o={mouse:{rowSelect:"",rowDeselect:""},keyboard:{rowSelect:"",rowDeselect:""}};var n=r._getSelectionPlugin().getSelectedCount();if(t===l.Single){o.mouse.rowSelect=i?a.getResourceText("TBL_ROW_SELECT"):"";o.mouse.rowDeselect=i?a.getResourceText("TBL_ROW_DESELECT"):"";o.keyboard.rowSelect=a.getResourceText("TBL_ROW_SELECT_KEY");o.keyboard.rowDeselect=a.getResourceText("TBL_ROW_DESELECT_KEY")}else if(t===l.MultiToggle){o.mouse.rowSelect=i?a.getResourceText("TBL_ROW_SELECT_MULTI_TOGGLE"):"";o.mouse.rowDeselect=i?a.getResourceText("TBL_ROW_DESELECT"):"";o.keyboard.rowSelect=a.getResourceText("TBL_ROW_SELECT_KEY");o.keyboard.rowDeselect=a.getResourceText("TBL_ROW_DESELECT_KEY");if(e===true&&n===0){o.mouse.rowSelect=i?a.getResourceText("TBL_ROW_SELECT"):""}}return o};c.prototype.setSelectAllState=function(e){var t=this.getTable();if(this._accMode&&t){t.$("selall").attr("aria-checked",e?"true":"false")}};c.prototype.addColumnHeaderLabel=function(e,t){var a=this.getTable();if(!this._accMode||!t.getAriaLabelledBy||!a){return}var r=a.getColumnHeaderVisible()?e.getId():null;if(!r){var i=e.getAggregation("label");if(i){r=i.getId()}}var o=t.getAriaLabelledBy();if(r&&o.indexOf(r)<0){t.addAriaLabelledBy(r)}};return c});
/*!
 * OpenUI5
 * (c) Copyright 2009-2022 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/table/extensions/AccessibilityRender",["./ExtensionBase","../utils/TableUtils","../library"],function(e,t,r){"use strict";var i=r.SelectionMode;var o=function(e,t,r,i,o){o=o||[];o.push("sapUiInvisibleText");e.openStart("span",t+"-"+r);o.forEach(function(t){e.class(t)});e.attr("aria-hidden","true");e.openEnd();if(i){e.text(i)}e.close("span")};var a=e.extend("sap.ui.table.extensions.AccessibilityRender",{_init:function(e,t,r){return"AccRenderExtension"},writeHiddenAccTexts:function(e,r){if(!r._getAccExtension().getAccMode()){return}var a=r.getId();e.openStart("div");e.class("sapUiTableHiddenTexts");e.style("display","none");e.attr("aria-hidden","true");e.openEnd();o(e,a,"ariacount");o(e,a,"toggleedit",t.getResourceText("TBL_TOGGLE_EDIT_KEY"));var c=t.areAllRowsSelected(r);var n=r._getSelectionPlugin().getRenderConfig();var s;if(n.headerSelector.type==="toggle"){s=c?"TBL_DESELECT_ALL":"TBL_SELECT_ALL"}else if(n.headerSelector.type==="clear"){s="TBL_DESELECT_ALL"}o(e,a,"ariaselectall",t.getResourceText(s));o(e,a,"ariarowgrouplabel",t.getResourceText("TBL_ROW_GROUP_LABEL"));o(e,a,"ariagrandtotallabel",t.getResourceText("TBL_GRAND_TOTAL_ROW"));o(e,a,"ariagrouptotallabel",t.getResourceText("TBL_GROUP_TOTAL_ROW"));o(e,a,"rownumberofrows");o(e,a,"colnumberofcols");o(e,a,"cellacc");o(e,a,"ariarowselected",t.getResourceText("TBL_ROW_DESC_SELECTED"));o(e,a,"ariacolmenu",t.getResourceText("TBL_COL_DESC_MENU"));o(e,a,"ariacolspan");o(e,a,"ariacolfiltered",t.getResourceText("TBL_COL_DESC_FILTERED"));o(e,a,"ariacolsortedasc",t.getResourceText("TBL_COL_DESC_SORTED_ASC"));o(e,a,"ariacolsorteddes",t.getResourceText("TBL_COL_DESC_SORTED_DES"));o(e,a,"ariainvalid",t.getResourceText("TBL_TABLE_INVALID"));o(e,a,"ariashowcolmenu",t.getResourceText("TBL_COL_VISBILITY_MENUITEM_SHOW"));o(e,a,"ariahidecolmenu",t.getResourceText("TBL_COL_VISBILITY_MENUITEM_HIDE"));o(e,a,"rowexpandtext",t.getResourceText("TBL_ROW_EXPAND_KEY"));o(e,a,"rowcollapsetext",t.getResourceText("TBL_ROW_COLLAPSE_KEY"));var T=r.getSelectionMode();if(T!==i.None){o(e,a,"ariaselection",t.getResourceText(T==i.MultiToggle?"TBL_TABLE_SELECTION_MULTI":"TBL_TABLE_SELECTION_SINGLE"))}if(r.getComputedFixedColumnCount()>0){o(e,a,"ariafixedcolumn",t.getResourceText("TBL_FIXED_COLUMN"))}if(t.hasRowNavigationIndicators(r)){o(e,a,"rownavigatedtext",t.getResourceText("TBL_ROW_STATE_NAVIGATED"))}e.close("div")},writeAriaAttributesFor:function(e,t,r,i){var o=t._getAccExtension();if(!o.getAccMode()){return}var a=o.getAriaAttributesFor(r,i);var c,n;for(n in a){c=a[n];if(Array.isArray(c)){c=c.join(" ")}if(c){e.attr(n.toLowerCase(),c)}}},writeAccRowSelectorText:function(e,t,r,i){if(!t._getAccExtension().getAccMode()){return}var a=t._getSelectionPlugin().isIndexSelected(i);var c=t._getAccExtension().getAriaTextsForSelectionMode(true);var n=c.keyboard[a?"rowDeselect":"rowSelect"];if(!r.isGroupHeader()&&!r.isSummary()){o(e,r.getId(),"rowselecttext",r.isEmpty()?"":n,["sapUiTableAriaRowSel"])}},writeAccRowHighlightText:function(e,t,r,i){if(!t._getAccExtension().getAccMode()){return}var a=r.getAggregation("_settings");var c=a._getHighlightText();o(e,r.getId(),"highlighttext",c)},writeAccCreationRowText:function(e,r,i){if(!r._getAccExtension().getAccMode()){return}o(e,i.getId(),"label",t.getResourceText("TBL_CREATEROW_LABEL"))}});return a});
/*!
 * OpenUI5
 * (c) Copyright 2009-2022 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/table/extensions/DragAndDrop",["./ExtensionBase","../utils/TableUtils","sap/ui/core/library"],function(t,e,o){"use strict";var r="sap.ui.table";var a=o.dnd.DropPosition;var i={getSessionData:function(t,e){return t.getComplexData(r+(e==null?"":"-"+e))},setSessionData:function(t,e,o){t.setComplexData(r+(o==null?"":"-"+o),e)},getInstanceSessionData:function(t,e){return this.getSessionData(t,e.getId())},setInstanceSessionData:function(t,e,o){this.setSessionData(t,o,e.getId())}};var n={ondragstart:function(t){var e=t.dragSession;if(!e||!e.getDragControl()){return}var o=e.getDragControl();var r={};if(o.isA("sap.ui.table.Row")){if(o.isEmpty()||o.isGroupHeader()||o.isSummary()){t.preventDefault();return}else{r.draggedRowContext=o.getRowBindingContext()}}i.setInstanceSessionData(e,this,r)},ondragenter:function(t){var o=t.dragSession;if(!o||!o.getDropControl()){return}var r=i.getInstanceSessionData(o,this);var n=o.getDragControl();var s=o.getDropControl();if(!r){r={}}if(s.isA("sap.ui.table.Row")){var l=r.draggedRowContext;var g=s.getRowBindingContext();var f=o.getDropInfo().getDropPosition();if(s.isEmpty()&&f===a.On&&e.hasData(this)||l&&l===g||s.isGroupHeader()||s.isSummary()){t.setMarked("NonDroppable")}else{if(!g){var p=this.getRows()[e.getNonEmptyRowCount(this)-1];o.setDropControl(p||this)}if(o.getDropControl()!==this){var d=this.getDomRef().classList.contains("sapUiTableVScr");var u=this.getDomRef("sapUiTableCnt").getBoundingClientRect();o.setIndicatorConfig({width:u.width-(d?16:0),left:u.left+(this._bRtlMode&&d?16:0)})}}}else if(s.isA("sap.ui.table.Column")){var u=this.getDomRef("sapUiTableCnt").getBoundingClientRect();o.setIndicatorConfig({height:u.height-(this._getScrollExtension().isHorizontalScrollbarVisible()?16:0)})}else if(n===s){t.setMarked("NonDroppable")}if(!r.verticalScrollEdge){var v=window.pageYOffset;var c=this.getDomRef("table").getBoundingClientRect();r.verticalScrollEdge={bottom:c.bottom+v,top:c.top+v}}var D=window.pageXOffset;var h=this.getDomRef("sapUiTableCtrlScr").getBoundingClientRect();r.horizontalScrollEdge={left:h.left+D,right:h.right+D};i.setInstanceSessionData(o,this,r)},ondragover:function(t){var e=t.dragSession;if(!e){return}var o=i.getInstanceSessionData(e,this);if(!o){return}var r=32;var a=50;var n=e.getDropControl();var s=this._getScrollExtension();var l=s.getVerticalScrollbar();var g=s.getHorizontalScrollbar();var f=o.verticalScrollEdge;var p=o.horizontalScrollEdge;if(f&&l&&n!==this){var d=t.pageY;if(d>=f.top-a&&d<=f.top+a){l.scrollTop-=r}else if(d<=f.bottom+a&&d>=f.bottom-a){l.scrollTop+=r}}if(p&&g&&n!==this){var u=t.pageX;if(u>=p.left-a&&u<=p.left+a){g.scrollLeft-=r}else if(u<=p.right+a&&u>=p.right-a){g.scrollLeft+=r}}},onlongdragover:function(t){var o=t.dragSession;if(!o){return}var r=e.getCell(this,t.target);var a=e.getCellInfo(r).rowIndex;var i=a==null?null:this.getRows()[a];var n=o.getDropControl();if(i&&(n===i||!n)){i.expand()}}};var s=t.extend("sap.ui.table.extensions.DragAndDrop",{_init:function(t,o,r){this._oDelegate=n;e.addDelegate(t,this._oDelegate,t);return"DragAndDropExtension"},_debug:function(){this._ExtensionDelegate=n},destroy:function(){var e=this.getTable();if(e){e.removeEventDelegate(this._oDelegate)}this._oDelegate=null;t.prototype.destroy.apply(this,arguments)}});return s});
/*!
 * OpenUI5
 * (c) Copyright 2009-2022 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/table/extensions/ExtensionBase",["sap/ui/base/Object"],function(t){"use strict";var e=t.extend("sap.ui.table.extensions.ExtensionBase",{_table:null,_type:null,_settings:null,constructor:function(n,s){t.call(this);this._table=n;this._settings=s||{};this._type=e.TABLETYPES.STANDARD;if(n.isA("sap.ui.table.TreeTable")){this._type=e.TABLETYPES.TREE}else if(n.isA("sap.ui.table.AnalyticalTable")){this._type=e.TABLETYPES.ANALYTICAL}var i=this._init(this._table,this._type,this._settings);if(i){var a=this;n["_get"+i]=function(){return a}}},destroy:function(){this._table=null;this._type=null;this.bIsDestroyed=true;t.prototype.destroy.apply(this,arguments)},getInterface:function(){return this}});e.TABLETYPES={TREE:"TREE",ANALYTICAL:"ANALYTICAL",STANDARD:"STANDARD"};e.prototype.getTable=function(){return this._table};e.prototype._init=function(t,e,n){return null};e.prototype._attachEvents=function(){};e.prototype._detachEvents=function(){};e.attachEvents=function(t){if(!t._aExtensions){return}for(var e=0;e<t._aExtensions.length;e++){t._aExtensions[e]._attachEvents()}};e.detachEvents=function(t){if(!t._aExtensions){return}for(var e=0;e<t._aExtensions.length;e++){t._aExtensions[e]._detachEvents()}};e.enrich=function(t,n,s){if(!n||!(n.prototype instanceof e)){return null}var i=new n(t,s);if(!t._aExtensions){t._aExtensions=[]}t._aExtensions.push(i);return i};e.cleanup=function(t){if(!t._bExtensionsInitialized||!t._aExtensions){return}for(var e=0;e<t._aExtensions.length;e++){t._aExtensions[e].destroy()}delete t._aExtensions;delete t._bExtensionsInitialized};e.isEnrichedWith=function(t,e){if(!t||!t._aExtensions){return false}for(var n=0;n<t._aExtensions.length;n++){if(t._aExtensions[n].getMetadata().getName()===e){return true}}return false};return e});
/*!
 * OpenUI5
 * (c) Copyright 2009-2022 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/table/extensions/Keyboard",["./ExtensionBase","./KeyboardDelegate","../utils/TableUtils","sap/ui/core/delegate/ItemNavigation","sap/ui/Device","sap/ui/dom/containsOrEquals","sap/ui/thirdparty/jquery"],function(e,t,i,o,a,n,s){"use strict";var l={_forward:function(e,t){var i=e._getItemNavigation();if(i!=null&&!e._getKeyboardExtension().isItemNavigationSuspended()&&!t.isMarked("sapUiTableSkipItemNavigation")){i["on"+t.type](t)}},onfocusin:function(e){l._forward(this,e)},onsapfocusleave:function(e){l._forward(this,e)},onmousedown:function(e){l._forward(this,e)},onsapnext:function(e){l._forward(this,e)},onsapnextmodifiers:function(e){l._forward(this,e)},onsapprevious:function(e){l._forward(this,e)},onsappreviousmodifiers:function(e){l._forward(this,e)},onsappageup:function(e){l._forward(this,e)},onsappagedown:function(e){l._forward(this,e)},onsaphome:function(e){l._forward(this,e)},onsaphomemodifiers:function(e){l._forward(this,e)},onsapend:function(e){l._forward(this,e)},onsapendmodifiers:function(e){l._forward(this,e)},onsapkeyup:function(e){l._forward(this,e)}};var r={onBeforeRendering:function(e){this._oStoredFocusInfo=this.getFocusInfo()},onAfterRendering:function(e){var t=e&&e.isMarked("renderRows");this._getKeyboardExtension().invalidateItemNavigation();if(this._oStoredFocusInfo&&this._oStoredFocusInfo.customId){if(t){this.applyFocusInfo(this._oStoredFocusInfo)}else{f.initItemNavigation(this._getKeyboardExtension(),true)}}delete this._oStoredFocusInfo},onfocusin:function(e){var t=this._getKeyboardExtension();if(!t._bIgnoreFocusIn){f.initItemNavigation(this._getKeyboardExtension())}else{e.setMarked("sapUiTableIgnoreFocusIn")}if(e.target&&e.target.id===this.getId()+"-rsz"){e.preventDefault();e.setMarked("sapUiTableSkipItemNavigation")}}};var f={initItemNavigation:function(e,t){if(f.isItemNavigationInvalid(e)){f._initItemNavigation(e,t)}},_initItemNavigation:function(e,t){var a=e.getTable();if(!a){return}var n=a.$();var l=a.getRows().length;var r=i.getVisibleColumnCount(a);var d=i.hasRowHeader(a);var u=i.hasRowActions(a);var c=i.hasFixedColumns(a);var g;var p=[],v,h,m,_,b;if(c){m=n.find(".sapUiTableCtrlFixed.sapUiTableCtrlRowFixed:not(.sapUiTableCHT)");_=n.find(".sapUiTableCtrlFixed.sapUiTableCtrlRowScroll:not(.sapUiTableCHT)");b=n.find(".sapUiTableCtrlFixed.sapUiTableCtrlRowFixedBottom:not(.sapUiTableCHT)")}var I=n.find(".sapUiTableCtrlScroll.sapUiTableCtrlRowFixed:not(.sapUiTableCHT)");var C=n.find(".sapUiTableCtrlScroll.sapUiTableCtrlRowScroll:not(.sapUiTableCHT)");var R=n.find(".sapUiTableCtrlScroll.sapUiTableCtrlRowFixedBottom:not(.sapUiTableCHT)");if(d){v=n.find(".sapUiTableRowSelectionCell").get();r++}if(u){h=n.find(".sapUiTableRowActionCell").get();r++}for(g=0;g<l;g++){if(d){p.push(v[g])}if(c){p=p.concat(m.find('tr[data-sap-ui-rowindex="'+g+'"]').find("td[tabindex]").get())}p=p.concat(I.find('tr[data-sap-ui-rowindex="'+g+'"]').find("td[tabindex]").get());if(c){p=p.concat(_.find('tr[data-sap-ui-rowindex="'+g+'"]').find("td[tabindex]").get())}p=p.concat(C.find('tr[data-sap-ui-rowindex="'+g+'"]').find("td[tabindex]").get());if(c){p=p.concat(b.find('tr[data-sap-ui-rowindex="'+g+'"]').find("td[tabindex]").get())}p=p.concat(R.find('tr[data-sap-ui-rowindex="'+g+'"]').find("td[tabindex]").get());if(u){p.push(h[g])}}if(a.getColumnHeaderVisible()){var T=[];var w=n.find(".sapUiTableCHT.sapUiTableCtrlFixed>tbody>tr");var N=n.find(".sapUiTableCHT.sapUiTableCtrlScroll>tbody>tr");var F=i.getHeaderRowCount(a);for(g=0;g<F;g++){if(d){T.push(a.getDomRef("selall"))}if(w.length){T=T.concat(s(w.get(g)).find(".sapUiTableHeaderCell").get())}if(N.length){T=T.concat(s(N.get(g)).find(".sapUiTableHeaderCell").get())}if(u){T.push(n.find(".sapUiTableRowActionHeaderCell").children().get(0))}}p=T.concat(p)}if(!e._itemNavigation){e._itemNavigation=new o;e._itemNavigation.setTableMode(true);e._itemNavigation.attachEvent(o.Events.AfterFocus,function(t){var o=i.getFocusedItemInfo(a);o.header=i.getHeaderRowCount(a);o.domRef=null;if(o.row>=o.header){e._oLastFocusedCellInfo=o}},a)}e._itemNavigation.setColumns(r);e._itemNavigation.setRootDomRef(n.find(".sapUiTableCnt").get(0));e._itemNavigation.setItemDomRefs(p);if(!t){e._itemNavigation.setFocusedIndex(f.getInitialItemNavigationIndex(e))}e._itemNavigationInvalidated=false},getInitialItemNavigationIndex:function(e){return i.hasRowHeader(e.getTable())?1:0},isItemNavigationInvalid:function(e){return!e._itemNavigation||e._itemNavigationInvalidated}};var d=e.extend("sap.ui.table.extensions.Keyboard",{_init:function(e,o,a){this._itemNavigation=null;this._itemNavigationInvalidated=false;this._itemNavigationSuspended=false;this._delegate=new t(o);this._actionMode=false;i.addDelegate(e,r,e);i.addDelegate(e,this._delegate,e);i.addDelegate(e,l,e);e._getItemNavigation=function(){return this._itemNavigation}.bind(this);return"KeyboardExtension"},_debug:function(){this._ExtensionHelper=f;this._ItemNavigationDelegate=l;this._ExtensionDelegate=r},destroy:function(){var t=this.getTable();if(t){t.removeEventDelegate(r);t.removeEventDelegate(this._delegate);t.removeEventDelegate(l)}if(this._itemNavigation){this._itemNavigation.destroy();this._itemNavigation=null}if(this._delegate){this._delegate.destroy();this._delegate=null}e.prototype.destroy.apply(this,arguments)}});d.prototype.initItemNavigation=function(){f.initItemNavigation(this)};d.prototype.invalidateItemNavigation=function(){this._itemNavigationInvalidated=true};d.prototype.setActionMode=function(e){if(!this._delegate){return}if(e===true&&!this._actionMode&&this._delegate.enterActionMode){this._actionMode=this._delegate.enterActionMode.apply(this.getTable(),Array.prototype.slice.call(arguments,1))===true}else if(e===false&&this._actionMode&&this._delegate.leaveActionMode){this._actionMode=false;this._delegate.leaveActionMode.apply(this.getTable(),Array.prototype.slice.call(arguments,1))}};d.prototype.isInActionMode=function(){return this._actionMode};d.prototype.updateNoDataAndOverlayFocus=function(){var e=this.getTable();var t=document.activeElement;if(!e||!e.getDomRef()){return}if(e.getShowOverlay()){if(n(e.getDomRef(),t)&&e.$("overlay")[0]!==t){this._oLastFocus={Ref:t,Pos:"overlay"};e.getDomRef("overlay").focus()}}else if(i.isNoDataVisible(e)&&e.$("noDataCnt")[0]!==t){if(n(e.getDomRef("tableCCnt"),t)){this._oLastFocus={Ref:t,Pos:"table content"};if(a.browser.safari){e.getDomRef("noDataCnt").getBoundingClientRect()}e.getDomRef("noDataCnt").focus()}else if(e.$("overlay")[0]===t){c(e,this)}}else if(this._oLastFocus){if(this._oLastFocus.Pos==="table content"){if(n(e.getDomRef("tableCCnt"),this._oLastFocus.Ref)){u(e,this)}else if(e.getRows()[0]&&e.getRows()[0].getDomRef("col0")){e.getRows()[0].getDomRef("col0").focus();this._oLastFocus=null}}else if(this._oLastFocus.Pos==="overlay"){if(n(e.getDomRef(),this._oLastFocus.Ref)){u(e,this)}else{c(e,this)}}}};function u(e,t){if(!s(t._oLastFocus.Ref).hasClass("sapUiTableCell")){var o=i.getParentCell(e,t._oLastFocus.Ref);if(o&&o[0]&&s(o[0]).hasClass("sapUiTableCell")){o[0].focus()}else{t._oLastFocus.Ref.focus()}}else{t._oLastFocus.Ref.focus()}t._oLastFocus=null}function c(e,t){if(e.getColumnHeaderVisible()){i.focusItem(e,f.getInitialItemNavigationIndex(t));t._oLastFocus=null}else if(i.isNoDataVisible(e)){e.getDomRef("noDataCnt").focus();t._oLastFocus=null}else if(e.getRows()[0]&&e.getRows()[0].getDomRef("col0")){e.getRows()[0].getDomRef("col0").focus();t._oLastFocus=null}}d.prototype.suspendItemNavigation=function(){this._itemNavigationSuspended=true};d.prototype.resumeItemNavigation=function(){this._itemNavigationSuspended=false};d.prototype.isItemNavigationSuspended=function(){return this._itemNavigationSuspended};d.prototype.getLastFocusedCellInfo=function(){var e=i.getHeaderRowCount(this.getTable());if(!this._oLastFocusedCellInfo||this._oLastFocusedCellInfo.header!=e){var t=i.getFocusedItemInfo(this.getTable());var o=f.getInitialItemNavigationIndex(this);return{cellInRow:o,row:e,header:e,cellCount:t.cellCount,columnCount:t.columnCount,cell:t.columnCount*e+o}}return this._oLastFocusedCellInfo};d.prototype.setSilentFocus=function(e){this._bIgnoreFocusIn=true;this.setFocus(e);this._bIgnoreFocusIn=false};d.prototype.setFocus=function(e){if(!e){return}var t=this.getTable();var o=i.getCellInfo(e);if(o.isOfType(i.CELLTYPE.ANY)&&t){var a=s(e);if(a.attr("tabindex")!="0"){var n=t._getItemNavigation();if(n&&n.aItemDomRefs){for(var l=0;l<n.aItemDomRefs.length;l++){if(n.aItemDomRefs[l]){n.aItemDomRefs[l].setAttribute("tabindex","-1")}}}a.attr("tabindex","0")}}if(e instanceof HTMLElement){e.focus()}else{e.trigger("focus")}};return d});
/*!
 * OpenUI5
 * (c) Copyright 2009-2022 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/table/extensions/KeyboardDelegate",["../utils/TableUtils","../library","sap/ui/base/Object","sap/ui/Device","sap/ui/events/KeyCodes","sap/ui/thirdparty/jquery"],function(e,t,i,o,n,s){"use strict";var r=e.CELLTYPE;var l=t.SelectionMode;var a={CTRL:1,SHIFT:2,ALT:4};var f=5;var u="1rem";function g(e,t){e.setMarked("sapUiTableSkipItemNavigation",t!==false)}function c(t){if(e.getCellInfo(t.target).isOfType(r.ANY)){t.preventDefault();t.stopPropagation()}}var d=i.extend("sap.ui.table.extensions.KeyboardDelegate",{constructor:function(e){i.call(this)},destroy:function(){i.prototype.destroy.apply(this,arguments)},getInterface:function(){return this}});function v(t,i){if(!I(t,i)){return}var o=e.getCellInfo(e.getCell(t,i.target));if(o.isOfType(r.ANYCOLUMNHEADER)){C(t,o,i)}else if(o.isOfType(r.ANYCONTENTCELL)){p(t,o,i)}}function C(t,i,o){var n=e.getHeaderRowCount(t);if(e.isNoDataVisible(t)){var s=e.getFocusedItemInfo(t);if(s.row-n<=1){g(o)}}else if(i.isOfType(r.COLUMNROWHEADER)&&n>1){g(o);e.focusItem(t,n*(e.getVisibleColumnCount(t)+1),o)}}function p(t,i,o){var n=t._getKeyboardExtension();var s=n.isInActionMode();var r=d._isKeyCombination(o,null,a.CTRL);var l=r||s;var f=e.getParentCell(t,o.target);if(!l&&f){f.trigger("focus");return}g(o);if(e.isLastScrollableRow(t,i.cell)){var u=m(t,o);if(u){o.preventDefault();return}}if(i.rowIndex===t.getRows().length-1){if(!s&&f){f.trigger("focus")}else{var c=t.getCreationRow();if(!c||!c._takeOverKeyboardHandling(o)){n.setActionMode(false)}}return}M(t,i.type,i.rowIndex+1,i.columnIndex,l);o.preventDefault()}function h(t,i){var o=e.getCellInfo(e.getCell(t,i.target));if(!o.isOfType(r.ANYCONTENTCELL)||!I(t,i)){return}var n=d._isKeyCombination(i,null,a.CTRL);var s=t._getKeyboardExtension();var l=s.isInActionMode();var f=n||l;var u=e.getParentCell(t,i.target);if(!f&&u){u.trigger("focus");return}g(i);if(e.isFirstScrollableRow(t,o.cell)){var c=T(t,i);if(c){i.preventDefault();return}}if(o.rowIndex===0){g(i,o.isOfType(r.ROWACTION)||f);if(!l&&u){u.trigger("focus")}else{s.setActionMode(false)}return}M(t,o.type,o.rowIndex-1,o.columnIndex,f);i.preventDefault()}function I(e,t){var i=d._isKeyCombination(t,null,a.CTRL);return!t.isMarked()&&(i||!(t.target instanceof window.HTMLInputElement)&&!(t.target instanceof window.HTMLTextAreaElement))}function E(t,i){if(i.isMarked()){return}var o=e.getCellInfo(e.getCell(t,i.target));var n=sap.ui.getCore().getConfiguration().getRTL();if(!o.isOfType(r.COLUMNHEADER)||!n){return}var s=e.getFocusedItemInfo(t);var l=s.cellInRow-(e.hasRowHeader(t)?1:0);var a=e.getVisibleColumnCount(t);if(e.hasRowActions(t)&&l===a-1){g(i)}}function m(e,t,i,o){var n=e._getFirstRenderedRowIndex()===e._getMaxFirstRenderedRowIndex();if(n){return null}R(e,t,true,i,o);return true}function T(e,t,i,o){var n=e._getFirstRenderedRowIndex()===0;if(n){return false}R(e,t,false,i,o);return true}function R(t,i,o,n,s){var l=e.getCellInfo(e.getCell(t,i.target));var f=t._getKeyboardExtension().isInActionMode();var u=d._isKeyCombination(i,null,a.CTRL);var g=u||f;var c=f&&l.isOfType(r.DATACELL);if(c){t._getKeyboardExtension().setSilentFocus(t.getDomRef("focusDummy"));setTimeout(function(){t._getScrollExtension().scrollVertically(o===true,n)},0)}else{t._getScrollExtension().scrollVertically(o===true,n)}if(g||s){t.attachEventOnce("rowsUpdated",function(){if(s){s()}else{M(t,l.type,l.rowIndex,l.columnIndex,true)}})}}function y(e,t){var i=e._getRowCounts();var o=m(e,t,false,function(){A(e,i.fixedTop+i.scrollable-1)});if(o){return}if(i.fixedBottom>0){A(e,i.fixedTop+i.scrollable)}else{e._getKeyboardExtension().setActionMode(false)}}function A(t,i){var o=t.getRows()[i];var n=o.isGroupHeader()||e.isRowSelectorSelectionAllowed(t);if(n){M(t,r.ROWHEADER,i)}else{var s=d._getFirstInteractiveElement(o);if(s){d._focusElement(t,s[0])}else{M(t,r.DATACELL,i,0,false,true);if(o.getIndex()===t._getTotalRowCount()-1){t._getKeyboardExtension().setActionMode(false)}}}}function O(e,t){var i=e._getRowCounts();var o=T(e,t,false,function(){x(e,i.fixedTop)});if(o){return}if(i.fixedTop>0){x(e,i.fixedTop-1)}else{e._getKeyboardExtension().setActionMode(false)}}function x(t,i){var o=t.getRows()[i];var n=o.isGroupHeader()||e.isRowSelectorSelectionAllowed(t);var s=d._getLastInteractiveElement(o);if(s){d._focusElement(t,s[0])}else if(n){M(t,r.ROWHEADER,i)}else{M(t,r.DATACELL,i,0,false,true);if(o.getIndex()===0){t._getKeyboardExtension().setActionMode(false)}}}function _(t,i){var o=e.getFocusedItemInfo(t);var n=t._getKeyboardExtension().getLastFocusedCellInfo();e.focusItem(t,o.cellInRow+o.columnCount*n.row,i)}function w(t,i){var o=e.getFocusedItemInfo(t);e.focusItem(t,o.cellInRow,i)}function b(e,t){e._getKeyboardExtension().setSilentFocus(e.$().find("."+t))}d._isKeyCombination=function(e,t,i){if(i==null){i=0}var s=typeof t==="string"?String.fromCharCode(e.charCode):e.keyCode;var r=0;r|=(o.os.macintosh?e.metaKey:e.ctrlKey)&&t!==n.CONTROL?a.CTRL:0;r|=e.shiftKey&&t!==n.SHIFT?a.SHIFT:0;r|=e.altKey&&t!==n.ALT?a.ALT:0;var l=t==null||s===t;var f=i===r;return l&&f};function L(t,i){var o=e.getCell(t,i);var n=e.getCellInfo(o);return t.getRows()[n.rowIndex]}function N(t,i){var o=e.getCellInfo(i.target);if(o.isOfType(r.COLUMNROWHEADER)){t._getSelectionPlugin().onHeaderSelectorPress()}else if(d._allowsToggleExpandedState(t,i.target)){L(t,i.target).toggleExpandedState()}else if(o.isOfType(r.ROWHEADER)){l()}else if(o.isOfType(r.DATACELL|r.ROWACTION)){var n=!t.hasListeners("cellClick");if(!t._findAndfireCellEvent(t.fireCellClick,i)){if(e.isRowSelectionAllowed(t)){l();n=false}}if(n){var s=e.getInteractiveElements(i.target);if(s){t._getKeyboardExtension().setActionMode(true)}}}function l(){var o=null;if(t._legacyMultiSelection){o=function(e){t._legacyMultiSelection(e,i);return true}}e.toggleRowSelection(t,i.target,null,o)}}function S(t,i){var o=t.getParent();var n=o._getVisibleColumns();var s=n.indexOf(t);var r;if(i&&s<n.length-1){r=o.indexOfColumn(n[s+1])+1}else if(!i&&s>0){r=o.indexOfColumn(n[s-1])}if(r!=null){e.Column.moveColumnTo(t,r)}}function D(e,t){var i=e.getColumns().filter(function(e){return e.getVisible()||e.getGrouped()});for(var o=0;o<i.length;o++){var n=i[o];if(n===t){return o}}return-1}d._focusElement=function(e,t,i){if(!e||!t){return}if(i==null){i=false}if(i){e._getKeyboardExtension().setSilentFocus(t)}else{t.focus()}if(t instanceof window.HTMLInputElement){t.select()}};function M(t,i,o,n,s,l){if(!t||i==null||o==null||o<0||o>=t.getRows().length){return}var a=t.getRows()[o];var f;if(i===r.ROWHEADER){t._getKeyboardExtension().setFocus(t.getDomRef("rowsel"+o));return}else if(i===r.ROWACTION){f=t.getDomRef("rowact"+o)}else if(i===r.DATACELL&&(n!=null&&n>=0)){var u=t.getColumns()[n];var g=D(t,u);if(g>=0){f=a.getDomRef("col"+g)}}if(!f){return}if(s){var c=e.getInteractiveElements(f);if(c){d._focusElement(t,c[0]);return}}if(l){t._getKeyboardExtension()._bStayInActionMode=true}f.focus()}function K(e){return e.classList.contains("sapUiTableTreeIconNodeOpen")||e.classList.contains("sapUiTableTreeIconNodeClosed")}d._allowsToggleExpandedState=function(t,i){return e.Grouping.isInGroupHeaderRow(i)||e.Grouping.isInTreeMode(t)&&i.classList.contains("sapUiTableCellFirst")&&(i.querySelector(".sapUiTableTreeIconNodeOpen")||i.querySelector(".sapUiTableTreeIconNodeClosed"))||K(i)};d._isElementInteractive=function(t){if(!t){return false}return s(t).is(e.INTERACTIVE_ELEMENT_SELECTORS)};d._getFirstInteractiveElement=function(t){var i=e.getFirstInteractiveElement(t,true);if(!i){return null}return s(i)};d._getLastInteractiveElement=function(t){if(!t){return null}var i=t.getParent();var o=t.getCells();var n;var s;if(e.hasRowActions(i)){o.push(t.getRowAction())}for(var r=o.length-1;r>=0;r--){n=e.getParentCell(i,o[r].getDomRef());s=e.getInteractiveElements(n);if(s){return s.last()}}return null};d._getPreviousInteractiveElement=function(t,i){if(!t||!i){return null}var o=s(i);if(!this._isElementInteractive(o)){return null}var n=e.getParentCell(t,i);var l;var a;var f;var u;var g;var c;var d;l=e.getInteractiveElements(n);if(l[0]!==o[0]){return l.eq(l.index(i)-1)}a=e.getCellInfo(n);u=t.getRows()[a.rowIndex].getCells();if(a.isOfType(r.ROWACTION)){d=u.length-1}else{g=t.getColumns()[a.columnIndex];c=D(t,g);d=c-1}for(var v=d;v>=0;v--){f=u[v].getDomRef();n=e.getParentCell(t,f);l=e.getInteractiveElements(n);if(l){return l.last()}}return null};d._getNextInteractiveElement=function(t,i){if(!t||!i){return null}var o=s(i);if(!this._isElementInteractive(o)){return null}var n=e.getParentCell(t,i);var l;var a;var f;var u;var g;var c;var d;l=e.getInteractiveElements(n);if(l.get(-1)!==o[0]){return l.eq(l.index(i)+1)}a=e.getCellInfo(n);if(a.isOfType(r.ROWACTION)){return null}c=t.getRows()[a.rowIndex];u=c.getCells();g=t.getColumns()[a.columnIndex];d=D(t,g);for(var v=d+1;v<u.length;v++){f=u[v].getDomRef();n=e.getParentCell(t,f);l=e.getInteractiveElements(n);if(l){return l.first()}}if(e.hasRowActions(t)){n=e.getParentCell(t,c.getRowAction().getDomRef());l=e.getInteractiveElements(n);if(l.get(-1)!==o[0]){return l.eq(l.index(i)+1)}}return null};function H(t){var i=e.getRowIndexOfFocusedCell(t);var o=t.getRows()[i].getIndex();var n=t._getSelectionPlugin();t._oRangeSelection={startIndex:o,selected:n.isIndexSelected(o)}}d.prototype.enterActionMode=function(){var t=this._getKeyboardExtension();var i=document.activeElement;var o=e.getInteractiveElements(i);var n=e.getParentCell(this,i);var s=e.getCellInfo(n);if(s.isOfType(r.ANYCOLUMNHEADER)){return false}if(o){t.suspendItemNavigation();i.tabIndex=-1;d._focusElement(this,o[0],true);return true}else if(n){this._getKeyboardExtension().suspendItemNavigation();return true}return false};d.prototype.leaveActionMode=function(t){t=t==null?true:t;var i=this._getKeyboardExtension();var o=document.activeElement;var n=e.getParentCell(this,o);i.resumeItemNavigation();if(t){if(n){d._focusElement(this,n[0],true)}else{var s=this._getItemNavigation();if(s){var r=s.aItemDomRefs;var l=r.indexOf(o);if(l>-1){s.setFocusedIndex(l)}}i.setSilentFocus(o)}}};d.prototype.onfocusin=function(t){if(t.isMarked("sapUiTableIgnoreFocusIn")){return}var i=s(t.target);if(i.hasClass("sapUiTableOuterBefore")||i.hasClass("sapUiTableOuterAfter")||t.target!=this.getDomRef("overlay")&&this.getShowOverlay()){this.$("overlay").trigger("focus")}else if(i.hasClass("sapUiTableCtrlBefore")){var o=e.isNoDataVisible(this);if(!o||o&&this.getColumnHeaderVisible()){w(this,t)}else{this._getKeyboardExtension().setSilentFocus(this.$("noDataCnt"))}}else if(i.hasClass("sapUiTableCtrlAfter")){if(!e.isNoDataVisible(this)){_(this,t)}}var n=e.getCellInfo(t.target);var l=n.isOfType(r.ROWHEADER)&&e.Grouping.isInGroupHeaderRow(t.target);var a=n.isOfType(r.ROWHEADER)&&!l&&e.isRowSelectorSelectionAllowed(this);var f=n.isOfType(r.DATACELL)&&this._getKeyboardExtension()._bStayInActionMode;var u=e.getCellInfo(e.getParentCell(this,t.target)).isOfType(r.ANYCONTENTCELL);var g=d._isElementInteractive(t.target);var c=this._getKeyboardExtension().isInActionMode();var v=c&&(l||a||f)||g&&u;if(f){this._getKeyboardExtension()._bStayInActionMode=false}this._getKeyboardExtension().setActionMode(v,false)};d.prototype.onkeydown=function(t){var i=this._getKeyboardExtension();var o=e.getCellInfo(t.target);var s=this.getSelectionMode();var f=this._getSelectionPlugin();if(d._isKeyCombination(t,n.F2)){var u=i.isInActionMode();var g=e.getCell(this,t.target);var c=e.getParentCell(this,t.target)!=null;o=e.getCellInfo(g);if(!u&&c){g.trigger("focus")}else if(o.isOfType(r.ANYCOLUMNHEADER)){var v=e.getInteractiveElements(g);if(v){v[0].focus()}}else{i.setActionMode(!u)}return}if(d._isKeyCombination(t,n.F4)&&d._allowsToggleExpandedState(this,t.target)){L(this,t.target).toggleExpandedState();return}if(d._isKeyCombination(t,n.SPACE)&&K(t.target)){t.preventDefault();return}if(this._getKeyboardExtension().isInActionMode()||!o.isOfType(r.ANY)){return}if(d._isKeyCombination(t,n.SPACE)){t.preventDefault()}if(d._isKeyCombination(t,n.SHIFT)&&s===l.MultiToggle&&(o.isOfType(r.ROWHEADER)&&e.isRowSelectorSelectionAllowed(this)||o.isOfType(r.DATACELL|r.ROWACTION))){H(this)}else if(d._isKeyCombination(t,n.A,a.CTRL)){t.preventDefault();if(o.isOfType(r.ANYCONTENTCELL|r.COLUMNROWHEADER)&&s===l.MultiToggle){f.onKeyboardShortcut("toggle")}}else if(d._isKeyCombination(t,n.A,a.CTRL+a.SHIFT)){if(o.isOfType(r.ANYCONTENTCELL|r.COLUMNROWHEADER)){f.onKeyboardShortcut("clear")}}else if(d._isKeyCombination(t,n.F4)){if(o.isOfType(r.DATACELL)){i.setActionMode(true)}}};d.prototype.onkeypress=function(t){var i=this._getKeyboardExtension();var o=e.getCellInfo(t.target);if(d._isKeyCombination(t,"+")){if(d._allowsToggleExpandedState(this,t.target)){L(this,t.target).expand()}else if(o.isOfType(r.DATACELL|r.ROWACTION)){i.setActionMode(true)}}else if(d._isKeyCombination(t,"-")){if(d._allowsToggleExpandedState(this,t.target)){L(this,t.target).collapse()}else if(o.isOfType(r.DATACELL|r.ROWACTION)){i.setActionMode(true)}}};d.prototype.oncontextmenu=function(t){if(t.isMarked("handledByPointerExtension")){return}var i=e.getCellInfo(document.activeElement);if(i.isOfType(r.ANY)){t.preventDefault();e.Menu.openContextMenu(this,t.target,t)}};d.prototype.onkeyup=function(t){var i=e.getCellInfo(t.target);if(d._isKeyCombination(t,n.SHIFT)){delete this._oRangeSelection}if(i.isOfType(r.COLUMNHEADER)){if(d._isKeyCombination(t,n.SPACE)||d._isKeyCombination(t,n.ENTER)){e.Menu.openContextMenu(this,t.target)}}else if(d._isKeyCombination(t,n.SPACE)){N(this,t)}else if(d._isKeyCombination(t,n.SPACE,a.SHIFT)){e.toggleRowSelection(this,this.getRows()[i.rowIndex].getIndex());H(this)}else if(this._legacyMultiSelection&&!i.isOfType(r.COLUMNROWHEADER)&&(d._isKeyCombination(t,n.SPACE,a.CTRL)||d._isKeyCombination(t,n.ENTER,a.CTRL))){N(this,t)}};d.prototype.onsaptabnext=function(t){var i=this._getKeyboardExtension();var o=e.getCellInfo(t.target);var n;if(i.isInActionMode()){var s;n=e.getCell(this,t.target);o=e.getCellInfo(n);if(!o.isOfType(r.ANYCONTENTCELL)){return}var l=this.getRows()[o.rowIndex];var a=d._getLastInteractiveElement(l);var f=a===null||a[0]===t.target;if(f){var u=l.getIndex();var g=e.isLastScrollableRow(this,n);var c=this._getTotalRowCount()-1===u;var v=e.isRowSelectorSelectionAllowed(this);t.preventDefault();if(c){i.setActionMode(false)}else if(g){y(this,t)}else{var C=o.rowIndex;if(v){M(this,r.ROWHEADER,C+1)}else{var p=this.getRows().length;var h=false;for(var I=o.rowIndex+1;I<p;I++){C=I;l=this.getRows()[C];s=d._getFirstInteractiveElement(l);h=l.isGroupHeader();if(s||h){break}}if(s){d._focusElement(this,s[0])}else if(h){M(this,r.ROWHEADER,C)}else{y(this,t)}}}}else if(o.isOfType(r.ROWHEADER)){t.preventDefault();s=d._getFirstInteractiveElement(l);d._focusElement(this,s[0])}else{t.preventDefault();s=d._getNextInteractiveElement(this,t.target);d._focusElement(this,s[0])}}else if(o.isOfType(r.ANYCOLUMNHEADER)){if(e.isNoDataVisible(this)){this.$("noDataCnt").trigger("focus");t.preventDefault()}else if(this.getRows().length>0){_(this,t);t.preventDefault()}}else if(o.isOfType(r.ANYCONTENTCELL)){b(this,"sapUiTableCtrlAfter")}else if(t.target===this.getDomRef("overlay")){i.setSilentFocus(this.$().find(".sapUiTableOuterAfter"))}else if(!o.isOfType(r.ANY)){n=e.getParentCell(this,t.target);if(n){t.preventDefault();n.trigger("focus")}}};d.prototype.onsaptabprevious=function(t){var i=this._getKeyboardExtension();var o=e.getCellInfo(t.target);var n;if(i.isInActionMode()){var s;n=e.getCell(this,t.target);o=e.getCellInfo(n);if(!o.isOfType(r.ANYCONTENTCELL)){return}var l=this.getRows()[o.rowIndex];var a=l.getIndex();var f=d._getFirstInteractiveElement(l);var u=f!==null&&f[0]===t.target;var g=e.isRowSelectorSelectionAllowed(this);var c=g||l.isGroupHeader();if(u&&c){t.preventDefault();M(this,r.ROWHEADER,o.rowIndex)}else if(u&&!c||o.isOfType(r.ROWHEADER)||f===null){var v=e.isFirstScrollableRow(this,n);var C=a===0;t.preventDefault();if(C){i.setActionMode(false)}else if(v){O(this,t)}else{var p=o.rowIndex;var h=false;for(var I=o.rowIndex-1;I>=0;I--){p=I;l=this.getRows()[p];s=d._getLastInteractiveElement(l);h=l.isGroupHeader();if(s||c||h){break}}if(s){d._focusElement(this,s[0])}else if(h||c){M(this,r.ROWHEADER,p)}else{O(this,t)}}}else{t.preventDefault();s=d._getPreviousInteractiveElement(this,t.target);d._focusElement(this,s[0])}}else if(o.isOfType(r.ANYCONTENTCELL)||t.target===this.getDomRef("noDataCnt")){if(this.getColumnHeaderVisible()&&!o.isOfType(r.ROWACTION)){w(this,t);t.preventDefault()}else{b(this,"sapUiTableCtrlBefore")}}else if(t.target===this.getDomRef("overlay")){this._getKeyboardExtension().setSilentFocus(this.$().find(".sapUiTableOuterBefore"))}else if(!o.isOfType(r.ANY)){n=e.getParentCell(this,t.target);if(n){t.preventDefault();n.trigger("focus")}}};d.prototype.onsapdown=function(e){c(e);v(this,e)};d.prototype.onsapdownmodifiers=function(t){c(t);if(d._isKeyCombination(t,null,a.CTRL)){v(this,t);return}var i=this._getKeyboardExtension();if(d._isKeyCombination(t,null,a.ALT)&&d._allowsToggleExpandedState(this,t.target)){g(t);L(this,t.target).expand();return}if(i.isInActionMode()){return}var o=e.getCellInfo(t.target);if(d._isKeyCombination(t,null,a.SHIFT)){if(o.isOfType(r.ANYCONTENTCELL)){if(!this._oRangeSelection){g(t);return}var n=e.getRowIndexOfFocusedCell(this);var s=this.getRows()[n].getIndex();if(s===this._getTotalRowCount()-1){return}if(e.isLastScrollableRow(this,t.target)){var l=m(this,t);if(l){g(t)}}if(this._oRangeSelection.startIndex<=s){s++;if(this._oRangeSelection.selected){e.toggleRowSelection(this,s,true)}else{e.toggleRowSelection(this,s,false)}}else{e.toggleRowSelection(this,s,false)}}else{g(t)}}if(d._isKeyCombination(t,null,a.ALT)){if(o.isOfType(r.DATACELL)){i.setActionMode(true)}g(t)}};d.prototype.onsapup=function(e){c(e);h(this,e)};d.prototype.onsapupmodifiers=function(t){c(t);if(d._isKeyCombination(t,null,a.CTRL)){h(this,t);return}if(d._isKeyCombination(t,null,a.ALT)&&d._allowsToggleExpandedState(this,t.target)){g(t);L(this,t.target).collapse();return}var i=this._getKeyboardExtension();if(i.isInActionMode()){return}var o=e.getCellInfo(t.target);if(d._isKeyCombination(t,null,a.SHIFT)){if(o.isOfType(r.ANYCONTENTCELL)){if(!this._oRangeSelection){g(t);return}var n=e.getRowIndexOfFocusedCell(this);var s=this.getRows()[n].getIndex();if(s===0){g(t);return}if(e.isFirstScrollableRow(this,t.target)){var l=T(this,t);if(l){g(t)}}if(this._oRangeSelection.startIndex>=s){s--;if(this._oRangeSelection.selected){e.toggleRowSelection(this,s,true)}else{e.toggleRowSelection(this,s,false)}}else{e.toggleRowSelection(this,s,false)}}else{g(t)}}if(d._isKeyCombination(t,null,a.ALT)){if(o.isOfType(r.DATACELL)){i.setActionMode(true)}g(t)}};d.prototype.onsapleft=function(e){c(e);E(this,e)};d.prototype.onsapleftmodifiers=function(t){c(t);if(this._getKeyboardExtension().isInActionMode()){return}var i=e.getCellInfo(t.target);var o=sap.ui.getCore().getConfiguration().getRTL();if(d._isKeyCombination(t,null,a.SHIFT)){if(i.isOfType(r.DATACELL)){if(!this._oRangeSelection){g(t);return}var n=e.getFocusedItemInfo(this);var s=e.hasRowHeader(this)&&n.cellInRow===1;if(s&&!e.isRowSelectorSelectionAllowed(this)){g(t)}}else if(i.isOfType(r.ROWACTION)){if(!this._oRangeSelection){g(t)}}else if(i.isOfType(r.ROWHEADER)&&o){if(!e.isRowSelectionAllowed(this)){g(t)}}else if(i.isOfType(r.COLUMNROWHEADER)&&o){g(t)}else if(i.isOfType(r.COLUMNHEADER)){var l=-e.convertCSSSizeToPixel(u);var f=0;if(o){l=l*-1}for(var v=i.columnIndex;v<i.columnIndex+i.columnSpan;v++){f+=e.Column.getColumnWidth(this,v)}e.Column.resizeColumn(this,i.columnIndex,f+l,true,i.columnSpan);g(t)}}else if(d._isKeyCombination(t,null,a.CTRL)){if(i.isOfType(r.COLUMNHEADER)){g(t);S(this.getColumns()[i.columnIndex],o)}}else if(d._isKeyCombination(t,null,a.ALT)){g(t)}};d.prototype.onsaprightmodifiers=function(t){c(t);if(this._getKeyboardExtension().isInActionMode()){return}var i=e.getCellInfo(t.target);var o=sap.ui.getCore().getConfiguration().getRTL();if(d._isKeyCombination(t,null,a.SHIFT)){if(i.isOfType(r.DATACELL)){if(!this._oRangeSelection){g(t)}}else if(i.isOfType(r.ROWHEADER)){if(!e.isRowSelectionAllowed(this)){g(t)}}else if(i.isOfType(r.ROWACTION)&&o){if(!this._oRangeSelection){g(t)}}else if(i.isOfType(r.COLUMNHEADER)){var n=e.convertCSSSizeToPixel(u);var s=0;if(o){n=n*-1}for(var l=i.columnIndex;l<i.columnIndex+i.columnSpan;l++){s+=e.Column.getColumnWidth(this,l)}e.Column.resizeColumn(this,i.columnIndex,s+n,true,i.columnSpan);g(t)}else if(i.isOfType(r.COLUMNROWHEADER)){g(t)}}else if(d._isKeyCombination(t,null,a.CTRL)){if(i.isOfType(r.COLUMNHEADER)){g(t);S(this.getColumns()[i.columnIndex],!o)}}else if(d._isKeyCombination(t,null,a.ALT)){g(t)}};d.prototype.onsaphome=function(t){c(t);if(this._getKeyboardExtension().isInActionMode()){return}if(e.Grouping.isInGroupHeaderRow(t.target)){g(t);return}var i=e.getCellInfo(t.target);if(i.isOfType(r.DATACELL|r.ROWACTION|r.COLUMNHEADER)){var o=e.getFocusedItemInfo(this);var n=o.cell;var s=o.cellInRow;var l=this.getComputedFixedColumnCount();var a=e.hasRowHeader(this);var f=a?1:0;if(e.hasFixedColumns(this)&&s>l+f){g(t);e.focusItem(this,n-s+l+f,null)}else if(a&&s>1){g(t);e.focusItem(this,n-s+f,null)}}};d.prototype.onsapend=function(t){c(t);if(this._getKeyboardExtension().isInActionMode()){return}if(e.Grouping.isInGroupHeaderRow(t.target)){g(t);return}var i=e.getCellInfo(t.target);if(i.isOfType(r.ANY)){var o=e.getFocusedItemInfo(this);var n=o.cell;var s=o.columnCount;var l=this.getComputedFixedColumnCount();var a=o.cellInRow;var f=e.hasRowHeader(this);var u=f?1:0;var d=false;if(i.isOfType(r.COLUMNHEADER)&&e.hasFixedColumns(this)){var v=parseInt(i.cell.attr("colspan")||1);if(v>1&&a+v-u===l){d=true}}if(f&&a===0){g(t);e.focusItem(this,n+1,null)}else if(e.hasFixedColumns(this)&&a<l-1+u&&!d){g(t);e.focusItem(this,n+l-a,null)}else if(e.hasRowActions(this)&&i.isOfType(r.DATACELL)&&a<s-2){g(t);e.focusItem(this,n-a+s-2,null)}}};d.prototype.onsaphomemodifiers=function(t){c(t);if(this._getKeyboardExtension().isInActionMode()){return}if(d._isKeyCombination(t,null,a.CTRL)){var i=e.getCellInfo(t.target);if(i.isOfType(r.ANYCONTENTCELL|r.COLUMNHEADER)){g(t);var o=e.getFocusedItemInfo(this);var n=o.row;if(n>0){var s=o.cell;var l=o.columnCount;var f=e.getHeaderRowCount(this);var u=this._getRowCounts();if(n<f+u.fixedTop){if(i.isOfType(r.ROWACTION)){e.focusItem(this,s-l*(n-f),t)}else{e.focusItem(this,s-l*n,t)}}else if(n>=f+u.fixedTop&&n<f+e.getNonEmptyRowCount(this)-u.fixedBottom){this._getScrollExtension().scrollVerticallyMax(false);if(u.fixedTop>0||i.isOfType(r.ROWACTION)){e.focusItem(this,s-l*(n-f),t)}else{e.focusItem(this,s-l*n,t)}}else{this._getScrollExtension().scrollVerticallyMax(false);e.focusItem(this,s-l*(n-f-u.fixedTop),t)}}}}};d.prototype.onsapendmodifiers=function(t){c(t);if(this._getKeyboardExtension().isInActionMode()){return}if(d._isKeyCombination(t,null,a.CTRL)){var i=e.getCellInfo(t.target);if(i.isOfType(r.ANY)){var o=e.getFocusedItemInfo(this);var n=o.row;var s=e.getHeaderRowCount(this);var l=e.getNonEmptyRowCount(this);var f=this._getRowCounts();g(t);if(f.fixedBottom===0||n<s+l-1||e.isNoDataVisible(this)&&n<s-1){var u=o.cell;var v=o.columnCount;if(e.isNoDataVisible(this)){e.focusItem(this,u+v*(s-n-1),t)}else if(n<s){if(f.fixedTop>0){e.focusItem(this,u+v*(s+f.fixedTop-n-1),t)}else{this._getScrollExtension().scrollVerticallyMax(true);e.focusItem(this,u+v*(s+l-f.fixedBottom-n-1),t)}}else if(n>=s&&n<s+f.fixedTop){this._getScrollExtension().scrollVerticallyMax(true);e.focusItem(this,u+v*(s+l-f.fixedBottom-n-1),t)}else if(n>=s+f.fixedTop&&n<s+l-f.fixedBottom){this._getScrollExtension().scrollVerticallyMax(true);e.focusItem(this,u+v*(s+l-n-1),t)}else{e.focusItem(this,u+v*(s+l-n-1),t)}}}}};d.prototype.onsappageup=function(t){c(t);if(this._getKeyboardExtension().isInActionMode()){return}var i=e.getCellInfo(t.target);if(i.isOfType(r.ANYCONTENTCELL|r.COLUMNHEADER)){var o=e.getFocusedItemInfo(this);var n=o.row;var s=e.getHeaderRowCount(this);var l=this._getRowCounts();if(l.fixedTop===0&&n>=s||l.fixedTop>0&&n>s){g(t);var a=o.cell;var f=o.columnCount;if(n<s+l.fixedTop){e.focusItem(this,a-f*(n-s),t)}else if(n===s+l.fixedTop){var u=e.getNonEmptyRowCount(this)-l.fixedTop-l.fixedBottom;var d=this.getFirstVisibleRow();T(this,t,true);if(d<u){if(l.fixedTop>0||i.isOfType(r.ROWACTION)){e.focusItem(this,a-f*(n-s),t)}else{e.focusItem(this,a-f*s,t)}}}else if(n>s+l.fixedTop&&n<s+e.getNonEmptyRowCount(this)){e.focusItem(this,a-f*(n-s-l.fixedTop),t)}else{e.focusItem(this,a-f*(n-s-e.getNonEmptyRowCount(this)+1),t)}}if(i.isOfType(r.ROWACTION)&&n===s&&l.fixedTop>0){g(t)}}};d.prototype.onsappagedown=function(t){c(t);if(this._getKeyboardExtension().isInActionMode()){return}var i=e.getCellInfo(t.target);if(i.isOfType(r.ANY)){var o=e.getFocusedItemInfo(this);var n=o.row;var s=e.getHeaderRowCount(this);var l=e.getNonEmptyRowCount(this);var a=this._getRowCounts();g(t);if(e.isNoDataVisible(this)&&n<s-1||a.fixedBottom===0||n<s+l-1){var f=o.cell;var u=o.columnCount;if(n<s-1&&!i.isOfType(r.COLUMNROWHEADER)){e.focusItem(this,f+u*(s-n-1),t)}else if(n<s){if(!e.isNoDataVisible(this)){e.focusItem(this,f+u*(s-n),t)}}else if(n>=s&&n<s+l-a.fixedBottom-1){e.focusItem(this,f+u*(s+l-a.fixedBottom-n-1),t)}else if(n===s+l-a.fixedBottom-1){var d=e.getNonEmptyRowCount(this)-a.fixedTop-a.fixedBottom;var v=this._getTotalRowCount()-a.fixedBottom-this.getFirstVisibleRow()-d*2;m(this,t,true);if(v<d&&a.fixedBottom>0){e.focusItem(this,f+u*(s+l-n-1),t)}}else{e.focusItem(this,f+u*(s+l-n-1),t)}}}};d.prototype.onsappageupmodifiers=function(t){c(t);if(this._getKeyboardExtension().isInActionMode()){return}if(d._isKeyCombination(t,null,a.ALT)){var i=e.getCellInfo(t.target);var o=e.getFocusedItemInfo(this);if(i.isOfType(r.DATACELL|r.COLUMNHEADER)){var n=o.cell;var s=o.cellInRow;var l=e.hasRowHeader(this);var u=l?1:0;var v=f;g(t);if(l&&(e.Grouping.isInGroupHeaderRow(t.target)||s===1)){e.focusItem(this,n-s,null)}else if(s-u<v){e.focusItem(this,n-s+u,null)}else{e.focusItem(this,n-v,null)}}else if(i.isOfType(r.ROWACTION)){e.focusItem(this,o.cell-1,null)}}};d.prototype.onsappagedownmodifiers=function(t){c(t);if(this._getKeyboardExtension().isInActionMode()){return}if(d._isKeyCombination(t,null,a.ALT)){var i=e.getCellInfo(t.target);if(i.isOfType(r.DATACELL|r.ROWHEADER|r.ANYCOLUMNHEADER)){var o=e.getFocusedItemInfo(this);var n=o.cellInRow;var s=e.hasRowHeader(this);var l=s?1:0;var u=e.getVisibleColumnCount(this);var v=parseInt(i.cell.attr("colspan")||1);g(t);if(n+v-l<u){var C=o.cell;var p=f;if(s&&n===0){e.focusItem(this,C+1,null)}else if(v>p){e.focusItem(this,C+v,null)}else if(n+v-l+p>u){e.focusItem(this,C+u-n-1+l,null)}else if(!e.Grouping.isInGroupHeaderRow(t.target)){e.focusItem(this,C+p,null)}}else if(i.isOfType(r.DATACELL)&&e.hasRowActions(this)&&n===o.columnCount-2){e.focusItem(this,o.cell+1,null)}}}};d.prototype.onsapenter=function(e){N(this,e)};return d});
/*!
 * OpenUI5
 * (c) Copyright 2009-2022 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/table/extensions/Pointer",["./ExtensionBase","../utils/TableUtils","../library","sap/ui/Device","sap/ui/core/Popup","sap/base/Log","sap/ui/thirdparty/jquery","sap/ui/dom/jquery/scrollLeftRTL","sap/ui/dom/jquery/control"],function(e,t,i,o,n,l,s){"use strict";var r=i.SelectionMode;var a=["sapMBtnBase","sapMInputBase","sapMLnk","sapMSlt","sapMCb","sapMRI","sapMSegBBtn","sapUiIconPointer","sapMBtnIcon","sapMObjStatusActive"];var d={_getEventPosition:function(e,t){var i;function o(i){if(!t._isTouchEvent(i)){return null}var o=["touches","targetTouches","changedTouches"];for(var n=0;n<o.length;n++){var l=o[n];if(e[l]&&e[l][0]){return e[l][0]}if(e.originalEvent[l]&&e.originalEvent[l][0]){return e.originalEvent[l][0]}}return null}i=o(e)||e;return{x:i.pageX,y:i.pageY}},_skipClick:function(e,i,o){if(!o.isOfType(t.CELLTYPE.DATACELL|t.CELLTYPE.ROWACTION)){return false}if(e.isMarked()){return true}var n=i.control(0);if(n){var l=n.$();if(l.length){for(var s=0;s<a.length;s++){if(l.hasClass(a[s])){return typeof n.getEnabled==="function"?n.getEnabled():true}}}}return false},_handleClickSelection:function(e,i,o){t.toggleRowSelection(o,i,null,function(t){var i=o._getSelectionPlugin();var n=o.getSelectionMode();if(n===r.Single){if(!i.isIndexSelected(t)){i.setSelectedIndex(t)}else{i.clearSelection()}}else if(e.shiftKey){var l=i.getSelectedIndex();if(l>=0){i.addSelectionInterval(l,t)}else if(i.getSelectedCount()===0){i.setSelectedIndex(t)}}else if(!o._legacyMultiSelection){if(!i.isIndexSelected(t)){i.addSelectionInterval(t,t)}else{i.removeSelectionInterval(t,t)}}else{o._legacyMultiSelection(t,e)}return true})}};var u={initColumnResizing:function(e,t){if(e._bIsColumnResizerMoving){return}e._bIsColumnResizerMoving=true;e._bColumnResizerMoved=false;e._iColumnResizeStart=d._getEventPosition(t,e).x;e.$().toggleClass("sapUiTableResizing",true);var i=s(document);var o=e._isTouchEvent(t);e._$colResize=e.$("rsz");i.on((o?"touchend":"mouseup")+".sapUiTableColumnResize",u.exitColumnResizing.bind(e));i.on((o?"touchmove":"mousemove")+".sapUiTableColumnResize",u.onMouseMoveWhileColumnResizing.bind(e));e._disableTextSelection()},exitColumnResizing:function(e){var i=d._getEventPosition(e,this).x;var o=this._getVisibleColumns()[this._iLastHoveredVisibleColumnIndex];var n=this.$().find('th[data-sap-ui-colid="'+o.getId()+'"]');var l=n[0].offsetWidth;var s=i-(n.offset().left+(this._bRtlMode?0:l));var r=Math.round(l+s*(this._bRtlMode?-1:1));var a=Math.max(r,t.Column.getMinColumnWidth());u._resizeColumn(this,this._iLastHoveredVisibleColumnIndex,this._bColumnResizerMoved?a:null)},onMouseMoveWhileColumnResizing:function(e){var t=d._getEventPosition(e,this).x;var i=this.$().find(".sapUiTableCnt").offset().left;var o=Math.floor(t-i);if(!this._bColumnResizerMoved&&Math.abs(t-this._iColumnResizeStart)>=5){this._bColumnResizerMoved=true}this._$colResize.css("left",o+"px");this._$colResize.toggleClass("sapUiTableColRszActive",true);if(this._isTouchEvent(e)){e.stopPropagation();e.preventDefault()}},_cleanupColumResizing:function(e){if(e._$colResize){e._$colResize.toggleClass("sapUiTableColRszActive",false);e._$colResize=null}e._bIsColumnResizerMoving=false;e.$().toggleClass("sapUiTableResizing",false);e._enableTextSelection();var t=s(document);t.off("touchmove.sapUiTableColumnResize");t.off("touchend.sapUiTableColumnResize");t.off("mousemove.sapUiTableColumnResize");t.off("mouseup.sapUiTableColumnResize")},_resizeColumn:function(e,i,o){var n=e._getVisibleColumns();var l;if(i>=0&&i<n.length){l=n[i];if(o!=null){t.Column.resizeColumn(e,e.indexOfColumn(l),o)}}u._cleanupColumResizing(e);l.focus()},doAutoResizeColumn:function(e,t){var i=e._getVisibleColumns(),o;if(t>=0&&t<i.length){o=i[t];if(!o.getAutoResizable()||!o.getResizable()){return}var n=u._calculateAutomaticColumnWidth.apply(e,[o,t]);if(n){u._resizeColumn(e,t,n)}}},_calculateAutomaticColumnWidth:function(e,i){e=e||this.getColumns()[i];var o=this.$();var n=s("<div>").addClass("sapUiTableHiddenSizeDetector sapUiTableHeaderDataCell sapUiTableDataCell");o.append(n);var l=o.find('td[data-sap-ui-colid = "'+e.getId()+'"]:not([colspan])').filter(function(e,t){return t.style.display!="none"}).children().clone();l.removeAttr("id");var r=n.append(l).width()+4;r=Math.min(r,o.find(".sapUiTableCnt").width());r=Math.max(r+4,t.Column.getMinColumnWidth());n.remove();return r},initColumnTracking:function(e){e.$().find(".sapUiTableCtrlScr, .sapUiTableCtrlScrFixed").on("mousemove",function(e){var t=this.getDomRef();if(!t||this._bIsColumnResizerMoving){return}var i=e.clientX,o=t.getBoundingClientRect(),n=0,l=this._bRtlMode?1e4:-1e4;for(var s=0;s<this._aTableHeaders.length;s++){var r=this._aTableHeaders[s].getBoundingClientRect();if(this._bRtlMode){if(i<r.right-5&&i>=r.left){n=s;l=r.left-o.left;break}}else{if(i>r.left+5&&i<=r.right){n=s;l=r.right-o.left;break}}}var a=this._getVisibleColumns()[n];if(a&&a.getResizable()){this.$("rsz").css("left",l+"px");this._iLastHoveredVisibleColumnIndex=n}}.bind(e))}};var f={initReordering:function(e,i,o){var l=e.getColumns()[i],r=l.$(),a=e.$();e._disableTextSelection();a.addClass("sapUiTableDragDrop");var d=r.clone();d.find("*").addBack(d).removeAttr("id").removeAttr("data-sap-ui").removeAttr("tabindex");d.attr("id",e.getId()+"-roghost").addClass("sapUiTableColReorderGhost").css({left:-1e4,top:-1e4,"z-index":n.getNextZIndex()});d.toggleClass(t.getContentDensity(e),true);d.appendTo(document.body);e._$ReorderGhost=e.getDomRef("roghost");a.find("td[data-sap-ui-colid='"+l.getId()+"']").toggleClass("sapUiTableColReorderFade",true);var u=s("<div id='"+e.getId()+"-roind' class='sapUiTableColReorderIndicator'><div class='sapUiTableColReorderIndicatorArrow'></div><div class='sapUiTableColReorderIndicatorInner'></div></div>");u.appendTo(e.getDomRef("sapUiTableCnt"));e._$ReorderIndicator=e.getDomRef("roind");e._iDnDColIndex=i;var h=s(document),c=e._isTouchEvent(o);h.on((c?"touchend":"mouseup")+".sapUiColumnMove",f.exitReordering.bind(e));h.on((c?"touchmove":"mousemove")+".sapUiColumnMove",f.onMouseMoveWhileReordering.bind(e))},onMouseMoveWhileReordering:function(e){var i=d._getEventPosition(e,this),o=i.x,n=i.y,l=this._iNewColPos;this._iNewColPos=this._iDnDColIndex;e.preventDefault();var r=f.findColumnForPosition(this,o);if(!r||!r.id){this._iNewColPos=l;return}var a=40,u=this.getDomRef("sapUiTableColHdrScr"),h=s(u),c=u.getBoundingClientRect(),C=h.outerWidth(),v=this._bRtlMode?h.scrollLeftRTL():h.scrollLeft();this._bReorderScroll=false;if(o>c.left+C-a&&v+C<u.scrollWidth){this._bReorderScroll=true;f.doScroll(this,!this._bRtlMode);f.adaptReorderMarkerPosition(this,r,false)}else if(o<c.left+a&&v>0){this._bReorderScroll=true;f.doScroll(this,this._bRtlMode);f.adaptReorderMarkerPosition(this,r,false)}s(this._$ReorderGhost).css({left:o+5,top:n+5});if(this._bReorderScroll||!r){return}if(r.before||r.after&&r.index==this._iDnDColIndex){this._iNewColPos=r.index}else if(r.after&&r.index!=this._iDnDColIndex){this._iNewColPos=r.index+1}if(!t.Column.isColumnMovableTo(this.getColumns()[this._iDnDColIndex],this._iNewColPos)){this._iNewColPos=l}else{f.adaptReorderMarkerPosition(this,r,true)}},exitReordering:function(e){var i=this._iDnDColIndex;var o=this._iNewColPos;var n=s(document);n.off("touchmove.sapUiColumnMove");n.off("touchend.sapUiColumnMove");n.off("mousemove.sapUiColumnMove");n.off("mouseup.sapUiColumnMove");this._bReorderScroll=false;this.$().removeClass("sapUiTableDragDrop");delete this._iDnDColIndex;delete this._iNewColPos;s(this._$ReorderGhost).remove();delete this._$ReorderGhost;s(this._$ReorderIndicator).remove();delete this._$ReorderIndicator;this.$().find(".sapUiTableColReorderFade").removeClass("sapUiTableColReorderFade");this._enableTextSelection();t.Column.moveColumnTo(this.getColumns()[i],o)},findColumnForPosition:function(e,t){var i,o,n,l,r,a,d;for(var u=0;u<e._aTableHeaders.length;u++){i=e._aTableHeaders[u];o=s(i);n=i.getBoundingClientRect();l=o.outerWidth();r={left:n.left,center:n.left+l/2,right:n.left+l,width:l,index:parseInt(o.attr("data-sap-ui-headcolindex")),id:o.attr("data-sap-ui-colid")};a=t>=r.left&&t<=r.center;d=t>=r.center&&t<=r.right;if(a||d){r.before=e._bRtlMode?d:a;r.after=e._bRtlMode?a:d;return r}}return null},doScroll:function(e,t){if(e._mTimeouts.horizontalReorderScrollTimerId){window.clearTimeout(e._mTimeouts.horizontalReorderScrollTimerId);e._mTimeouts.horizontalReorderScrollTimerId=null}if(e._bReorderScroll){var i=t?30:-30;if(e._bRtlMode){i=-1*i}e._mTimeouts.horizontalReorderScrollTimerId=setTimeout(f.doScroll.bind(e,e,t),60);var o=e.$("sapUiTableColHdrScr");var n=e._bRtlMode?"scrollLeftRTL":"scrollLeft";o[n](o[n]()+i)}},adaptReorderMarkerPosition:function(e,t,i){if(!t||!e._$ReorderIndicator){return}var o=t.left-e.getDomRef().getBoundingClientRect().left;if(e._bRtlMode&&t.before||!e._bRtlMode&&t.after){o=o+t.width}s(e._$ReorderIndicator).css({left:o+"px"}).toggleClass("sapUiTableColReorderIndicatorActive",i)}};var h={ROWAREAS:[".sapUiTableRowSelectionCell",".sapUiTableRowActionCell",".sapUiTableCtrlFixed > tbody > .sapUiTableTr",".sapUiTableCtrlScroll > tbody > .sapUiTableTr"],initRowHovering:function(e){var t=e.$();for(var i=0;i<h.ROWAREAS.length;i++){h._initRowHoveringForArea(e,t,h.ROWAREAS[i])}},_initRowHoveringForArea:function(e,t,i){t.find(i).on("mouseenter",function(){h._onHover(e,t,i,this)}).on("mouseleave",function(){h._onUnhover(e,t,i,this)})},_onHover:function(e,t,i,o){var n=t.find(i).index(o);var l=e.getRows()[n];if(l){l._setHovered(true)}},_onUnhover:function(e,t,i,o){var n=t.find(i).index(o);var l=e.getRows()[n];if(l){l._setHovered(false)}}};var c={onmousedown:function(e){var i=this._getPointerExtension();var n=t.getCell(this,e.target);var l=t.getCellInfo(n);var r=s(e.target);var a;var f;var h;this._getKeyboardExtension().initItemNavigation();if(e.button===0){if(e.target===this.getDomRef("rsz")){e.preventDefault();e.stopPropagation();u.initColumnResizing(this,e)}else if(r.hasClass("sapUiTableColResizer")){var c=r.closest(".sapUiTableHeaderCell").attr("data-sap-ui-colindex");this._iLastHoveredVisibleColumnIndex=this._getVisibleColumns().indexOf(this.getColumns()[c]);u.initColumnResizing(this,e)}else if(l.isOfType(t.CELLTYPE.COLUMNHEADER)){a=this.getColumns()[l.columnIndex];f=a.getAggregation("menu");h=f&&f.bOpen;if(!h){i._bShowMenu=true;this._mTimeouts.delayedMenuTimerId=setTimeout(function(){delete i._bShowMenu},200)}if(this.getEnableColumnReordering()&&!(this._isTouchEvent(e)&&r.hasClass("sapUiTableColDropDown"))){this._getPointerExtension().doReorderColumn(l.columnIndex,e)}}if(o.browser.firefox&&(e.metaKey||e.ctrlKey)||r.closest(".sapUiTableHSb",this.getDomRef()).length===1||r.closest(".sapUiTableVSb",this.getDomRef()).length===1){e.preventDefault()}}if(e.button===2){if(d._skipClick(e,r,l)){i._bShowDefaultMenu=true;return}if(l.isOfType(t.CELLTYPE.COLUMNHEADER)){a=this.getColumns()[l.columnIndex];f=a.getAggregation("menu");h=f&&f.bOpen;if(!h){i._bShowMenu=true}else{i._bHideMenu=true}}else if(l.isOfType(t.CELLTYPE.ANYCONTENTCELL)){i._bShowMenu=true}else{i._bShowDefaultMenu=true}}},onmouseup:function(e){clearTimeout(this._mTimeouts.delayedColumnReorderTimerId)},ondblclick:function(e){if(o.system.desktop&&e.target===this.getDomRef("rsz")){e.preventDefault();u.doAutoResizeColumn(this,this._iLastHoveredVisibleColumnIndex)}},onclick:function(e){clearTimeout(this._mTimeouts.delayedColumnReorderTimerId);if(e.isMarked()){return}var i=s(e.target);var o=t.getCell(this,e.target);var n=t.getCellInfo(o);var r=this.getRows()[n.rowIndex];if(!n.isOfType(t.CELLTYPE.ANY)){return}if(n.isOfType(t.CELLTYPE.COLUMNHEADER)){var a=this._getPointerExtension();if(a._bShowMenu){t.Menu.openContextMenu(this,e.target);delete a._bShowMenu}}else if(r&&r.isSummary()){e.preventDefault()}else if(i.hasClass("sapUiTableGroupMenuButton")){t.Menu.openContextMenu(this,e.target,e)}else if(i.hasClass("sapUiTableGroupIcon")||i.hasClass("sapUiTableTreeIcon")){r.toggleExpandedState()}else{if(d._skipClick(e,i,n)){return}if(n.isOfType(t.CELLTYPE.COLUMNROWHEADER)){window.getSelection().empty()}var u=window.getSelection().toString();if(!e.shiftKey&&u.length>0&&u!=="\n"){l.debug("DOM Selection detected -> Click event on table skipped, Target: "+e.target);return}if(!this._findAndfireCellEvent(this.fireCellClick,e)){if(n.isOfType(t.CELLTYPE.COLUMNROWHEADER)){this._getSelectionPlugin().onHeaderSelectorPress()}else{d._handleClickSelection(e,o,this)}}else{e.preventDefault()}}},oncontextmenu:function(e){var i=this._getPointerExtension();if(i._bShowDefaultMenu){e.setMarked("handledByPointerExtension");delete i._bShowDefaultMenu}else if(i._bShowMenu){var o=t.Menu.openContextMenu(this,e.target,e);if(o){e.preventDefault()}e.setMarked("handledByPointerExtension");delete i._bShowMenu}else if(i._bHideMenu){e.setMarked("handledByPointerExtension");e.preventDefault();delete i._bHideMenu}}};var C=e.extend("sap.ui.table.extensions.Pointer",{_init:function(i,o,n){this._delegate=c;t.addDelegate(i,this._delegate,i);i._iLastHoveredVisibleColumnIndex=0;i._bIsColumnResizerMoving=false;i._iFirstReorderableIndex=o==e.TABLETYPES.TREE?1:0;return"PointerExtension"},_attachEvents:function(){var e=this.getTable();if(e){u.initColumnTracking(e);h.initRowHovering(e)}},_detachEvents:function(){var e=this.getTable();if(e){var t=e.$();t.find(".sapUiTableCtrlScr, .sapUiTableCtrlScrFixed").off();t.find(".sapUiTableCtrl > tbody > tr").off();t.find(".sapUiTableRowSelectionCell").off()}},_debug:function(){this._ExtensionHelper=d;this._ColumnResizeHelper=u;this._ReorderHelper=f;this._ExtensionDelegate=c;this._RowHoverHandler=h;this._KNOWNCLICKABLECONTROLS=a},doAutoResizeColumn:function(e){var t=this.getTable();if(t){u.doAutoResizeColumn(t,e)}},doReorderColumn:function(e,i){var o=this.getTable();if(o&&t.Column.isColumnMovable(o.getColumns()[e])){o._mTimeouts.delayedColumnReorderTimerId=setTimeout(function(){f.initReordering(this,e,i)}.bind(o),200)}},destroy:function(){var t=this.getTable();if(t){t.removeEventDelegate(this._delegate)}this._delegate=null;e.prototype.destroy.apply(this,arguments)}});return C});
/*!
 * OpenUI5
 * (c) Copyright 2009-2022 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/table/extensions/Scrolling",["./ExtensionBase","../utils/TableUtils","../library","sap/ui/Device","sap/ui/performance/trace/Interaction","sap/base/Log","sap/ui/thirdparty/jquery","sap/ui/dom/jquery/scrollLeftRTL"],function(e,r,t,o,l,i,n){"use strict";var a=t.SharedDomRef;var s=r.Hook.Keys;var c=r.createWeakMapFacade();var f=1e6;var d=2;var u={HORIZONAL:"HORIZONTAL",VERTICAL:"VERTICAL",BOTH:"BOTH"};function p(e,r){i.debug("sap.ui.table.extensions.Scrolling",e,r)}function g(e,r){var t=true;var o=false;var l=[];var i={cancel:function(){if(this.isCancelled()||!this.isRunning()){return}o=true;for(var e=0;e<l.length;e++){l[e]()}p("Process cancelled: "+r.id)},isCancelled:function(){return o},addCancelListener:function(e){l.push(e)},isRunning:function(){return t},getInfo:function(){return r},onPromiseCreated:function(e){}};var n;p("Process started: "+r.id);if(typeof e==="function"){n=new Promise(function(){e.apply(this,Array.prototype.slice.call(arguments).concat(i))})}else{n=Promise.resolve()}Object.assign(n,i);n.then(function(){if(i.isCancelled()){p("Process finished due to cancellation: "+r.id)}else{p("Process finished: "+r.id)}t=false});i.onPromiseCreated(n);return n}function S(){this.iIndex=0;this.nOffset=0;this.sOffsetType=S.OffsetType.Pixel;this.bIsInitial=true}S.OffsetType={Pixel:"Pixel",Percentage:"Percentage",PercentageOfViewport:"PercentageOfViewport"};S.prototype.getIndex=function(){return this.iIndex};S.prototype.getOffset=function(){return this.nOffset};S.prototype.getOffsetType=function(){return this.sOffsetType};S.prototype.isOffsetInPixel=function(){return this.sOffsetType===S.OffsetType.Pixel};S.prototype.isInitial=function(){return this.bIsInitial};S.prototype.setPosition=function(e,r,t){p("ScrollPosition#setPosition(index: "+e+", offset: "+r+", offsetType: "+t+")");if(!S._isPositiveNumber(e)){return}if(!S._isPositiveNumber(r)){this.nOffset=0}this.setIndex(e);this.setOffset(r,t)};S.prototype.setIndex=function(e){p("ScrollPosition#setIndex(index: "+e+")");if(!S._isPositiveNumber(e)){return}this.bIsInitial=false;this.iIndex=e};S.prototype.setOffset=function(e,r){p("ScrollPosition#setOffset(offset: "+e+", offsetType: "+r+")");if(!S._isPositiveNumber(e)){return}this.bIsInitial=false;this.sOffsetType=r in S.OffsetType?r:S.OffsetType.Pixel;if(this.isOffsetInPixel()){this.nOffset=Math.round(e)}else{this.nOffset=Math.min(e,1)}};S.prototype.scrollRows=function(e){var r=this.getIndex()+e;var t=this.getOffset();if(!this.isOffsetInPixel()||r<0){t=0}this.setPosition(Math.max(0,r),t)};S._isPositiveNumber=function(e){return typeof e==="number"&&!isNaN(e)&&e>=0};var v={UpdateFromFirstVisibleRow:{id:"UpdateFromFirstVisibleRow",rank:6},UpdateFromScrollPosition:{id:"UpdateFromScrollPosition",rank:5},RestoreScrollPosition:{id:"RestoreScrollPosition",rank:4},AdjustToTotalRowCount:{id:"AdjustToTotalRowCount",rank:3},OnRowsUpdated:{id:"OnRowsUpdated",rank:3},UpdateFromScrollbar:{id:"UpdateFromScrollbar",rank:2},UpdateFromViewport:{id:"UpdateFromViewport",rank:1},canStart:function(e,r){var t=c(e).pVerticalScrollUpdateProcess;var o=t?t.getInfo():null;if(t&&t.isRunning()&&o.rank>r.rank){p("Cannot start update process "+r.id+" - A higher-ranked update process is currently running ("+o.id+")",e);return false}return true},start:function(e,r,t){if(!v.canStart(e,r)){return}if(c(e).pVerticalScrollUpdateProcess){c(e).pVerticalScrollUpdateProcess.cancel()}c(e).pVerticalScrollUpdateProcess=new g(t,r)}};var h={onScrollbarScroll:function(e){var r=e.target.scrollLeft;var t=e.target._scrollLeft;l.notifyScrollEvent&&l.notifyScrollEvent(e);if(r!==t){var o=h.getScrollAreas(this);e.target._scrollLeft=r;for(var i=0;i<o.length;i++){var n=o[i];if(n!==e.target&&n.scrollLeft!==r){n.scrollLeft=r;n._scrollLeft=r}}c(this).iHorizontalScrollPosition=r}},restoreScrollPosition:function(e){var r=e._getScrollExtension();var t=r.getHorizontalScrollbar();if(t&&c(e).iHorizontalScrollPosition!==null){var o=h.getScrollAreas(e);for(var l=0;l<o.length;l++){var i=o[l];delete i._scrollLeft}if(t.scrollLeft!==c(e).iHorizontalScrollPosition){t.scrollLeft=c(e).iHorizontalScrollPosition}else{var a=n.Event("scroll");a.target=t;h.onScrollbarScroll.call(e,a)}}},updateScrollbar:function(e){var r=e._getScrollExtension();var t=r.getHorizontalScrollbar();if(!t){return}var l=e._collectTableSizes();var i=e.$();var n=l.tableCtrlScrollWidth;if(o.browser.safari){n=Math.max(n,e._getColumnsWidth(e.getComputedFixedColumnCount()))}var a=n>l.tableCtrlScrWidth;if(a){if(!r.isHorizontalScrollbarVisible()){i.addClass("sapUiTableHScr");t.classList.remove("sapUiTableHidden");if(o.browser.safari){var s=i.find(".sapUiTableCtrlScroll, .sapUiTableColHdrScr > .sapUiTableColHdr");s.outerWidth(n)}}var c=l.tableCtrlFixedWidth;if(i.find(".sapUiTableRowHdrScr").length>0){c+=l.tableRowHdrScrWidth}if(e._bRtlMode){t.style.marginRight=c+"px";t.style.marginLeft=""}else{t.style.marginLeft=c+"px";t.style.marginRight=""}var f=e.getDomRef("hsb-content");if(f){f.style.width=n+"px"}}if(!a&&r.isHorizontalScrollbarVisible()){i.removeClass("sapUiTableHScr");t.classList.add("sapUiTableHidden");if(o.browser.safari){i.find(".sapUiTableCtrlScroll, .sapUiTableColHdr").css("width","")}}},onScrollbarMouseDown:function(e){this._getKeyboardExtension().setActionMode(false)},addEventListeners:function(e){var r=e._getScrollExtension();var t=r.getHorizontalScrollbar();var o=h.getScrollAreas(e);if(!r._onHorizontalScrollEventHandler){r._onHorizontalScrollEventHandler=h.onScrollbarScroll.bind(e)}for(var l=0;l<o.length;l++){o[l].addEventListener("scroll",r._onHorizontalScrollEventHandler)}if(t){if(!r._onHorizontalScrollbarMouseDownEventHandler){r._onHorizontalScrollbarMouseDownEventHandler=h.onScrollbarMouseDown.bind(e)}t.addEventListener("mousedown",r._onHorizontalScrollbarMouseDownEventHandler)}},removeEventListeners:function(e){var r=e._getScrollExtension();var t=r.getHorizontalScrollbar();var o=h.getScrollAreas(e);if(r._onHorizontalScrollEventHandler){for(var l=0;l<o.length;l++){o[l].removeEventListener("scroll",r._onHorizontalScrollEventHandler);delete o[l]._scrollLeft}delete r._onHorizontalScrollEventHandler}if(t&&r._onHorizontalScrollbarMouseDownEventHandler){t.removeEventListener("mousedown",r._onHorizontalScrollbarMouseDownEventHandler);delete r._onHorizontalScrollbarMouseDownEventHandler}},getScrollAreas:function(e){var r=e.getDomRef();var t;if(r){t=Array.prototype.slice.call(e.getDomRef().querySelectorAll(".sapUiTableCtrlScr"))}var o=[e._getScrollExtension().getHorizontalScrollbar()].concat(t);return o.filter(function(e){return e!=null})}};var b={performUpdateFromFirstVisibleRow:function(e,t){p("VerticalScrollingHelper.performUpdateFromFirstVisibleRow",e);v.start(e,v.UpdateFromFirstVisibleRow,function(o,l,i){r.Hook.call(e,s.Signal,"StartTableUpdate");i.onPromiseCreated=function(t){t.finally(function(){r.Hook.call(e,s.Signal,"EndTableUpdate")})};if(t===true){var n=function(){p("VerticalScrollingHelper.performUpdateFromFirstVisibleRow (async: rows update)",e);b._performUpdateFromFirstVisibleRow(e,i).then(o);return false};b.addOnRowsUpdatedPreprocessor(e,n);i.addCancelListener(function(){var r=b.removeOnRowsUpdatedPreprocessor(e,n);if(r){o()}})}else{b._performUpdateFromFirstVisibleRow(e,i).then(o)}})},_performUpdateFromFirstVisibleRow:function(e,r){return b.adjustScrollPositionToFirstVisibleRow(e,r).then(function(){return b.fixTemporaryFirstVisibleRow(e,null,r)}).then(function(){return b.fixScrollPosition(e,r)}).then(function(){return Promise.all([b.scrollViewport(e,r),b.scrollScrollbar(e,r)])})},performUpdateFromScrollPosition:function(e){p("VerticalScrollingHelper.performUpdateFromScrollPosition",e);v.start(e,v.UpdateFromScrollPosition,function(t,o,l){r.Hook.call(e,s.Signal,"StartTableUpdate");l.onPromiseCreated=function(t){t.finally(function(){r.Hook.call(e,s.Signal,"EndTableUpdate")})};b.adjustFirstVisibleRowToScrollPosition(e,null,l).then(function(){if(l.isCancelled()){return}var t=c(e).oVerticalScrollPosition;p("VerticalScrollingHelper.performUpdateFromScrollPosition (async: firstVisibleRow update)",e);if(t.getIndex()>e.getFirstVisibleRow()){t.setIndex(e.getFirstVisibleRow());if(r.isVariableRowHeightEnabled(e)){t.setOffset(1,S.OffsetType.Percentage)}else{t.setOffset(0)}}}).then(function(){return b.fixScrollPosition(e,l)}).then(function(){return Promise.all([b.scrollViewport(e,l),b.scrollScrollbar(e,l)])}).then(t)})},performUpdateFromScrollbar:function(e){p("VerticalScrollingHelper.performUpdateFromScrollbar",e);clearTimeout(c(e).mTimeouts.largeDataScrolling);delete c(e).mTimeouts.largeDataScrolling;v.start(e,v.UpdateFromScrollbar,function(t,o,l){r.Hook.call(e,s.Signal,"StartTableUpdate");l.onPromiseCreated=function(t){t.finally(function(){r.Hook.call(e,s.Signal,"EndTableUpdate")})};e._getKeyboardExtension().setActionMode(false);if(e._bLargeDataScrolling){c(e).mTimeouts.largeDataScrolling=setTimeout(function(){delete c(e).mTimeouts.largeDataScrolling;if(e._getScrollExtension().getVerticalScrollbar()!=null){p("VerticalScrollingHelper.performUpdateFromScrollbar (async: large data scrolling)",e);b._performUpdateFromScrollbar(e,l).then(t)}else{p("VerticalScrollingHelper.performUpdateFromScrollbar (async: large data scrolling): No scrollbar",e)}},300);l.addCancelListener(function(){if(c(e).mTimeouts.largeDataScrolling!=null){clearTimeout(c(e).mTimeouts.largeDataScrolling);delete c(e).mTimeouts.largeDataScrolling;t()}})}else{b._performUpdateFromScrollbar(e,l).then(t)}})},_performUpdateFromScrollbar:function(e,r){return b.adjustScrollPositionToScrollbar(e,r).then(function(){return b.adjustFirstVisibleRowToScrollPosition(e,null,r)}).then(function(){return b.fixScrollPosition(e,r)}).then(function(){return b.scrollViewport(e,r)})},performUpdateFromViewport:function(e){p("VerticalScrollingHelper.performUpdateFromViewport",e);v.start(e,v.UpdateFromViewport,function(t,o,l){r.Hook.call(e,s.Signal,"StartTableUpdate");l.onPromiseCreated=function(t){t.finally(function(){r.Hook.call(e,s.Signal,"EndTableUpdate")})};b.adjustScrollPositionToViewport(e,l).then(function(){return b.adjustFirstVisibleRowToScrollPosition(e,true,l)}).then(function(){return b.scrollScrollbar(e,l)}).then(t)})},onScrollbarScroll:function(e){l.notifyScrollEvent&&l.notifyScrollEvent(e);var r=e.target.scrollTop;var t=e.target._scrollTop;var o=r!==t;delete e.target._scrollTop;if(r===0&&!e.target.isConnected){p("VerticalScrollingHelper.onScrollbarScroll: Scrollbar is not connected with the DOM",this)}else if(o){p("VerticalScrollingHelper.onScrollbarScroll: Scroll position changed to "+r+" by interaction",this);b.performUpdateFromScrollbar(this)}else{p("VerticalScrollingHelper.onScrollbarScroll: Scroll position changed to "+r+" by API",this)}},onViewportScroll:function(e){if(!v.canStart(this,v.UpdateFromViewport)){return}var r=e.target.scrollTop;var t=e.target._scrollTop;delete e.target._scrollTop;if(r!==t){p("VerticalScrollingHelper.onViewportScroll: Scroll position changed to "+r+" by interaction",this);b.performUpdateFromViewport(this)}else{p("VerticalScrollingHelper.onViewportScroll: Scroll position changed to "+r+" by API",this)}},adjustFirstVisibleRowToScrollPosition:function(e,r,t){if(t&&t.isCancelled()){return Promise.resolve()}r=r===true;var o=c(e).oVerticalScrollPosition;var l=o.getOffsetType()===S.OffsetType.PercentageOfViewport;var i=o.getIndex();var n=e.getFirstVisibleRow();var a=b.isIndexInBuffer(e,i);var s=a||l;p("VerticalScrollingHelper.adjustFirstVisibleRowToScrollPosition:"+' Set "firstVisibleRow" from '+n+" to "+i,e);var f=e._setFirstVisibleRowIndex(i,{onScroll:true,suppressEvent:s,suppressRendering:r});if(!f){if(s){return b.fixTemporaryFirstVisibleRow(e,true,t)}return Promise.resolve()}return new Promise(function(r){var o=function(o){p("VerticalScrollingHelper.adjustFirstVisibleRowToScrollPosition (async: rows updated):"+" Reason "+o.getParameters().reason,this);if(s){b.fixTemporaryFirstVisibleRow(e,true,t).then(r)}else{r()}return false};b.addOnRowsUpdatedPreprocessor(e,o);if(t){t.addCancelListener(function(){var t=b.removeOnRowsUpdatedPreprocessor(e,o);if(t){r()}})}})},fixTemporaryFirstVisibleRow:function(e,r,t){if(t&&t.isCancelled()){return Promise.resolve()}r=r===true;var o=c(e).oVerticalScrollPosition;var l=o.getOffsetType()===S.OffsetType.PercentageOfViewport;var i=o.getIndex();var n=b.isIndexInBuffer(e,i);var a=n||l;if(!a){p("VerticalScrollingHelper.fixTemporaryFirstVisibleRow: Aborted - The index is already final",e);return Promise.resolve()}var s=i;var f=b.getScrollRangeOfViewport(e);var d=e._getMaxFirstRenderedRowIndex();var u=e._aRowHeights;var g;p("VerticalScrollingHelper.fixTemporaryFirstVisibleRow",e);if(l){var v=f*o.getOffset();if(n){s=d}for(g=0;g<u.length;g++){var h=v-u[g];if(h>=0){v=h;s++}else{break}}}else if(n){var T=Math.max(0,Math.min(u.length-1,i-d));var m=0;for(g=0;g<T;g++){m+=u[g];if(m>f){s=d+g;break}}}if(i!==s||r){p('VerticalScrollingHelper.fixTemporaryFirstVisibleRow: Set "firstVisibleRow" to '+s,e);e._setFirstVisibleRowIndex(s,{onScroll:true,forceEvent:r,suppressRendering:true})}return Promise.resolve()},adjustScrollPositionToFirstVisibleRow:function(e,r){if(r&&r.isCancelled()){return Promise.resolve()}p("VerticalScrollingHelper.adjustScrollPositionToFirstVisibleRow",e);c(e).oVerticalScrollPosition.setPosition(e.getFirstVisibleRow());return Promise.resolve()},adjustScrollPositionToScrollbar:function(e,t){if(t&&t.isCancelled()){return Promise.resolve()}var o=c(e).oVerticalScrollPosition;var l=b.getScrollPositionOfScrollbar(e);var i=b.getScrollRange(e);var n=b.getScrollRangeRowFraction(e);var a=0;var s=0;var f=S.OffsetType.Percentage;var d;p("VerticalScrollingHelper.adjustScrollPositionToScrollbar",e);if(r.isVariableRowHeightEnabled(e)){if(b.isScrollPositionOfScrollbarInBuffer(e)){var u=b.getScrollRangeBuffer(e);var g=i-u;var v=l-g;var h=v/u;a=e._getMaxFirstRenderedRowIndex();if(b.isIndexInBuffer(e,o.getIndex())){var T=b.getScrollRangeOfViewport(e);var m=T*h;var V=e._aRowHeights;for(var w=0;w<V.length;w++){var R=m-V[w];if(R>=0){m=R;a++}else{s=Math.round(m);f=S.OffsetType.Pixel;break}}}else{s=h;f=S.OffsetType.PercentageOfViewport}}else{d=l/n;a=Math.floor(d);s=d-a}}else{var P=i-l;var H=P<1;if(H){a=e._getMaxFirstVisibleRowIndex();s=0;f=S.OffsetType.Pixel}else{d=l/n;a=Math.floor(d);s=d-a}}o.setPosition(a,s,f);return Promise.resolve()},adjustScrollPositionToViewport:function(e,r){if(r&&r.isCancelled()){return Promise.resolve()}var t=c(e).oVerticalScrollPosition;var o=e._aRowHeights;var l=e._getFirstRenderedRowIndex();var i=0;var n=b.getScrollPositionOfViewport(e);p("VerticalScrollingHelper.adjustScrollPositionToViewport",e);for(var a=0;a<o.length;a++){var s=n-o[a];if(s>=0){n=s;l++}else{i=Math.round(n);break}}t.setPosition(l,i);return Promise.resolve()},fixScrollPosition:function(e,t){if(t&&t.isCancelled()){return Promise.resolve()}var o=c(e).oVerticalScrollPosition;var l=e.getDomRef("tableCCnt");var i=b.getScrollRangeOfViewport(e);var n=e._aRowHeights;if(!l||!e.getBinding()){p("VerticalScrollingHelper.fixScrollPosition: Aborted - Viewport or binding not available",e);return Promise.resolve()}p("VerticalScrollingHelper.fixScrollPosition",e);var a=o.getIndex();var s=o.getOffset();var f=0;var d;var u=e._getFirstRenderedRowIndex();switch(o.getOffsetType()){case S.OffsetType.Pixel:case S.OffsetType.Percentage:var g=o.getIndex();var v=0;var h=o.getOffsetType();if(b.isIndexInBuffer(e,g)){var T=0;f=Math.max(0,Math.min(n.length-1,g-u));for(d=0;d<f;d++){T+=n[d];if(T>i){a=u+d;s=i-v;h=S.OffsetType.Pixel;f=d;break}else{v=T}}}if(h===S.OffsetType.Pixel){s=Math.min(s,n[f])}else{s=n[f]*s}v+=s;if(v>i&&r.isVariableRowHeightEnabled(e)){s-=v-i}break;case S.OffsetType.PercentageOfViewport:var m=i*o.getOffset();for(d=0;d<n.length;d++){var V=m-n[d];if(V>=0){m=V;f++}else{a=u+f;s=Math.round(m);break}}break;default:}o.setPosition(a,s);return Promise.resolve()},scrollViewport:function(e,t){if(t&&t.isCancelled()){return Promise.resolve()}if(!r.isVariableRowHeightEnabled(e)){p("VerticalScrollingHelper.scrollViewport: Aborted - Variable row height not enabled",e);return Promise.resolve()}var o=c(e).oVerticalScrollPosition;var l=e.getDomRef("tableCCnt");var i=b.getScrollRangeOfViewport(e);var n=e._aRowHeights;var a=0;if(i===0){p("VerticalScrollingHelper.scrollViewport: Aborted - No overflow in viewport",e);l.scrollTop=a;l._scrollTop=l.scrollTop;return Promise.resolve()}p("VerticalScrollingHelper.scrollViewport",e);switch(o.getOffsetType()){case S.OffsetType.Pixel:var s=o.getIndex();var f=Math.max(0,Math.min(n.length-1,s-e._getFirstRenderedRowIndex()));for(var d=0;d<f;d++){a+=n[d]}a+=o.getOffset();break;default:p("VerticalScrollingHelper.scrollViewport: The viewport can only be scrolled if the offset is in pixel",e);return Promise.resolve()}p("VerticalScrollingHelper.scrollViewport: Scroll from "+l.scrollTop+" to "+a,e);l.scrollTop=a;l._scrollTop=l.scrollTop;return Promise.resolve()},scrollScrollbar:function(e,r){if(r&&r.isCancelled()){return Promise.resolve()}var t=c(e).oVerticalScrollPosition;var o=t.getIndex();var l=b.getScrollRangeBuffer(e);var i=b.getScrollRange(e);var n=i-l;var a=0;var s=0;var f=b.getScrollRangeOfViewport(e);var d=e._aRowHeights;var u;p("VerticalScrollingHelper.scrollScrollbar",e);if(i===0||d.length===0){p("VerticalScrollingHelper.scrollScrollbar: No scrollable content",e);return Promise.resolve()}switch(t.getOffsetType()){case S.OffsetType.Pixel:if(b.isIndexInBuffer(e,o)){var g=0;u=Math.max(0,Math.min(d.length-1,o-e._getMaxFirstRenderedRowIndex()));for(var v=0;v<u;v++){g+=d[v]}g+=Math.min(d[u],t.getOffset());var h=Math.min(g/f,1);var T=l*h;a=n+T}else{var m=b.getScrollRangeRowFraction(e);a=o*m;u=Math.max(0,Math.min(d.length-1,o-e._getFirstRenderedRowIndex()));a+=m*Math.min(t.getOffset()/d[u],1)}break;default:p("VerticalScrollingHelper.scrollViewport: The scrollbar can only be scrolled if the offset is in pixel",e);return Promise.resolve()}if(a>0&&a<.5){s=1}else if(a>=i-.5&&a<i){s=i-1}else{s=Math.round(a)}var V=e._getScrollExtension().getVerticalScrollbar();if(V){p("VerticalScrollingHelper.scrollScrollbar: Scroll from "+V.scrollTop+" to "+s,e);V.scrollTop=s;V._scrollTop=V.scrollTop}else{p("VerticalScrollingHelper.scrollScrollbar: Not scrolled - No scrollbar available",e)}return Promise.resolve()},getScrollRange:function(e){var r=e._getScrollExtension();var t=r.getVerticalScrollHeight()-r.getVerticalScrollbarHeight();return Math.max(0,t)},getScrollRangeBuffer:function(e){if(!r.isVariableRowHeightEnabled(e)){return 0}return d*e._getBaseRowHeight()},getScrollPositionOfScrollbar:function(e){var r=e._getScrollExtension();if(r.isVerticalScrollbarVisible()){return r.getVerticalScrollbar().scrollTop}else{return 0}},getScrollPositionOfViewport:function(e){var r=e?e.getDomRef("tableCCnt"):null;return r?r.scrollTop:0},getScrollRangeRowFraction:function(e){var t=e._getScrollExtension();var o=e._getTotalRowCount()-e._getRowCounts()._fullsize;var l;if(r.isVariableRowHeightEnabled(e)){l=b.getScrollRange(e)-b.getScrollRangeBuffer(e);var i=t.getVerticalScrollHeight()===f;if(!i){l+=e._getBaseRowHeight()}}else{l=b.getScrollRange(e)}return l/Math.max(1,o)},isScrollPositionOfScrollbarInBuffer:function(e){if(!r.isVariableRowHeightEnabled(e)){return false}var t=b.getScrollRange(e);var o=b.getScrollPositionOfScrollbar(e);var l=b.getScrollRangeBuffer(e);return t-o<=l},isIndexInBuffer:function(e,t){if(!r.isVariableRowHeightEnabled(e)){return false}return t>=e._getMaxFirstRenderedRowIndex()},getScrollRangeOfViewport:function(e){if(!e||!e._aRowHeights){return 0}var r=e._aRowHeights;var t=e._getBaseRowHeight()*e._getRowCounts()._fullsize;if(e._getRowCounts()._fullsize>=e._getTotalRowCount()){r=r.slice(0,e._getTotalRowCount())}var o=r.reduce(function(e,r){return e+r},0)-t;if(o>0){o=Math.ceil(o)}return Math.max(0,o)},addOnRowsUpdatedPreprocessor:function(e,r){c(e).aOnRowsUpdatedPreprocessors.push(r)},removeOnRowsUpdatedPreprocessor:function(e,r){if(!r){c(e).aOnRowsUpdatedPreprocessors=[];return false}var t=c(e).aOnRowsUpdatedPreprocessors.indexOf(r);if(t>-1){c(e).aOnRowsUpdatedPreprocessors.splice(t,1);return true}return false},onRowsUpdated:function(e){p("VerticalScrollingHelper.onRowsUpdated: Reason "+e.getParameters().reason,this);b.updateScrollbarVisibility(this);if(c(this).aOnRowsUpdatedPreprocessors.length>0){p("VerticalScrollingHelper.onRowsUpdated (preprocessors)",this);var t=c(this).aOnRowsUpdatedPreprocessors.reduce(function(r,t){var o=t.call(this,e);return!(r&&!o)},true);b.removeOnRowsUpdatedPreprocessor(this);if(!t){p("VerticalScrollingHelper.onRowsUpdated (preprocessors): Default prevented",this);return}}if(!r.isVariableRowHeightEnabled(this)){p("VerticalScrollingHelper.onRowsUpdated: Aborted - Variable row heights not enabled",this);return}var o=this;v.start(this,v.OnRowsUpdated,function(e,t,l){r.Hook.call(o,s.Signal,"StartTableUpdate");l.onPromiseCreated=function(e){e.finally(function(){r.Hook.call(o,s.Signal,"EndTableUpdate")})};b.fixScrollPosition(o,l).then(function(){return Promise.all([b.adjustFirstVisibleRowToScrollPosition(o,true,l),b.scrollViewport(o,l),b.scrollScrollbar(o,l)])}).then(e)})},restoreScrollPosition:function(e,t){p("VerticalScrollingHelper.restoreScrollPosition",e);v.start(e,v.RestoreScrollPosition,function(o,l,i){r.Hook.call(e,s.Signal,"StartTableUpdate");i.onPromiseCreated=function(t){t.then(function(){if(!i.isCancelled()){b._restoreScrollPosition(e)}}).finally(function(){r.Hook.call(e,s.Signal,"EndTableUpdate")})};if(t!==true){o();return}var n=function(){p("VerticalScrollingHelper.restoreScrollPosition (async: rows updated)",e);o();return false};b.addOnRowsUpdatedPreprocessor(e,n);i.addCancelListener(function(){var r=b.removeOnRowsUpdatedPreprocessor(e,n);if(r){o()}})})},_restoreScrollPosition:function(e){var r=c(e).oVerticalScrollPosition;var t=r.isInitial();p("VerticalScrollingHelper.restoreScrollPosition: "+"Scroll position is"+(t?" ":" not ")+"initial",e);if(t){b.performUpdateFromFirstVisibleRow(e)}else{b.performUpdateFromScrollPosition(e)}},onTotalRowCountChanged:function(){b.adjustToTotalRowCount(this)},adjustToTotalRowCount:function(e){var t=e._getScrollExtension();p("VerticalScrollingHelper.adjustToTotalRowCount",e);b.updateScrollbarVisibility(e);h.updateScrollbar(e);t.updateVerticalScrollHeight();v.start(e,v.AdjustToTotalRowCount,function(t,o,l){r.Hook.call(e,s.Signal,"StartTableUpdate");l.onPromiseCreated=function(t){t.then(function(){if(l.isCancelled()||c(e).oVerticalScrollPosition.isInitial()){return}b.performUpdateFromScrollPosition(e)}).finally(function(){r.Hook.call(e,s.Signal,"EndTableUpdate")})};if(c(e).oVerticalScrollPosition.isInitial()){t()}else{var i=function(){p("VerticalScrollingHelper.adjustToTotalRowCount (async: rows updated)",e);t();return false};b.addOnRowsUpdatedPreprocessor(e,i);l.addCancelListener(function(){var r=b.removeOnRowsUpdatedPreprocessor(e,i);if(r){t()}})}})},onUpdateTableSizes:function(e){b.updateScrollbarVisibility(this);h.updateScrollbar(this)},updateScrollbarVisibility:function(e){var r=e._getScrollExtension();var t=r.getVerticalScrollbar();var o=e?e.getDomRef():null;if(!t||!o){return}var l=r.isVerticalScrollbarRequired();o.classList.toggle("sapUiTableVScr",l&&!r.isVerticalScrollbarExternal());t.parentElement.classList.toggle("sapUiTableHidden",!l)},addEventListeners:function(e){var r=e._getScrollExtension();var t=b.getScrollAreas(e);var o=e.getDomRef("tableCCnt");if(!r._onVerticalScrollEventHandler){r._onVerticalScrollEventHandler=b.onScrollbarScroll.bind(e)}for(var l=0;l<t.length;l++){t[l].addEventListener("scroll",r._onVerticalScrollEventHandler)}if(o){if(!r._onViewportScrollEventHandler){r._onViewportScrollEventHandler=b.onViewportScroll.bind(e)}o.addEventListener("scroll",r._onViewportScrollEventHandler)}e.attachRowsUpdated(b.onRowsUpdated)},removeEventListeners:function(e){var r=e._getScrollExtension();var t=b.getScrollAreas(e);var o=e.getDomRef("tableCCnt");if(r._onVerticalScrollEventHandler){for(var l=0;l<t.length;l++){t[l].removeEventListener("scroll",r._onVerticalScrollEventHandler)}delete r._onVerticalScrollEventHandler}if(o&&r._onViewportScrollEventHandler){o.removeEventListener("scroll",r._onViewportScrollEventHandler);delete r._onViewportScrollEventHandler}e.detachRowsUpdated(b.onRowsUpdated)},getScrollAreas:function(e){var r=[e._getScrollExtension().getVerticalScrollbar()];return r.filter(function(e){return e!=null})}};var T={onMouseWheelScrolling:function(e,t){var o=this._getScrollExtension();var l=Math.abs(t.deltaY)>Math.abs(t.deltaX);var i=l?t.deltaY:t.deltaX;var n=l&&t.shiftKey||!l;var a=i>0;var s=false;if(i===0){return}if(n&&(e.scrollDirection===u.HORIZONAL||e.scrollDirection===u.BOTH)){var f=o.getHorizontalScrollbar();if(t.deltaMode!==window.WheelEvent.DOM_DELTA_PIXEL){var d=r.Column.getMinColumnWidth();i=a?d:-d}if(a){s=f.scrollLeft===f.scrollWidth-f.offsetWidth}else{s=f.scrollLeft===0}if(o.isHorizontalScrollbarVisible()&&!s){t.preventDefault();t.stopPropagation();this._getKeyboardExtension().setActionMode(false);f.scrollLeft=f.scrollLeft+i}}else if(!n&&(e.scrollDirection===u.VERTICAL||e.scrollDirection===u.BOTH)){var p=o.getVerticalScrollbar();var g=c(this).oVerticalScrollPosition;if(a){s=p.scrollTop===p.scrollHeight-p.offsetHeight}else{s=p.scrollTop===0}if(!o.isVerticalScrollbarVisible()||s){return}t.preventDefault();t.stopPropagation();if(t.deltaMode===window.WheelEvent.DOM_DELTA_PIXEL){var S=i/this._getDefaultRowHeight();if(S>=0){g.scrollRows(Math.max(1,Math.floor(S)))}else{g.scrollRows(Math.min(-1,Math.ceil(S)))}}else if(t.deltaMode===window.WheelEvent.DOM_DELTA_LINE){g.scrollRows(i)}else if(t.deltaMode===window.WheelEvent.DOM_DELTA_PAGE){g.scrollRows(i*this._getRowCounts()._scrollSize)}this._getKeyboardExtension().setActionMode(false);b.performUpdateFromScrollPosition(this)}},onTouchStart:function(e,r){if(r.type==="touchstart"||r.pointerType==="touch"){var t=this._getScrollExtension();var o=t.getHorizontalScrollbar();var l=t.getVerticalScrollbar();var i=r.touches?r.touches[0]:r;c(this).mTouchSessionData={initialPageX:i.pageX,initialPageY:i.pageY,initialScrollTop:l?l.scrollTop:0,initialScrollLeft:o?o.scrollLeft:0,initialScrolledToEnd:null,touchMoveDirection:null}}},onTouchMoveScrolling:function(e,r){if(r.type!=="touchmove"&&r.pointerType!=="touch"){return}var t=this._getScrollExtension();var o=c(this).mTouchSessionData;if(!o){return}var l=r.touches?r.touches[0]:r;var i=l.pageX-o.initialPageX;var n=l.pageY-o.initialPageY;var a=false;if(!o.touchMoveDirection){if(i===0&&n===0){return}o.touchMoveDirection=Math.abs(i)>Math.abs(n)?"horizontal":"vertical"}switch(o.touchMoveDirection){case"horizontal":var s=t.getHorizontalScrollbar();if(s&&(e.scrollDirection===u.HORIZONAL||e.scrollDirection===u.BOTH)){this._getKeyboardExtension().setActionMode(false);if(o.initialScrolledToEnd==null){if(i<0){o.initialScrolledToEnd=s.scrollLeft===s.scrollWidth-s.offsetWidth}else{o.initialScrolledToEnd=s.scrollLeft===0}}if(!o.initialScrolledToEnd){s.scrollLeft=o.initialScrollLeft-i;a=true}}break;case"vertical":var f=t.getVerticalScrollbar();if(f&&(e.scrollDirection===u.VERTICAL||e.scrollDirection===u.BOTH)){this._getKeyboardExtension().setActionMode(false);if(o.initialScrolledToEnd==null){if(n<0){o.initialScrolledToEnd=f.scrollTop===f.scrollHeight-f.offsetHeight}else{o.initialScrolledToEnd=f.scrollTop===0}}if(!o.initialScrolledToEnd){f.scrollTop=o.initialScrollTop-n;a=true}}break;default:}if(a){r.preventDefault()}},addEventListeners:function(e){var r=e._getScrollExtension();var t=T.getEventListenerTargets(e);r._mMouseWheelEventListener=this.addMouseWheelEventListener(t,e,{scrollDirection:u.BOTH});r._mTouchEventListener=this.addTouchEventListener(t,e,{scrollDirection:u.BOTH})},addMouseWheelEventListener:function(e,r,t){var o=T.onMouseWheelScrolling.bind(r,t);for(var l=0;l<e.length;l++){e[l].addEventListener("wheel",o)}return{wheel:o}},addTouchEventListener:function(e,r,t){var l=T.onTouchStart.bind(r,t);var i=T.onTouchMoveScrolling.bind(r,t);var n={};for(var a=0;a<e.length;a++){if(o.support.pointer&&o.system.desktop){e[a].addEventListener("pointerdown",l);e[a].addEventListener("pointermove",i,o.browser.chrome?{passive:true}:false)}else if(o.support.touch){e[a].addEventListener("touchstart",l);e[a].addEventListener("touchmove",i)}}if(o.support.pointer&&o.system.desktop){n={pointerdown:l,pointermove:i}}else if(o.support.touch){n={touchstart:l,touchmove:i}}return n},removeEventListeners:function(e){var r=e._getScrollExtension();var t=T.getEventListenerTargets(e);function o(e,r){for(var t in r){var o=r[t];if(o){e.removeEventListener(t,o)}}}for(var l=0;l<t.length;l++){o(t[l],r._mMouseWheelEventListener);o(t[l],r._mTouchEventListener)}delete r._mMouseWheelEventListener;delete r._mTouchEventListener},getEventListenerTargets:function(e){var r=[e.getDomRef("tableCCnt")];return r.filter(function(e){return e!=null})}};var m={onBeforeRendering:function(e){this._getScrollExtension()._clearCache()},onAfterRendering:function(e){var r=this._getScrollExtension();var t=e!=null&&e.isMarked("renderRows");if(t){r.updateVerticalScrollbarHeight();r.updateVerticalScrollHeight()}else{b.restoreScrollPosition(this,this.getBinding()!=null)}h.restoreScrollPosition(this)},onfocusin:function(e){var t;var l=r.getCellInfo(e.target);var i=this._getScrollExtension().getHorizontalScrollbar();if(l.isOfType(r.CELLTYPE.DATACELL)){t=this.getDomRef("sapUiTableCtrlScr")}else if(l.isOfType(r.CELLTYPE.COLUMNHEADER)){t=this.getDomRef("sapUiTableColHdrScr")}if(t&&i&&l.columnIndex>=this.getComputedFixedColumnCount()){var a=n(i);var c=l.cell[0];var f=this._bRtlMode?a.scrollLeftRTL():i.scrollLeft;var d=t.clientWidth;var u=c.offsetLeft;var p=u+c.offsetWidth;var g=u-f;var S=p-d-f;var v;if(g<0&&S<0){v=f+g}else if(S>0&&g>0){v=f+S}if(v!=null){if(this._bRtlMode){a.scrollLeftRTL(v)}else{i.scrollLeft=v}}}var h=r.getParentCell(this,e.target);if(h){var b=this;var T=function(){var e=h.find(".sapUiTableCellInner");if(e.length>0){if(b._bRtlMode){e.scrollLeftRTL(e[0].scrollWidth-e[0].clientWidth)}else{e[0].scrollLeft=0}e[0].scrollTop=0}r.Hook.call(b,s.Signal,"EndFocusHandling");r.Hook.call(b,s.Signal,"EndTableUpdate")};r.Hook.call(this,s.Signal,"StartTableUpdate");r.Hook.call(this,s.Signal,"StartFocusHandling");Promise.resolve().then(function(){if(o.browser.safari){window.setTimeout(T,0)}else{T()}})}}};var V=e.extend("sap.ui.table.extensions.Scrolling",{_init:function(e,t,o){var l=c(e);l.oHorizontalScrollbar=null;l.iHorizontalScrollPosition=null;l.oVerticalScrollbar=null;l.oVerticalScrollPosition=new S(e);l.pVerticalScrollUpdateProcess=null;l.oExternalVerticalScrollbar=null;l.bIsVerticalScrollbarExternal=false;l.mTimeouts={};l.mAnimationFrames={};l.mTouchSessionData=null;l.aOnRowsUpdatedPreprocessors=[];r.addDelegate(e,m,e);return"ScrollExtension"},_attachEvents:function(){var e=this.getTable();h.addEventListeners(e);b.addEventListeners(e);T.addEventListeners(e);r.Hook.register(e,r.Hook.Keys.Table.TotalRowCountChanged,b.onTotalRowCountChanged,e);r.Hook.register(e,r.Hook.Keys.Table.UpdateSizes,b.onUpdateTableSizes,e)},_detachEvents:function(){var e=this.getTable();h.removeEventListeners(e);b.removeEventListeners(e);T.removeEventListeners(e);r.Hook.deregister(e,r.Hook.Keys.Table.TotalRowCountChanged,b.onTotalRowCountChanged,e);r.Hook.deregister(e,r.Hook.Keys.Table.UpdateSizes,b.onUpdateTableSizes,e)},destroy:function(){var t=this.getTable();this._clearCache();if(t){r.removeDelegate(t,m);if(c(t).pVerticalScrollUpdateProcess){c(t).pVerticalScrollUpdateProcess.cancel();c(t).pVerticalScrollUpdateProcess=null}}e.prototype.destroy.apply(this,arguments)}});V.prototype.scrollVertically=function(e,r){var t=this.getTable();if(!t){return}var o=t._getRowCounts();var l=t._getFirstRenderedRowIndex();var i=r===true?o.scrollable:1;if(e===true){c(t).oVerticalScrollPosition.setPosition(l+i,1,S.OffsetType.PercentageOfViewport)}else{c(t).oVerticalScrollPosition.setPosition(Math.max(0,l-i))}b.performUpdateFromScrollPosition(t)};V.prototype.scrollVerticallyMax=function(e){var r=this.getTable();if(!r){return}if(e===true){c(r).oVerticalScrollPosition.setPosition(r._getMaxFirstRenderedRowIndex(),1,S.OffsetType.PercentageOfViewport)}else{c(r).oVerticalScrollPosition.setPosition(0)}b.performUpdateFromScrollPosition(r)};V.prototype.getHorizontalScrollbar=function(){var e=this.getTable();if(!e){return null}if(!e._bInvalid&&!c(e).oHorizontalScrollbar){c(e).oHorizontalScrollbar=e.getDomRef(a.HorizontalScrollBar)}return c(e).oHorizontalScrollbar};V.prototype.getVerticalScrollbar=function(){var e=this.getTable();var r=this.isVerticalScrollbarExternal();if(!e){return null}if(!e._bInvalid&&!c(e).oVerticalScrollbar){c(e).oVerticalScrollbar=e.getDomRef(a.VerticalScrollBar);if(!c(e).oVerticalScrollbar&&r){c(e).oVerticalScrollbar=c(e).oExternalVerticalScrollbar}}var t=c(e).oVerticalScrollbar;if(t&&!r&&!t.isConnected){return null}return t};V.prototype.isHorizontalScrollbarVisible=function(){var e=this.getHorizontalScrollbar();return e!=null&&!e.classList.contains("sapUiTableHidden")};V.prototype.isVerticalScrollbarVisible=function(){var e=this.getVerticalScrollbar();return e!=null&&!e.parentElement.classList.contains("sapUiTableHidden")};V.prototype.isVerticalScrollbarExternal=function(){var e=this.getTable();return e?c(e).bIsVerticalScrollbarExternal:false};V.prototype.markVerticalScrollbarAsExternal=function(e){var r=this.getTable();if(r&&e){c(r).bIsVerticalScrollbarExternal=true;c(r).oExternalVerticalScrollbar=e}};V.prototype.updateVerticalScrollbarHeight=function(){var e=this.getTable();var r=this.getVerticalScrollbar();if(!e||!r){return}r.style.maxHeight=this.getVerticalScrollbarHeight()+"px";r._scrollTop=r.scrollTop};V.prototype.getVerticalScrollbarHeight=function(){var e=this.getTable();if(!e){return 0}return e._getRowCounts()._scrollSize*e._getBaseRowHeight()};V.prototype.updateVerticalScrollPosition=function(e){var r=this.getTable();if(!r){return}e=e===true;if(e||r.getBinding()){b.performUpdateFromFirstVisibleRow(r,e)}else{b.adjustScrollPositionToFirstVisibleRow(r)}};V.prototype.restoreVerticalScrollPosition=function(){b.restoreScrollPosition(this.getTable())};V.prototype.updateVerticalScrollHeight=function(){var e=this.getVerticalScrollbar();var r=e?e.firstChild:null;if(!r){return}r.style.height=this.getVerticalScrollHeight()+"px";e._scrollTop=e.scrollTop};V.prototype.getVerticalScrollHeight=function(e){var t=this.getTable();if(!t){return 0}var o=t._getTotalRowCount();var l=t._getRowCounts();var i=Math.max(o,l.count);var n=t._getBaseRowHeight();var a;if(r.isVariableRowHeightEnabled(t)){a=n*(i-1)+b.getScrollRangeBuffer(t)}else{a=n*i}if(e===true){return a}else{return Math.min(f,a)}};V.prototype.isVerticalScrollbarRequired=function(){var e=this.getTable();if(!e){return false}return r.isVariableRowHeightEnabled(e)&&b.getScrollRangeOfViewport(e)>0||e._getTotalRowCount()>e._getRowCounts()._fullsize};V.prototype.registerForMouseWheel=function(r,t){var o=this.getTable();if(e.isEnrichedWith(o,"sap.ui.table.extensions.Synchronization")){return T.addMouseWheelEventListener(r,o,t)}else{i.error("This method can only be used with synchronization enabled.",o,"sap.ui.table.extensions.Scrolling#registerForMouseWheel");return null}};V.prototype.registerForTouch=function(r,t){var o=this.getTable();if(e.isEnrichedWith(o,"sap.ui.table.extensions.Synchronization")){return T.addTouchEventListener(r,o,t)}else{i.error("This method can only be used with synchronization enabled.",o,"sap.ui.table.extensions.Scrolling#registerForTouch");return null}};V.prototype._clearCache=function(){var e=this.getTable();if(!e){return}c(e).oVerticalScrollbar=null;c(e).oHorizontalScrollbar=null};V.ScrollDirection=u;return V});
/*!
 * OpenUI5
 * (c) Copyright 2009-2022 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/table/extensions/ScrollingIOS",["./ExtensionBase","../utils/TableUtils"],function(t,e){"use strict";var r={onAfterRendering:function(){this.attachScrollbar()}};var o=t.extend("sap.ui.table.extensions.ScrollingIOS",{_init:function(t){e.addDelegate(t,r,this);this.attachScrollbar();return"ScrollIOSExtension"},destroy:function(){var o=this.getTable();e.removeDelegate(o,r);clearTimeout(this._iUpdateDefaultScrollbarPositionTimeoutId);t.prototype.destroy.apply(this,arguments)},_attachEvents:function(){var t=this.getTable();e.Hook.register(t,e.Hook.Keys.Table.TotalRowCountChanged,this.onTotalRowCountChanged,this);e.Hook.register(t,e.Hook.Keys.Table.UpdateSizes,this.onUpdateTableSizes,this)},_detachEvents:function(){var t=this.getTable();var r=t._getScrollExtension().getVerticalScrollbar();if(r){r.removeEventListener("scroll",this._onVerticalScrollEventHandler)}delete this._onVerticalScrollEventHandler;var o=this.getVerticalScrollbar();if(o){o.removeEventListener("pointerdown",this._onPointerDownEventHandler)}delete this._onPointerDownEventHandler;var a=this.getVerticalScrollbarThumb();if(a){a.removeEventListener("touchmove",this._onTouchMoveEventHandler)}delete this._onTouchMoveEventHandler;e.Hook.deregister(t,e.Hook.Keys.Table.TotalRowCountChanged,this.onTotalRowCountChanged,this);e.Hook.deregister(t,e.Hook.Keys.Table.UpdateSizes,this.onUpdateTableSizes,this)}});o.prototype.onUpdateTableSizes=function(){this.updateVerticalScrollbarThumbHeight();this.updateVerticalScrollbarThumbPosition()};o.prototype.onTotalRowCountChanged=function(){this.updateVerticalScrollbarThumbHeight()};o.prototype.attachScrollbar=function(){var t=this.getTable();var e=t._getScrollExtension().getVerticalScrollbar();var r=this.getVerticalScrollbar();var o=this.getVerticalScrollbarThumb();if(!e){return}if(!r){r=document.createElement("div");r.setAttribute("id",t.getId()+"-vsb-ios");r.classList.add("sapUiTableVSbIOS");o=document.createElement("div");o.classList.add("sapUiTableVSbIOSThumb");r.append(o);e.after(r)}if(!this._onPointerDownEventHandler){this._onPointerDownEventHandler=this.onPointerDown.bind(this);r.addEventListener("pointerdown",this._onPointerDownEventHandler);this._onTouchMoveEventHandler=this.onTouchMove.bind(this);o.addEventListener("touchmove",this._onTouchMoveEventHandler);this._onVerticalScrollEventHandler=this.updateVerticalScrollbarThumbPosition.bind(this);e.addEventListener("scroll",this._onVerticalScrollEventHandler)}this.updateVerticalScrollbar()};o.prototype.getVerticalScrollbar=function(){var t=this.getTable();return t?t.getDomRef("vsb-ios"):null};o.prototype.getVerticalScrollbarThumb=function(){var t=this.getVerticalScrollbar();return t?t.firstElementChild:null};o.prototype.updateVerticalScrollbar=function(){var t=this.getTable();var e=this.getVerticalScrollbar();e.style.height=t._getScrollExtension().getVerticalScrollbarHeight()+"px";e.style.top=Math.max(0,t._getRowCounts().fixedTop*t._getBaseRowHeight()-1)+"px";this.updateVerticalScrollbarThumbPosition();this.updateVerticalScrollbarThumbHeight()};o.prototype.updateVerticalScrollbarThumbPosition=function(){var t=this.getVerticalScrollbarThumb();if(t){t.style.top=this.getCalculateThumbOffset()+"px"}};o.prototype.updateVerticalScrollbarThumbHeight=function(){var t=this.getTable();var e=t._getScrollExtension();var r=this.getVerticalScrollbarThumb();if(r){if(e.isVerticalScrollbarRequired()){r.style.height=this.getCalculateThumbHeight()+"px"}else{r.style.height="0"}}};o.prototype.getCalculateThumbHeight=function(){var t=this.getTable();var e=t._getScrollExtension();var r=e.getVerticalScrollbarHeight();var o=e.getVerticalScrollHeight();return Math.round(Math.pow(r,2)/o)};o.prototype.getCalculateThumbOffset=function(){var t=this.getTable();var e=t._getScrollExtension();var r=e.getVerticalScrollbarHeight();var o=e.getVerticalScrollHeight();var a=e.getVerticalScrollbar();var l=a?e.getVerticalScrollbar().scrollTop:0;return Math.round(l*r/o)};o.prototype.onTouchMove=function(t){var e=this.getTable();var r=e._getScrollExtension();var o=this.getVerticalScrollbarThumb();var a=o.getBoundingClientRect().y;var l=this.getCalculateThumbHeight();var i=o.offsetTop+t.touches[0].pageY-a-l/2;var n=Math.min(r.getVerticalScrollbarHeight()-l,Math.max(0,i));t.preventDefault();t.stopPropagation();o.style.top=n+"px";clearTimeout(this._iUpdateDefaultScrollbarPositionTimeoutId);this._iUpdateDefaultScrollbarPositionTimeoutId=setTimeout(function(){this.updateDefaultScrollbarPosition(n,l);delete this._iUpdateDefaultScrollbarPositionTimeoutId}.bind(this),30)};o.prototype.onPointerDown=function(t){var e=this.getTable();var r=e._getScrollExtension();var o=this.getVerticalScrollbarThumb();var a=o.getBoundingClientRect().y;var l=this.getCalculateThumbHeight();var i=o.offsetTop+t.clientY-a-l/2;var n=Math.min(r.getVerticalScrollbarHeight()-l,Math.max(0,i));t.preventDefault();t.stopPropagation();o.style.top=n+"px";this.updateDefaultScrollbarPosition(n,l)};o.prototype.updateDefaultScrollbarPosition=function(t,e){var r=this.getTable();if(!r){return}var o=r._getScrollExtension();var a=o.getVerticalScrollbarHeight();if(t+e>=a){o.scrollVerticallyMax(true)}else{var l=t*o.getVerticalScrollHeight()/a;var i=o.getVerticalScrollbar();i.scrollTop=l}};return o});
/*!
 * OpenUI5
 * (c) Copyright 2009-2022 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/table/extensions/Synchronization",["./ExtensionBase","../utils/TableUtils","../library","sap/base/Log"],function(e,t,r,n){"use strict";var o={setRowSelection:function(e,r){var n=this.getTable();var o=n.getRows()[e];if(o&&r!=null){t.toggleRowSelection(n,o.getIndex(),r)}},setRowHover:function(e,t){var r=this.getTable();var n=r.getRows()[e];if(n&&t!=null){n._setHovered(t)}},addVerticalScrollingListener:function(e){var t=this.getTable();var r=t._getScrollExtension();var n=r.constructor.ScrollDirection;if(e){r.registerForMouseWheel(e.wheelAreas,{scrollDirection:n.VERTICAL});r.registerForTouch(e.touchAreas,{scrollDirection:n.VERTICAL})}},placeVerticalScrollbarAt:function(e){var t=this.getTable();var n=t._getScrollExtension();if(!e){throw new Error("The HTMLElement in which the vertical scrollbar should be placed must be specified.")}if(!n.isVerticalScrollbarExternal()){var o=sap.ui.getCore().createRenderManager();t.getRenderer().renderVSbExternal(o,t);o.flush(e);var l=e.querySelector("#"+t.getId()+"-"+r.SharedDomRef.VerticalScrollBar);n.markVerticalScrollbarAsExternal(l);t.invalidate()}else{e.appendChild(n.getVerticalScrollbar().parentElement);n.restoreVerticalScrollPosition()}},renderHorizontalScrollbar:function(e,t,r){var n=this.getTable();if(t==null){throw new Error("The id must be specified.")}n.getRenderer().renderHSbExternal(e,n,t,r)}};var l={onBeforeRendering:function(e){var t=this._getSyncExtension();var r=e&&e.isMarked("renderRows");var n=this.getDomRef("tableCCnt");if(!r&&n&&t._onTableContainerScrollEventHandler){n.removeEventListener("scroll",t._onTableContainerScrollEventHandler);delete t._onTableContainerScrollEventHandler}},onAfterRendering:function(e){var t=this._getScrollExtension();var r=e&&e.isMarked("renderRows");var n=this.getDomRef("tableCCnt");if(t.isVerticalScrollbarExternal()&&!r){t.updateVerticalScrollbarHeight();t.updateVerticalScrollHeight()}if(!r){var o=this._getSyncExtension();o.syncInnerVerticalScrollPosition(n.scrollTop);if(!o._onTableContainerScrollEventHandler){o._onTableContainerScrollEventHandler=function(e){o.syncInnerVerticalScrollPosition(e.target.scrollTop)}}n.addEventListener("scroll",o._onTableContainerScrollEventHandler)}}};var i=e.extend("sap.ui.table.extensions.Synchronization",{_init:function(e,r,n){this._delegate=l;this._oPublicInterface={syncRowSelection:o.setRowSelection.bind(this),syncRowHover:o.setRowHover.bind(this),registerVerticalScrolling:o.addVerticalScrollingListener.bind(this),placeVerticalScrollbarAt:o.placeVerticalScrollbarAt.bind(this),renderHorizontalScrollbar:o.renderHorizontalScrollbar.bind(this)};t.addDelegate(e,this._delegate,e);return"SyncExtension"},destroy:function(){var t=this.getTable();if(t){t.removeEventDelegate(this._delegate)}this._delegate=null;this._oPublicInterface=null;e.prototype.destroy.apply(this,arguments)}});i.prototype.syncRowCount=function(e){this.callInterfaceHook("rowCount",arguments)};i.prototype.syncRowSelection=function(e,t){this.callInterfaceHook("rowSelection",arguments)};i.prototype.syncRowHover=function(e,t){this.callInterfaceHook("rowHover",arguments)};i.prototype.syncRowHeights=function(e){return this.callInterfaceHook("rowHeights",arguments)};i.prototype.syncInnerVerticalScrollPosition=function(e){this.callInterfaceHook("innerVerticalScrollPosition",arguments)};i.prototype.syncLayout=function(e){this.callInterfaceHook("layout",arguments)};i.prototype.callInterfaceHook=function(e,r){var o={};o[e]=Array.prototype.slice.call(r);n.debug("sap.ui.table.extensions.Synchronization","Sync "+e+"("+o[e]+")",this.getTable());return t.dynamicCall(this._oPublicInterface,o)};i.prototype.getInterface=function(){return this._oPublicInterface};return i});
/*!
 * OpenUI5
 * (c) Copyright 2009-2022 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/table/library",["sap/ui/core/Core","sap/ui/model/TreeAutoExpandMode","sap/ui/core/library","sap/ui/unified/library"],function(e,a){"use strict";var o=sap.ui.getCore().initLibrary({name:"sap.ui.table",version:"1.102.1",dependencies:["sap.ui.core","sap.ui.unified"],designtime:"sap/ui/table/designtime/library.designtime",types:["sap.ui.table.NavigationMode","sap.ui.table.RowActionType","sap.ui.table.SelectionBehavior","sap.ui.table.SelectionMode","sap.ui.table.SortOrder","sap.ui.table.VisibleRowCountMode","sap.ui.table.TreeAutoExpandMode"],interfaces:[],controls:["sap.ui.table.AnalyticalColumnMenu","sap.ui.table.AnalyticalTable","sap.ui.table.ColumnMenu","sap.ui.table.CreationRow","sap.ui.table.Table","sap.ui.table.TreeTable","sap.ui.table.RowAction"],elements:["sap.ui.table.AnalyticalColumn","sap.ui.table.Column","sap.ui.table.Row","sap.ui.table.RowActionItem","sap.ui.table.RowSettings","sap.ui.table.rowmodes.RowMode","sap.ui.table.rowmodes.FixedRowMode","sap.ui.table.rowmodes.InteractiveRowMode","sap.ui.table.rowmodes.AutoRowMode","sap.ui.table.plugins.MultiSelectionPlugin","sap.ui.table.plugins.SelectionPlugin"],extensions:{flChangeHandlers:{"sap.ui.table.Table":{moveElements:"default"},"sap.ui.table.AnalyticalTable":{moveElements:"default"}},"sap.ui.support":{publicRules:true}}});o.NavigationMode={Scrollbar:"Scrollbar",Paginator:"Paginator"};o.RowActionType={Custom:"Custom",Navigation:"Navigation",Delete:"Delete"};o.SelectionBehavior={Row:"Row",RowSelector:"RowSelector",RowOnly:"RowOnly"};o.SelectionMode={MultiToggle:"MultiToggle",Multi:"Multi",Single:"Single",None:"None"};o.SortOrder={Ascending:"Ascending",Descending:"Descending"};o.VisibleRowCountMode={Fixed:"Fixed",Interactive:"Interactive",Auto:"Auto"};o.SharedDomRef={HorizontalScrollBar:"hsb",VerticalScrollBar:"vsb"};o.GroupEventType={group:"group",ungroup:"ungroup",ungroupAll:"ungroupAll",moveUp:"moveUp",moveDown:"moveDown",showGroupedColumn:"showGroupedColumn",hideGroupedColumn:"hideGroupedColumn"};o.ResetAllMode={Default:"Default",ServiceDefault:"ServiceDefault",ServiceReset:"ServiceReset"};o.ColumnHeader=o.Column;o.TreeAutoExpandMode=a;if(!o.TableHelper){o.TableHelper={addTableClass:function(){return""},createLabel:function(e){throw new Error("no Label control available!")},createTextView:function(e){throw new Error("no TextView control available!")},bFinal:false}}return o});
/*
 * OpenUI5
 * (c) Copyright 2009-2022 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/table/plugins/BindingSelection",["./SelectionPlugin","../utils/TableUtils","../library"],function(e,t,n){"use strict";var i=n.SelectionMode;var o=e.extend("sap.ui.table.plugins.BindingSelection",{metadata:{library:"sap.ui.table",events:{selectionChange:{parameters:{indices:{type:"int[]"},selectAll:{type:"boolean"}}}}}});o.prototype.onDeactivate=function(t){e.prototype.onDeactivate.apply(this,arguments);r(this,this.getTableBinding())};o.prototype.getRenderConfig=function(){return{headerSelector:{type:"toggle",visible:t.hasSelectAll(this.getTable())}}};o.prototype.onHeaderSelectorPress=function(){if(this.getRenderConfig().headerSelector.visible){this.getTable()._toggleSelectAll()}};o.prototype.onKeyboardShortcut=function(e){if(e==="toggle"){this.getTable()._toggleSelectAll()}else if(e==="clear"){this.clearSelection()}};o.prototype.addSelectionInterval=function(e,t){if(this._getSelectionMode()===i.None){return}var n=this.getTableBinding();if(n&&n.addSelectionInterval){if(this._getSelectionMode()===i.Single){e=t;n.setSelectionInterval(e,t)}n.addSelectionInterval(e,t)}};o.prototype.clearSelection=function(){var e=this.getTableBinding();if(e&&e.clearSelection){e.clearSelection()}};o.prototype.getSelectedIndex=function(){var e=this.getTableBinding();if(e&&e.findNode){return e.getSelectedIndex()}else{return-1}};o.prototype.getSelectedIndices=function(){var e=this.getTableBinding();if(this._getSelectionMode()===i.Single){var t=this.getSelectedIndex();if(t===-1){return[]}return[t]}if(e&&e.findNode&&e.getSelectedIndices){return e.getSelectedIndices()}else{return[]}};o.prototype.getSelectableCount=function(){var e=this.getTableBinding();if(!e){return 0}else if(e.getGrandTotalContextInfo){var t=e.getGrandTotalContextInfo();return t?t.totalNumberOfLeafs:0}else{return e.getLength()}};o.prototype.getSelectedCount=function(){var e=this.getTableBinding();if(e&&e.getSelectedNodesCount){return e.getSelectedNodesCount()}else{return 0}};o.prototype.isIndexSelectable=function(e){var t=this.getTableBinding();if(t){return t.isIndexSelectable(e)}else{return false}};o.prototype.isIndexSelected=function(e){var t=this.getTableBinding();if(this._getSelectionMode()===i.Single){if(e<0){return false}return e===this.getSelectedIndex()}if(t&&t.isIndexSelected){return t.isIndexSelected(e)}else{return false}};o.prototype.removeSelectionInterval=function(e,t){var n=this.getTableBinding();if(n&&n.findNode&&n.removeSelectionInterval){n.removeSelectionInterval(e,t)}};o.prototype.selectAll=function(){if(this._getSelectionMode()===i.None){return}var e=this.getTableBinding();if(e&&e.selectAll){e.selectAll()}};o.prototype.setSelectedIndex=function(e){if(this._getSelectionMode()===i.None){return}if(e===-1){this.clearSelection()}else{var t=this.getTableBinding();if(t&&t.setSelectedIndex){t.setSelectedIndex(e)}}};o.prototype.setSelectionInterval=function(e,t){if(this._getSelectionMode()===i.None){return}var n=this.getTableBinding();if(n&&n.setSelectionInterval){if(this._getSelectionMode()===i.Single){e=t}n.setSelectionInterval(e,t)}};o.prototype.setSelectionMode=function(t){var n=this._getSelectionMode();e.prototype._setSelectionMode.apply(this,arguments);if(this._getSelectionMode()!==n){this.clearSelection()}return this};o.prototype._getHighestSelectableIndex=function(){var e=this.getTableBinding();return e?e.getLength()-1:-1};o.prototype.onTableRowsBound=function(t){e.prototype.onTableRowsBound.apply(this,arguments);l(this,t)};function l(e,t){if(t){t.attachChange(e._onBindingChange,e);t.attachSelectionChanged(e._onSelectionChange,e)}}function r(e,t){if(t){t.detachChange(e._onBindingChange,e);t.detachSelectionChanged(e._onSelectionChange,e)}}o.prototype._onBindingChange=function(e){var t=typeof e==="object"?e.getParameter("reason"):e;if(t==="sort"||t==="filter"){this.clearSelection()}};o.prototype._onSelectionChange=function(e){var t=e.getParameter("rowIndices");var n=e.getParameter("selectAll");this.fireSelectionChange({rowIndices:t,selectAll:n})};return o});
/*
 * OpenUI5
 * (c) Copyright 2009-2022 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/table/plugins/MultiSelectionPlugin",["./SelectionPlugin","../library","../utils/TableUtils","sap/ui/core/Icon","sap/ui/core/IconPool","sap/base/Log"],function(e,t,i,n,o,r){"use strict";var l=t.SelectionMode;var s=e.extend("sap.ui.table.plugins.MultiSelectionPlugin",{metadata:{library:"sap.ui.table",properties:{limit:{type:"int",group:"Behavior",defaultValue:200},enableNotification:{type:"boolean",group:"Behavior",defaultValue:false},showHeaderSelector:{type:"boolean",group:"Appearance",defaultValue:true},selectionMode:{type:"sap.ui.table.SelectionMode",group:"Behavior",defaultValue:l.MultiToggle}},events:{selectionChange:{parameters:{indices:{type:"int[]"},limitReached:{type:"boolean"},customPayload:{type:"object"}}}}}});s.prototype.init=function(){e.prototype.init.apply(this,arguments);var t=new n({src:o.getIconURI(i.ThemeParameters.clearSelectionIcon),useIconTooltip:false});t.addStyleClass("sapUiTableSelectClear");this._bLimitReached=false;this._bLimitDisabled=this.getLimit()===0;this.oInnerSelectionPlugin=null;this.oDeselectAllIcon=t;this._oNotificationPopover=null};s.prototype.exit=function(){if(this.oDeselectAllIcon){this.oDeselectAllIcon.destroy();this.oDeselectAllIcon=null}if(this._oNotificationPopover){this._oNotificationPopover.destroy();this._oNotificationPopover=null}};s.prototype.onActivate=function(t){e.prototype.onActivate.apply(this,arguments);this.oInnerSelectionPlugin=t._createLegacySelectionPlugin();this.oInnerSelectionPlugin.attachSelectionChange(this._onSelectionChange,this);t.addAggregation("_hiddenDependents",this.oInnerSelectionPlugin);t.setProperty("selectionMode",this.getSelectionMode())};s.prototype.onDeactivate=function(t){e.prototype.onDeactivate.apply(this,arguments);t.detachFirstVisibleRowChanged(this.onFirstVisibleRowChange,this);if(this._oNotificationPopover){this._oNotificationPopover.close()}if(this.oInnerSelectionPlugin){this.oInnerSelectionPlugin.destroy();this.oInnerSelectionPlugin=null}};s.prototype.getRenderConfig=function(){return{headerSelector:{type:this._bLimitDisabled?"toggle":"clear",icon:this.oDeselectAllIcon,visible:this.getSelectionMode()===l.MultiToggle&&this.getShowHeaderSelector(),enabled:this._bLimitDisabled||this.getSelectedCount()>0}}};s.prototype.onHeaderSelectorPress=function(){var e=this.getRenderConfig();if(!e.headerSelector.visible||!e.headerSelector.enabled){return}if(e.headerSelector.type==="toggle"){a(this)}else if(e.headerSelector.type==="clear"){this.clearSelection()}};s.prototype.onKeyboardShortcut=function(e){if(e==="toggle"){if(this._bLimitDisabled){a(this)}}else if(e==="clear"){this.clearSelection()}};function a(e){if(e.getSelectableCount()>e.getSelectedCount()){e.selectAll()}else{e.clearSelection()}}s.prototype.setSelectionMode=function(e){var t=this.getSelectionMode();var i=this.getParent();if(i){i.setProperty("selectionMode",e,true)}this.setProperty("selectionMode",e);if(this.getSelectionMode()!==t){this.clearSelection()}return this};s.prototype.setLimit=function(e){if(typeof e==="number"&&e<0){r.warning("The limit must be greater than or equal to 0",this);return this}this.setProperty("limit",e,!!this.getLimit()===!!e);this._bLimitDisabled=e===0;return this};s.prototype.setEnableNotification=function(e){this.setProperty("enableNotification",e,true);return this};s.prototype.isLimitReached=function(){return this._bLimitReached};s.prototype.setLimitReached=function(e){this._bLimitReached=e};s.prototype.selectAll=function(e){if(!this._bLimitDisabled){return Promise.reject(new Error("Not possible if the limit is enabled"))}var t=this.getSelectableCount();if(t===0){return Promise.reject(new Error("Nothing to select"))}return this.addSelectionInterval(0,this._getHighestSelectableIndex(),e)};function c(e,t,i,n){var o=e._getHighestSelectableIndex();if(t<0&&i<0||t>o&&i>o){return Promise.reject(new Error("Out of range"))}t=Math.min(Math.max(0,t),o);i=Math.min(Math.max(0,i),o);var r=e.getLimit();var l=i<t;var s=l?i:t;var a;if(n&&e.isIndexSelected(t)){if(l){t--}else if(t!==i){t++;s++}}a=Math.abs(i-t)+1;if(!e._bLimitDisabled){e.setLimitReached(a>r);if(e.isLimitReached()){if(l){i=t-r+1}else{i=t+r-1}a=r+1}}return u(e.getTableBinding(),s,a).then(function(){return{indexFrom:t,indexTo:i}})}s.prototype.setSelectionInterval=function(e,t,i){var n=this.getSelectionMode();if(n===l.None){return Promise.reject(new Error("SelectionMode is '"+l.None+"'"))}if(n===l.Single){e=t}return c(this,e,t,false).then(function(e){this._oCustomEventPayloadTmp=i;this.oInnerSelectionPlugin.setSelectionInterval(e.indexFrom,e.indexTo);delete this._oCustomEventPayloadTmp;return this._scrollTableToIndex(e.indexTo,e.indexFrom>e.indexTo)}.bind(this))};s.prototype.setSelectedIndex=function(e,t){return this.setSelectionInterval(e,e,t)};s.prototype.addSelectionInterval=function(e,t,i){var n=this.getSelectionMode();if(n===l.None){return Promise.reject(new Error("SelectionMode is '"+l.None+"'"))}if(n===l.Single){return this.setSelectionInterval(t,t)}if(n===l.MultiToggle){return c(this,e,t,true).then(function(e){this._oCustomEventPayloadTmp=i;this.oInnerSelectionPlugin.addSelectionInterval(e.indexFrom,e.indexTo);delete this._oCustomEventPayloadTmp;return this._scrollTableToIndex(e.indexTo,e.indexFrom>e.indexTo)}.bind(this))}};s.prototype._scrollTableToIndex=function(e,t){var i=this.getParent();if(!i||!this.isLimitReached()){return Promise.resolve()}var n=i.getFirstVisibleRow();var o=i._getRowCounts();var r=n+o.scrollable-1;var l=false;if(e<n||e>r){var s=t?e-o.fixedTop-1:e-o.scrollable-o.fixedTop+2;l=i._setFirstVisibleRowIndex(Math.max(0,s))}this._showNotificationPopoverAtIndex(e);return new Promise(function(e){if(l){i.attachEventOnce("rowsUpdated",e)}else{e()}})};s.prototype._showNotificationPopoverAtIndex=function(e){var t=this;var o=this._oNotificationPopover;var r=this.getParent();var l=r.getRows()[e-r._getFirstRenderedRowIndex()];var s=i.getResourceText("TBL_SELECT_LIMIT_TITLE");var a=i.getResourceText("TBL_SELECT_LIMIT",[this.getLimit()]);if(!this.getEnableNotification()){return Promise.resolve()}return new Promise(function(e){sap.ui.require(["sap/m/Popover","sap/m/Bar","sap/m/Title","sap/m/Text","sap/m/HBox","sap/ui/core/library","sap/m/library"],function(i,c,u,h,d,p,g){if(!o){o=new i(t.getId()+"-notificationPopover",{customHeader:[new c({contentMiddle:[new d({items:[new n({src:"sap-icon://message-warning",color:p.IconColor.Critical}).addStyleClass("sapUiTinyMarginEnd"),new u({text:s,level:p.TitleLevel.H2})],renderType:g.FlexRendertype.Bare,justifyContent:g.FlexJustifyContent.Center,alignItems:g.FlexAlignItems.Center})]})],content:new h({text:a})});o.addStyleClass("sapUiContentPadding");t._oNotificationPopover=o}else{o.getContent()[0].setText(a)}r.detachFirstVisibleRowChanged(t.onFirstVisibleRowChange,t);r.attachFirstVisibleRowChanged(t.onFirstVisibleRowChange,t);var f=l.getDomRefs().rowSelector;if(f){o.attachEventOnce("afterOpen",e);o.openBy(f)}else{e()}})})};s.prototype.onFirstVisibleRowChange=function(){if(!this._oNotificationPopover){return}var e=this.getParent();if(e){e.detachFirstVisibleRowChanged(this.onFirstVisibleRowChange,this)}this._oNotificationPopover.close()};function u(e,t,i){return new Promise(function(n){h(e,t,i,n)})}function h(e,t,i,n){var o=e.getContexts(t,i,0,true);var r=false;for(var l=0;l<o.length;l++){if(!o[l]){r=true;break}}if(!r&&!o.dataRequested){n(o);return}e.attachEventOnce("dataReceived",function(){if(o.length==i){n(o)}else{h(e,t,i,n)}})}s.prototype.clearSelection=function(e){if(this.oInnerSelectionPlugin){this.setLimitReached(false);this._oCustomEventPayloadTmp=e;this.oInnerSelectionPlugin.clearSelection();delete this._oCustomEventPayloadTmp}};s.prototype.getSelectedIndex=function(){if(this.oInnerSelectionPlugin){return this.oInnerSelectionPlugin.getSelectedIndex()}return-1};s.prototype.getSelectedIndices=function(){if(this.oInnerSelectionPlugin){return this.oInnerSelectionPlugin.getSelectedIndices()}return[]};s.prototype.getSelectableCount=function(){if(this.oInnerSelectionPlugin){return this.oInnerSelectionPlugin.getSelectableCount()}return 0};s.prototype.getSelectedCount=function(){if(this.oInnerSelectionPlugin){return this.oInnerSelectionPlugin.getSelectedCount()}return 0};s.prototype.isIndexSelectable=function(e){if(this.oInnerSelectionPlugin){return this.oInnerSelectionPlugin.isIndexSelectable(e)}return false};s.prototype.isIndexSelected=function(e){if(this.oInnerSelectionPlugin){return this.oInnerSelectionPlugin.isIndexSelected(e)}return false};s.prototype.removeSelectionInterval=function(e,t,i){if(this.oInnerSelectionPlugin){this.setLimitReached(false);this._oCustomEventPayloadTmp=i;this.oInnerSelectionPlugin.removeSelectionInterval(e,t);delete this._oCustomEventPayloadTmp}};s.prototype._onSelectionChange=function(e){var t=e.getParameter("rowIndices");this.fireSelectionChange({rowIndices:t,limitReached:this.isLimitReached(),customPayload:typeof this._oCustomEventPayloadTmp==="object"?this._oCustomEventPayloadTmp:null})};s.prototype._getHighestSelectableIndex=function(){if(this.oInnerSelectionPlugin){return this.oInnerSelectionPlugin._getHighestSelectableIndex()}return 0};s.prototype.onThemeChanged=function(){this.oDeselectAllIcon.setSrc(o.getIconURI(i.ThemeParameters.clearSelectionIcon))};return s});
/*
 * OpenUI5
 * (c) Copyright 2009-2022 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/table/plugins/PluginBase",["../utils/TableUtils","sap/ui/core/Element"],function(t,i){"use strict";var e=t.Hook.Keys;var n={};var o=t.createWeakMapFacade();var a=i.extend("sap.ui.table.plugins.PluginBase",{metadata:{abstract:true,library:"sap.ui.table"}});a.prototype.init=function(){i.prototype.init.apply(this,arguments);o(this).bIsActive=false};a.prototype.exit=function(){i.prototype.exit.apply(this,arguments);this.deactivate()};a.prototype.onActivate=function(t){};a.prototype.onDeactivate=function(t){};a.prototype.isActive=function(){return o(this).bIsActive};a.prototype.isApplicable=function(i){return t.isA(i,"sap.ui.table.Table")};a.prototype.setParent=function(t){this.deactivate();i.prototype.setParent.apply(this,arguments);if(t){if(!this.isApplicable(this.getTable())){throw new Error(this+" is not applicable to "+t)}this.activate()}return this};a.prototype.onTableBindRows=function(){};n[e.Table.BindRows]=function(t){this.onTableBindRows(t)};a.prototype.onTableRowsBound=function(t){};n[e.Table.RowsBound]=function(t){this.onTableRowsBound(t)};a.prototype.onTableUnbindRows=function(){};n[e.Table.UnbindRows]=function(){this.onTableUnbindRows()};a.prototype.getTable=function(){var i=this.getParent();return t.isA(i,"sap.ui.table.Table")?i:null};a.prototype.getTableBinding=function(){var t=this.getTable();var i=t?t.getBinding():null;return i?i:null};a.prototype.setRowCountConstraints=function(t){var i=this.getTable();if(i){i._setRowCountConstraints(t)}};a.prototype.activate=function(){var i=this.getTable();if(!i||this.isActive()){return}t.Hook.install(i,n,this);this.onActivate(i);var e=this.getTableBinding();if(e){this.onTableRowsBound(e)}o(this).bIsActive=true};a.prototype.deactivate=function(){var i=this.getTable();if(!this.isActive()){return}t.Hook.uninstall(i,n,this);this.onDeactivate(i);o(this).bIsActive=false};return a});
/*
 * OpenUI5
 * (c) Copyright 2009-2022 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/table/plugins/SelectionModelSelection",["sap/ui/model/SelectionModel","./SelectionPlugin","../utils/TableUtils","../library"],function(e,t,o,i){"use strict";var n=i.SelectionMode;var l=t.extend("sap.ui.table.plugins.SelectionModelSelection",{metadata:{library:"sap.ui.table",events:{selectionChange:{parameters:{indices:{type:"int[]"},selectAll:{type:"boolean"}}}}}});l.prototype.init=function(){t.prototype.init.apply(this,arguments);this.oSelectionModel=new e(this._getSelectionMode)};l.prototype.exit=function(){t.prototype.exit.apply(this,arguments);if(this.oSelectionModel){this.oSelectionModel.destroy();this.oSelectionModel=null}};l.prototype.onActivate=function(e){t.prototype.onActivate.apply(this,arguments);this.oSelectionModel.attachSelectionChanged(c,this);o.Hook.register(e,o.Hook.Keys.Table.TotalRowCountChanged,d,this);this._iTotalRowCount=e._getTotalRowCount()};l.prototype.onDeactivate=function(e){t.prototype.onDeactivate.apply(this,arguments);this.oSelectionModel.detachSelectionChanged(c,this);this.oSelectionModel.clearSelection();r(this,this.getTableBinding());o.Hook.deregister(e,o.Hook.Keys.Table.TotalRowCountChanged,d,this)};l.prototype.getRenderConfig=function(){return{headerSelector:{type:"toggle",visible:o.hasSelectAll(this.getTable())}}};l.prototype.onHeaderSelectorPress=function(){if(this.getRenderConfig().headerSelector.visible){this.getTable()._toggleSelectAll()}};l.prototype.onKeyboardShortcut=function(e){if(e==="toggle"){this.getTable()._toggleSelectAll()}else if(e==="clear"){this.clearSelection()}};l.prototype.addSelectionInterval=function(e,t){if(!this.oSelectionModel||this._getSelectionMode()===n.None){return}this.oSelectionModel.addSelectionInterval(e,t)};l.prototype.clearSelection=function(){if(this.oSelectionModel){this.oSelectionModel.clearSelection()}};l.prototype.getSelectedIndex=function(){if(this.oSelectionModel){return this.oSelectionModel.getLeadSelectedIndex()}return-1};l.prototype.getSelectedIndices=function(){if(this.oSelectionModel){return this.oSelectionModel.getSelectedIndices()}return[]};l.prototype.getSelectableCount=function(){var e=this.getTableBinding();return e?e.getLength():0};l.prototype.getSelectedCount=function(){return this.getSelectedIndices().length};l.prototype.isIndexSelectable=function(e){return e>=0&&e<=this._getHighestSelectableIndex()};l.prototype.isIndexSelected=function(e){return this.getSelectedIndices().indexOf(e)!==-1};l.prototype.removeSelectionInterval=function(e,t){if(this.oSelectionModel){this.oSelectionModel.removeSelectionInterval(e,t)}};l.prototype.selectAll=function(){if(!this.oSelectionModel||this._getSelectionMode()===n.None){return}this.oSelectionModel.selectAll(this._getHighestSelectableIndex())};l.prototype.setSelectedIndex=function(e){if(this._getSelectionMode()===n.None){return}if(e===-1){this.clearSelection()}else{this.setSelectionInterval(e,e)}};l.prototype.setSelectionInterval=function(e,t){if(!this.oSelectionModel||this._getSelectionMode()===n.None){return}this.oSelectionModel.setSelectionInterval(e,t)};l.prototype.setSelectionMode=function(o){var i=this._getSelectionMode();t.prototype._setSelectionMode.apply(this,arguments);if(this._getSelectionMode()!==i){this.clearSelection()}if(this.oSelectionModel){var l=o===n.MultiToggle?e.MULTI_SELECTION:e.SINGLE_SELECTION;this.oSelectionModel.setSelectionMode(l)}return this};l.prototype._getHighestSelectableIndex=function(){var e=this.getTableBinding();return e?e.getLength()-1:-1};l.prototype.onTableRowsBound=function(e){t.prototype.onTableRowsBound.apply(this,arguments);s(this,e)};l.prototype.onTableUnbindRows=function(){t.prototype.onTableUnbindRows.apply(this,arguments);this._suspend();this.clearSelection();this._resume()};function c(e){var t=e.getParameter("rowIndices");var o=e.getParameter("selectAll");this.fireSelectionChange({rowIndices:t,selectAll:o})}function s(e,t){if(t){t.attachChange(a,e)}}function r(e,t){if(t){t.detachChange(a,e)}}function a(e){var t=typeof e==="object"?e.getParameter("reason"):e;if(t==="sort"||t==="filter"){this.clearSelection()}}function d(){var e=this.getTable()._getTotalRowCount();if(this._iTotalRowCount>0&&this._iTotalRowCount!==e){this.clearSelection()}this._iTotalRowCount=e}return l});
/*
 * OpenUI5
 * (c) Copyright 2009-2022 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/table/plugins/SelectionPlugin",["sap/ui/core/Element","./PluginBase","../library"],function(e,t,n){"use strict";var o=n.SelectionMode;var i=e.extend("sap.ui.table.plugins.SelectionPlugin",{metadata:{abstract:true,library:"sap.ui.table",properties:{selectionMode:{type:"sap.ui.table.SelectionMode",defaultValue:o.MultiToggle,visibility:"hidden"}},events:{selectionChange:{parameters:{}}}}});for(var r in t.prototype){if(!i.prototype.hasOwnProperty(r)){i.prototype[r]=t.prototype[r]}}i.prototype.init=function(){t.prototype.init.apply(this,arguments);this._bSuspended=false};i.prototype.getRenderConfig=function(){return{headerSelector:{type:"none"}}};i.prototype.addSelectionInterval=function(e,t){};i.prototype.clearSelection=function(){};i.prototype.getSelectedIndex=function(){return-1};i.prototype.getSelectedIndices=function(){return[]};i.prototype.getSelectableCount=function(){return 0};i.prototype.getSelectedCount=function(){return 0};i.prototype.isIndexSelectable=function(e){return false};i.prototype.isIndexSelected=function(e){return false};i.prototype.removeSelectionInterval=function(e,t){};i.prototype.selectAll=function(){};i.prototype.setSelectedIndex=function(e){};i.prototype.setSelectionInterval=function(e,t){};i.prototype.fireSelectionChange=function(e){if(!this._isSuspended()){this.fireEvent("selectionChange",e)}};i.prototype._setSelectionMode=function(e){this.setProperty("selectionMode",e)};i.prototype._getSelectionMode=function(){return this.getProperty("selectionMode")};i.prototype._suspend=function(){this._bSuspended=true};i.prototype._resume=function(){this._bSuspended=false};i.prototype._isSuspended=function(){return this._bSuspended};return i});
/*
 * OpenUI5
 * (c) Copyright 2009-2022 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/table/plugins/V4Aggregation",["./PluginBase","../utils/TableUtils","sap/base/util/deepClone"],function(t,e,o){"use strict";function i(t,o){var i="TBL_ROW_GROUP_TITLE";var r=[o.property.label,t.getProperty(o.property.path,true)];if(o.textProperty){i="TBL_ROW_GROUP_TITLE_FULL";r.push(t.getProperty(o.textProperty.path,true))}return e.getResourceText(i,r)}var r=t.extend("sap.ui.table.plugins.V4Aggregation",{metadata:{library:"sap.ui.table",properties:{totalSummaryOnTop:{type:"string",defaultValue:"Off"},totalSummaryOnBottom:{type:"string",defaultValue:"Fixed"},groupSummary:{type:"string",defaultValue:"Bottom"},groupHeaderFormatter:{type:"function"}}}});r.prototype.isApplicable=function(e){return t.prototype.isApplicable.apply(this,arguments)&&e.getMetadata().getName()==="sap.ui.table.Table"};r.prototype.activate=function(){var e=this.getTableBinding();if(e&&!e.isA("sap.ui.model.odata.v4.ODataListBinding")){return}t.prototype.activate.apply(this,arguments)};r.prototype.onActivate=function(t){this.setRowCountConstraints({fixedTop:false,fixedBottom:false});e.Grouping.setToDefaultGroupMode(t);e.Hook.register(t,e.Hook.Keys.Row.UpdateState,this.updateRowState,this);e.Hook.register(t,e.Hook.Keys.Row.Expand,u,this);e.Hook.register(t,e.Hook.Keys.Row.Collapse,p,this)};r.prototype.onDeactivate=function(t){this._mGroup=undefined;this._mAggregate=undefined;this._aGroupLevels=undefined;this._mColumnState=undefined;this.setRowCountConstraints();a(this);e.Grouping.setToDefaultFlatMode(t);e.Hook.deregister(t,e.Hook.Keys.Row.UpdateState,this.updateRowState,this);e.Hook.deregister(this,e.Hook.Keys.Row.Expand,u,this);e.Hook.deregister(this,e.Hook.Keys.Row.Collapse,p,this);var o=t.getBinding();if(o){o.setAggregation()}};function a(t){var e=t.getTable();if(e){e.getColumns().forEach(function(t){t._setCellContentVisibilitySettings()})}}function n(t){var e=t.getTable();var o=t.getGroupSummary();if(!e||!t._mColumnState){return}e.getColumns().forEach(function(e){var i=t._mColumnState[e.getId()];if(i){e._setCellContentVisibilitySettings({groupHeader:{expanded:!!i.subtotals&&(o==="Top"||o==="TopAndBottom"),collapsed:!!i.subtotals&&(o==="Bottom"||o==="TopAndBottom")},summary:{group:!!i.subtotals,total:!!i.grandTotal}})}else{e._setCellContentVisibilitySettings()}})}r.prototype.onTableRowsBound=function(t){if(!t.getModel().isA("sap.ui.model.odata.v4.ODataModel")){this.deactivate()}};r.prototype.onTableBindRows=function(t){t.parameters=t.parameters||{};t.parameters.$$aggregation=this.getAggregationInfo()};r.prototype.updateRowState=function(t){var e=t.context.getValue("@$ui5.node.level");var o=t.context.getValue("@$ui5.node.isTotal");var r=t.context.getValue("@$ui5.node.isExpanded")===undefined;var a=e===0&&o;var n=e>0&&!r;var s=!n&&o;t.level=e;t.expandable=n;t.expanded=t.context.getValue("@$ui5.node.isExpanded")===true;if(a||s){t.type=t.Type.Summary;t.level++}else if(n){t.type=t.Type.GroupHeader}if(n){var u=this._aGroupLevels[e-1];var p=this.getGroupHeaderFormatter();var g=p?p(t.context,u.property.name):undefined;if(g===undefined){t.title=i(t.context,u)}else if(typeof g!=="string"){throw new Error("The group header title must be a string or undefined")}else{t.title=g}}};r.prototype.setPropertyInfos=function(t){this._aPropertyInfos=t};r.prototype.getPropertyInfos=function(){return this._aPropertyInfos||[]};r.prototype.findPropertyInfo=function(t){return this.getPropertyInfos().find(function(e){return e.name===t})};r.prototype.isPropertyAggregatable=function(t){return t.extension&&t.extension.defaultAggregate?true:false};r.prototype.setAggregationInfo=function(t){t=Object.assign({columnState:{}},t);if(!Array.isArray(t.visible)){this._mGroup=undefined;this._mAggregate=undefined;this._aGroupLevels=undefined;this._sSearch=undefined}else{var e=[];var o=[];var i;this._mGroup=this.getPropertyInfos().reduce(function(t,e){if(e.key){t[e.path]={};i=s(this,e);if(i){t[e.path].additionally=i;o.concat(i)}}return t}.bind(this),{});this._mAggregate={};var r=t.visible.concat();if(t.groupLevels){t.groupLevels.forEach(function(t){if(r.indexOf(t)<0){r.push(t)}})}r.forEach(function(r){var a=this.findPropertyInfo(r);if(a&&a.groupable){this._mGroup[a.path]={};i=s(this,a);if(i){this._mGroup[a.path].additionally=i;o=o.concat(i)}}if(a&&this.isPropertyAggregatable(a)){this._mAggregate[a.path]={};if(t.grandTotal&&t.grandTotal.indexOf(r)>=0){this._mAggregate[a.path].grandTotal=true}if(t.subtotals&&t.subtotals.indexOf(r)>=0){this._mAggregate[a.path].subtotals=true}if(a.unit){var n=this.findPropertyInfo(a.unit);if(n){this._mAggregate[a.path].unit=n.path;e.push(n.path)}}if(a.extension.defaultAggregate.contextDefiningProperties){a.extension.defaultAggregate.contextDefiningProperties.forEach(function(t){var e=this.findPropertyInfo(t);if(e){this._mGroup[e.path]={};i=s(this,a);if(i){this._mGroup[e.path].additionally=i;o=o.concat(i)}}}.bind(this))}}}.bind(this));this._aGroupLevels=[];if(t.groupLevels){t.groupLevels.forEach(function(t){var e=this.findPropertyInfo(t);this._aGroupLevels.push({property:e,textProperty:this.findPropertyInfo(e.text)})}.bind(this))}Object.keys(this._mGroup).forEach(function(t){if(this._mAggregate.hasOwnProperty(t)){if(this._mAggregate[t].grandTotal||this._mAggregate[t].subtotals){delete this._mGroup[t];return}else{delete this._mAggregate[t]}}if(this._mGroup[t].additionally){this._mGroup[t].additionally=this._mGroup[t].additionally.filter(function(t){return e.indexOf(t)===-1})}if(o.indexOf(t)>-1){delete this._mGroup[t]}}.bind(this));this._sSearch=t.search}this._mColumnState=t.columnState;n(this);this.updateAggregation()};r.prototype.getAggregationInfo=function(){if(!Object.keys(this._mGroup||{}).length&&!Object.keys(this._mAggregate||{}).length){return}var t={aggregate:o(this._mAggregate),group:o(this._mGroup),groupLevels:this._aGroupLevels?this._aGroupLevels.map(function(t){return t.property.path}):undefined,search:this._sSearch};if(t.aggregate){g(this,t);l(this,t)}return t};function s(t,e){if(e.text){var o=t.findPropertyInfo(e.text);if(o){return[o.path]}}return null}function u(t){var e=t.getRowBindingContext();if(e){e.expand()}}function p(t){var e=t.getRowBindingContext();if(e){e.collapse()}}r.prototype.setTotalSummaryOnTop=function(t){this.setProperty("totalSummaryOnTop",t,true);this.updateAggregation()};r.prototype.setTotalSummaryOnBottom=function(t){this.setProperty("totalSummaryOnBottom",t,true);this.updateAggregation()};r.prototype.setGroupSummary=function(t){this.setProperty("groupSummary",t,true);n(this);this.updateAggregation()};r.prototype.updateAggregation=function(){var t=this.getTableBinding();if(t){t.setAggregation(this.getAggregationInfo())}};function g(t,e){var o=t.getTotalSummaryOnTop();var i=t.getTotalSummaryOnBottom();var r=o==="On"||o==="Fixed";var a=i==="On"||i==="Fixed";var n=Object.keys(e.aggregate).some(function(t){return e.aggregate[t].grandTotal});if(r&&a){e.grandTotalAtBottomOnly=false}else if(a){e.grandTotalAtBottomOnly=true}else if(r){e.grandTotalAtBottomOnly=undefined}else{Object.keys(e.aggregate).forEach(function(t){delete e.aggregate[t].grandTotal})}t.setRowCountConstraints({fixedTop:o==="Fixed"&&n,fixedBottom:i==="Fixed"&&n})}function l(t,e){var o=t.getGroupSummary();if(o==="Top"){e.subtotalsAtBottomOnly=undefined}else if(o==="Bottom"){e.subtotalsAtBottomOnly=true}else if(o==="TopAndBottom"){e.subtotalsAtBottomOnly=false}else{Object.keys(e.aggregate).forEach(function(t){delete e.aggregate[t].subtotals})}}return r});
/*
 * OpenUI5
 * (c) Copyright 2009-2022 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/table/rowmodes/AutoRowMode",["../library","../utils/TableUtils","./RowMode","sap/ui/Device","sap/ui/thirdparty/jquery"],function(t,e,o,i,a){"use strict";var s=e.createWeakMapFacade();var n=o.extend("sap.ui.table.rowmodes.AutoRowMode",{metadata:{library:"sap.ui.table",properties:{minRowCount:{type:"int",defaultValue:5,group:"Appearance"},maxRowCount:{type:"int",defaultValue:-1,group:"Appearance"},fixedTopRowCount:{type:"int",defaultValue:0,group:"Appearance"},fixedBottomRowCount:{type:"int",defaultValue:0,group:"Appearance"},rowContentHeight:{type:"int",defaultValue:0,group:"Appearance"},hideEmptyRows:{type:"boolean",defaultValue:false,group:"Appearance"}}},constructor:function(t){Object.defineProperty(this,"bLegacy",{value:typeof t==="boolean"?t:false});o.apply(this,arguments)}});var r={};function l(t){var e=t.getTable();var o=e?e.getDomRef("tableCCnt"):null;if(o&&i.browser.chrome&&window.devicePixelRatio!==1){var a=document.createElement("table");var s=a.insertRow();var n=t.getRowContentHeight();var r;a.classList.add("sapUiTableCtrl");s.classList.add("sapUiTableTr");if(n>0){s.style.height=t.getBaseRowHeightOfTable()+"px"}o.appendChild(a);r=s.getBoundingClientRect().height;o.removeChild(a);return r}else{return t.getBaseRowHeightOfTable()}}n.prototype.init=function(){o.prototype.init.apply(this,arguments);s(this).iPendingStartTableUpdateSignals=0;s(this).bRowCountAutoAdjustmentActive=false;s(this).iLastAvailableSpace=0;s(this).rowCount=-1;s(this).bTableIsFlexItem=false;s(this).adjustRowCountToAvailableSpaceAsync=e.throttleFrameWise(this.adjustRowCountToAvailableSpace.bind(this))};n.prototype.attachEvents=function(){o.prototype.attachEvents.apply(this,arguments);e.addDelegate(this.getTable(),r,this)};n.prototype.detachEvents=function(){o.prototype.detachEvents.apply(this,arguments);e.removeDelegate(this.getTable(),r)};n.prototype.cancelAsyncOperations=function(){o.prototype.cancelAsyncOperations.apply(this,arguments);this.stopAutoRowMode()};n.prototype.registerHooks=function(){o.prototype.registerHooks.apply(this,arguments);e.Hook.register(this.getTable(),e.Hook.Keys.Table.RefreshRows,this._onTableRefreshRows,this);e.Hook.register(this.getTable(),e.Hook.Keys.Table.UpdateSizes,this._onUpdateTableSizes,this)};n.prototype.deregisterHooks=function(){o.prototype.deregisterHooks.apply(this,arguments);e.Hook.deregister(this.getTable(),e.Hook.Keys.Table.RefreshRows,this._onTableRefreshRows,this);e.Hook.deregister(this.getTable(),e.Hook.Keys.Table.UpdateSizes,this._onUpdateTableSizes,this)};n.prototype.getFixedTopRowCount=function(){if(this.bLegacy){var t=this.getTable();return t?t.getFixedRowCount():0}return this.getProperty("fixedTopRowCount")};n.prototype.getFixedBottomRowCount=function(){if(this.bLegacy){var t=this.getTable();return t?t.getFixedBottomRowCount():0}return this.getProperty("fixedBottomRowCount")};n.prototype.getMinRowCount=function(){if(this.bLegacy){var t=this.getTable();return t?t.getMinAutoRowCount():0}return this.getProperty("minRowCount")};n.prototype.getRowContentHeight=function(){if(this.bLegacy){var t=this.getTable();return t?t.getRowHeight():0}return this.getProperty("rowContentHeight")};n.prototype.setHideEmptyRows=function(t){this.setProperty("hideEmptyRows",t);if(t){this.disableNoData()}else{this.enableNoData()}return this};n.prototype._getMinRowCount=function(){var t=this.getMinRowCount();var e=this.getMaxRowCount();if(e>=0){return Math.min(t,e)}else{return t}};n.prototype.getMinRequestLength=function(){var t=this.getTable();var o=this.getConfiguredRowCount();if(p(this)||t&&!t._bContextsAvailable){var a=Math.ceil(i.resize.height/e.DefaultRowHeight.sapUiSizeCondensed);o=Math.max(o,a)}return o};n.prototype.updateTableRows=function(){if(this.getHideEmptyRows()&&this.getComputedRowCounts().count===0){var t=this.getConfiguredRowCount();if(t>0){return this.getRowContexts(t,true).length>0}}else{return o.prototype.updateTableRows.call(this)}};n.prototype.getComputedRowCounts=function(){if(p(this)){return{count:0,scrollable:0,fixedTop:0,fixedBottom:0}}var t=this.getConfiguredRowCount();var e=this.getFixedTopRowCount();var o=this.getFixedBottomRowCount();if(this.getHideEmptyRows()){t=Math.min(t,this.getTotalRowCountOfTable())}return this.computeStandardizedRowCounts(t,e,o)};n.prototype.getTableStyles=function(){var t="0px";if(p(this)){t="auto"}else{var e=this.getConfiguredRowCount();if(e===0||e===this._getMinRowCount()){t="auto"}}return{height:t}};n.prototype.getTableBottomPlaceholderStyles=function(){if(!this.getHideEmptyRows()){return undefined}var t;if(p(this)){t=this._getMinRowCount()}else{t=this.getConfiguredRowCount()-this.getComputedRowCounts().count}return{height:t*this.getBaseRowHeightOfTable()+"px"}};n.prototype.getRowContainerStyles=function(){return{height:this.getComputedRowCounts().count*Math.max(this.getBaseRowHeightOfTable(),l(this))+"px"}};n.prototype.renderRowStyles=function(t){var e=this.getRowContentHeight();if(e>0){t.style("height",this.getBaseRowHeightOfTable()+"px")}};n.prototype.renderCellContentStyles=function(t){var e=this.getRowContentHeight();if(!this.bLegacy&&e<=0){e=this.getDefaultRowContentHeightOfTable()}if(e>0){t.style("max-height",e+"px")}};n.prototype.getBaseRowContentHeight=function(){return Math.max(0,this.getRowContentHeight())};n.prototype._onTableRefreshRows=function(){var t=this.getConfiguredRowCount();if(t>0){if(!p(this)){this.initTableRowsAfterDataRequested(t)}this.getRowContexts(t)}};n.prototype.getConfiguredRowCount=function(){var t=Math.max(0,this.getMinRowCount(),s(this).rowCount);var e=this.getMaxRowCount();if(e>=0){t=Math.min(t,e)}return t};n.prototype.startAutoRowMode=function(){s(this).adjustRowCountToAvailableSpaceAsync(e.RowsUpdateReason.Render,true)};n.prototype.stopAutoRowMode=function(){this.deregisterResizeHandler();s(this).adjustRowCountToAvailableSpaceAsync.cancel();s(this).bRowCountAutoAdjustmentActive=false;h(this)};n.prototype.registerResizeHandler=function(t){var o=this.getTable();if(o){e.registerResizeHandler(o,"AutoRowMode",this.onResize.bind(this),null,t===true);e.registerResizeHandler(o,"AutoRowMode-BeforeTable",this.onResize.bind(this),"before");e.registerResizeHandler(o,"AutoRowMode-AfterTable",this.onResize.bind(this),"after")}};n.prototype.deregisterResizeHandler=function(){var t=this.getTable();if(t){e.deregisterResizeHandler(t,["AutoRowMode, AutoRowMode-BeforeTable, AutoRowMode-AfterTable"])}};n.prototype.onResize=function(t){var o=t.oldSize.height;var i=t.size.height;if(o!==i){u(this);s(this).adjustRowCountToAvailableSpaceAsync(e.RowsUpdateReason.Resize)}};n.prototype._onUpdateTableSizes=function(t){if(t===e.RowsUpdateReason.Resize||t===e.RowsUpdateReason.Render){return}if(s(this).bRowCountAutoAdjustmentActive){u(this);s(this).adjustRowCountToAvailableSpaceAsync(t)}};n.prototype.adjustRowCountToAvailableSpace=function(t,o){o=o===true;var i=this.getTable();var a=i?i.getDomRef():null;if(!i||i._bInvalid||!a||!sap.ui.getCore().isThemeApplied()){h(this);return}s(this).bTableIsFlexItem=window.getComputedStyle(a.parentNode).display==="flex";if(a.scrollHeight===0){if(o){this.registerResizeHandler(!s(this).bTableIsFlexItem);s(this).bRowCountAutoAdjustmentActive=true}h(this);return}var n=this.determineAvailableSpace();var r=this.getConfiguredRowCount();var u=Math.floor(n/l(this));var p=this.getComputedRowCounts().count;var d;s(this).rowCount=u;d=this.getComputedRowCounts().count;if(this.bLegacy){i.setProperty("visibleRowCount",d,true)}if(p!==d){this.updateTable(t)}else{if(r!==u||t===e.RowsUpdateReason.Zoom){this.applyTableStyles();this.applyRowContainerStyles();this.applyTableBottomPlaceholderStyles()}if(!this._bFiredRowsUpdatedAfterRendering&&i.getRows().length>0){this.fireRowsUpdated(t)}}if(o){this.registerResizeHandler(!s(this).bTableIsFlexItem);s(this).bRowCountAutoAdjustmentActive=true}h(this)};n.prototype.determineAvailableSpace=function(){var t=this.getTable();var e=t?t.getDomRef():null;var o=t?t.getDomRef("tableCCnt"):null;var n=t?t.getDomRef("placeholder-bottom"):null;if(!e||!o||!e.parentNode){return 0}var r=0;var l=o.clientHeight;var u=n?n.clientHeight:0;if(s(this).bTableIsFlexItem){var h=e.childNodes;for(var p=0;p<h.length;p++){r+=h[p].offsetHeight}r-=l-u}else{r=e.scrollHeight-l-u}var d=t._getScrollExtension();if(!d.isHorizontalScrollbarVisible()){var g={};g[i.browser.BROWSER.CHROME]=16;g[i.browser.BROWSER.FIREFOX]=16;g[i.browser.BROWSER.SAFARI]=16;g[i.browser.BROWSER.ANDROID]=8;r+=g[i.browser.name]}var R=s(this).bTableIsFlexItem?e:e.parentNode;var f=Math.max(0,Math.floor(a(R).height()-r));var b=Math.abs(f-s(this).iLastAvailableSpace);if(b>=5){s(this).iLastAvailableSpace=f}return s(this).iLastAvailableSpace};r.onBeforeRendering=function(t){var o=t&&t.isMarked("renderRows");if(!o){this.stopAutoRowMode();this.updateTable(e.RowsUpdateReason.Render)}};r.onAfterRendering=function(t){var e=t&&t.isMarked("renderRows");if(!e){this.startAutoRowMode()}};function u(t){s(t).iPendingStartTableUpdateSignals++;e.Hook.call(t.getTable(),e.Hook.Keys.Signal,"StartTableUpdate")}function h(t){for(var o=0;o<s(t).iPendingStartTableUpdateSignals;o++){e.Hook.call(t.getTable(),e.Hook.Keys.Signal,"EndTableUpdate")}s(t).iPendingStartTableUpdateSignals=0}function p(t){return s(t).rowCount===-1}return n});
/*
 * OpenUI5
 * (c) Copyright 2009-2022 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/table/rowmodes/FixedRowMode",["../library","./RowMode","../utils/TableUtils"],function(t,e,o){"use strict";var i=e.extend("sap.ui.table.rowmodes.FixedRowMode",{metadata:{library:"sap.ui.table",properties:{rowCount:{type:"int",defaultValue:10,group:"Appearance"},fixedTopRowCount:{type:"int",defaultValue:0,group:"Appearance"},fixedBottomRowCount:{type:"int",defaultValue:0,group:"Appearance"},rowContentHeight:{type:"int",defaultValue:0,group:"Appearance"},hideEmptyRows:{type:"boolean",defaultValue:false,group:"Appearance"}}},constructor:function(t){Object.defineProperty(this,"bLegacy",{value:typeof t==="boolean"?t:false});e.apply(this,arguments)}});var n={};i.prototype.attachEvents=function(){e.prototype.attachEvents.apply(this,arguments);o.addDelegate(this.getTable(),n,this)};i.prototype.detachEvents=function(){e.prototype.detachEvents.apply(this,arguments);o.removeDelegate(this.getTable(),n)};i.prototype.registerHooks=function(){e.prototype.registerHooks.apply(this,arguments);o.Hook.register(this.getTable(),o.Hook.Keys.Table.RefreshRows,this._onTableRefreshRows,this)};i.prototype.deregisterHooks=function(){e.prototype.deregisterHooks.apply(this,arguments);o.Hook.deregister(this.getTable(),o.Hook.Keys.Table.RefreshRows,this._onTableRefreshRows,this)};i.prototype.getRowCount=function(){if(this.bLegacy){var t=this.getTable();return t?t.getVisibleRowCount():0}return this.getProperty("rowCount")};i.prototype.getFixedTopRowCount=function(){if(this.bLegacy){var t=this.getTable();return t?t.getFixedRowCount():0}return this.getProperty("fixedTopRowCount")};i.prototype.getFixedBottomRowCount=function(){if(this.bLegacy){var t=this.getTable();return t?t.getFixedBottomRowCount():0}return this.getProperty("fixedBottomRowCount")};i.prototype.getRowContentHeight=function(){if(this.bLegacy){var t=this.getTable();return t?t.getRowHeight():0}return this.getProperty("rowContentHeight")};i.prototype.setHideEmptyRows=function(t){this.setProperty("hideEmptyRows",t);if(t){this.disableNoData()}else{this.enableNoData()}return this};i.prototype.getMinRequestLength=function(){return Math.max(0,this.getRowCount())};i.prototype.updateTableRows=function(){if(this.getHideEmptyRows()&&this.getComputedRowCounts().count===0){var t=this.getRowCount();if(t>0){return this.getRowContexts(t,true).length>0}}else{return e.prototype.updateTableRows.call(this)}};i.prototype.getComputedRowCounts=function(){var t=this.getRowCount();var e=this.getFixedTopRowCount();var o=this.getFixedBottomRowCount();if(this.getHideEmptyRows()){t=Math.min(t,this.getTotalRowCountOfTable())}return this.computeStandardizedRowCounts(t,e,o)};i.prototype.getTableStyles=function(){return{height:"auto"}};i.prototype.getTableBottomPlaceholderStyles=function(){if(!this.getHideEmptyRows()){return undefined}var t=Math.max(0,this.getRowCount()-this.getComputedRowCounts().count);return{height:t*this.getBaseRowHeightOfTable()+"px"}};i.prototype.getRowContainerStyles=function(){var t=this.getComputedRowCounts().count*this.getBaseRowHeightOfTable()+"px";if(this.bLegacy&&!o.isVariableRowHeightEnabled(this.getTable())){return{minHeight:t}}else{return{height:t}}};i.prototype.renderRowStyles=function(t){var e=this.getRowContentHeight();if(e>0){t.style("height",this.getBaseRowHeightOfTable()+"px")}};i.prototype.renderCellContentStyles=function(t){var e=this.getRowContentHeight();if(this.bLegacy){return}if(e<=0){e=this.getDefaultRowContentHeightOfTable()}if(e>0){t.style("max-height",e+"px")}};i.prototype.getBaseRowContentHeight=function(){return Math.max(0,this.getRowContentHeight())};i.prototype._onTableRefreshRows=function(){var t=this.getRowCount();if(t>0){if(o.isVariableRowHeightEnabled(this.getTable())){t++}this.initTableRowsAfterDataRequested(t);this.getRowContexts(t)}};n.onBeforeRendering=function(t){var e=t&&t.isMarked("renderRows");if(!e){this.updateTable(o.RowsUpdateReason.Render)}};n.onAfterRendering=function(t){var e=this.getTable();var i=t&&t.isMarked("renderRows");if(!i&&e.getRows().length>0){this.fireRowsUpdated(o.RowsUpdateReason.Render)}};return i});
/*
 * OpenUI5
 * (c) Copyright 2009-2022 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/table/rowmodes/InteractiveRowMode",["../library","./RowMode","../utils/TableUtils","sap/base/Log","sap/ui/thirdparty/jquery"],function(t,e,o,i,n){"use strict";var r=e.extend("sap.ui.table.rowmodes.InteractiveRowMode",{metadata:{library:"sap.ui.table",final:true,properties:{rowCount:{type:"int",defaultValue:10,group:"Appearance"},minRowCount:{type:"int",defaultValue:5,group:"Appearance"},fixedTopRowCount:{type:"int",defaultValue:0,group:"Appearance"},fixedBottomRowCount:{type:"int",defaultValue:0,group:"Appearance"},rowContentHeight:{type:"int",defaultValue:0,group:"Appearance"}}},constructor:function(t){Object.defineProperty(this,"bLegacy",{value:typeof t==="boolean"?t:false});e.apply(this,arguments)}});var a={};var s={};r.prototype.attachEvents=function(){e.prototype.attachEvents.apply(this,arguments);o.addDelegate(this.getTable(),a,this)};r.prototype.detachEvents=function(){e.prototype.detachEvents.apply(this,arguments);o.removeDelegate(this.getTable(),a)};r.prototype.registerHooks=function(){e.prototype.registerHooks.apply(this,arguments);o.Hook.register(this.getTable(),o.Hook.Keys.Table.RefreshRows,this._onTableRefreshRows,this)};r.prototype.deregisterHooks=function(){e.prototype.deregisterHooks.apply(this,arguments);o.Hook.deregister(this.getTable(),o.Hook.Keys.Table.RefreshRows,this._onTableRefreshRows,this)};r.prototype.getRowCount=function(){if(this.bLegacy){var t=this.getTable();return t?t.getVisibleRowCount():0}return this.getProperty("rowCount")};r.prototype.getFixedTopRowCount=function(){if(this.bLegacy){var t=this.getTable();return t?t.getFixedRowCount():0}return this.getProperty("fixedTopRowCount")};r.prototype.getFixedBottomRowCount=function(){if(this.bLegacy){var t=this.getTable();return t?t.getFixedBottomRowCount():0}return this.getProperty("fixedBottomRowCount")};r.prototype.getMinRowCount=function(){if(this.bLegacy){var t=this.getTable();return t?t.getMinAutoRowCount():0}return this.getProperty("minRowCount")};r.prototype.getRowContentHeight=function(){if(this.bLegacy){var t=this.getTable();return t?t.getRowHeight():0}return this.getProperty("rowContentHeight")};r.prototype.getMinRequestLength=function(){return this.getConfiguredRowCount()};r.prototype.getComputedRowCounts=function(){var t=this.getConfiguredRowCount();var e=this.getFixedTopRowCount();var o=this.getFixedBottomRowCount();return this.computeStandardizedRowCounts(t,e,o)};r.prototype.getTableStyles=function(){return{height:"auto"}};r.prototype.getTableBottomPlaceholderStyles=function(){return undefined};r.prototype.getRowContainerStyles=function(){var t=this.getComputedRowCounts().count*this.getBaseRowHeightOfTable()+"px";if(this.bLegacy&&!o.isVariableRowHeightEnabled(this.getTable())){return{minHeight:t}}else{return{height:t}}};r.prototype.renderRowStyles=function(t){var e=this.getRowContentHeight();if(e>0){t.style("height",this.getBaseRowHeightOfTable()+"px")}};r.prototype.renderCellContentStyles=function(t){var e=this.getRowContentHeight();if(this.bLegacy){return}if(e<=0){e=this.getDefaultRowContentHeightOfTable()}if(e>0){t.style("max-height",e+"px")}};r.prototype.getBaseRowContentHeight=function(){return Math.max(0,this.getRowContentHeight())};r.prototype._onTableRefreshRows=function(){var t=this.getConfiguredRowCount();if(t>0){this.initTableRowsAfterDataRequested(t);this.getRowContexts(t)}};r.prototype.getConfiguredRowCount=function(){return Math.max(0,this.getMinRowCount(),this.getRowCount())};a.onBeforeRendering=function(t){var e=t&&t.isMarked("renderRows");if(this.bLegacy){this.getTable().setVisibleRowCount(this.getComputedRowCounts().count)}if(!e){this.updateTable(o.RowsUpdateReason.Render)}};a.onAfterRendering=function(t){var e=this.getTable();var i=t&&t.isMarked("renderRows");if(!i&&e.getRows().length>0){this.fireRowsUpdated(o.RowsUpdateReason.Render)}};a.onmousedown=function(t){var e=this.getTable();if(t.button===0&&t.target===e.getDomRef("sb")){s.initInteractiveResizing(e,this,t)}};s.initInteractiveResizing=function(t,e,o){var i=n(document.body);var r=t.$("sb");var a=n(document);var u=r.offset();var p=r.height();var g=r.width();var h=t._isTouchEvent(o);var l=document.createElement("div");l.style.width=g+"px";l.style.height=p+"px";l.style.left=u.left+"px";l.style.top=u.top+"px";l.className="sapUiTableInteractiveResizerGhost";l.id=t.getId()+"-ghost";i.append(l);var f=document.createElement("div");f.style.top="0px";f.style.bottom="0px";f.style.left="0px";f.style.right="0px";f.style.position="absolute";f.id=t.getId()+"-rzoverlay";r.append(f);a.on((h?"touchend":"mouseup")+".sapUiTableInteractiveResize",s.exitInteractiveResizing.bind(t,e));a.on((h?"touchmove":"mousemove")+".sapUiTableInteractiveResize",s.onMouseMoveWhileInteractiveResizing.bind(t));t._disableTextSelection()};s.exitInteractiveResizing=function(t,e){var o=n(document);var i=this.$();var r=this.$("ghost");var a=s.getEventPosition(this,e).y;var u=a-i.find(".sapUiTableCCnt").offset().top-r.height()-i.find(".sapUiTableFtr").height();var p=Math.floor(u/t.getBaseRowHeightOfTable());var g=Math.max(1,p,t.getMinRowCount());if(t.bLegacy){g=Math.max(g,t.getFixedTopRowCount()+t.getFixedBottomRowCount()+1);this.setVisibleRowCount(g)}t.setRowCount(g);r.remove();this.$("rzoverlay").remove();o.off("touchend.sapUiTableInteractiveResize");o.off("touchmove.sapUiTableInteractiveResize");o.off("mouseup.sapUiTableInteractiveResize");o.off("mousemove.sapUiTableInteractiveResize");this._enableTextSelection()};s.onMouseMoveWhileInteractiveResizing=function(t){var e=s.getEventPosition(this,t).y;var o=this.$().offset().top;if(e>o){this.$("ghost").css("top",e+"px")}};s.getEventPosition=function(t,e){var o;function i(o){if(!t._isTouchEvent(o)){return null}var i=["touches","targetTouches","changedTouches"];for(var n=0;n<i.length;n++){var r=i[n];if(e[r]&&e[r][0]){return e[r][0]}if(e.originalEvent[r]&&e.originalEvent[r][0]){return e.originalEvent[r][0]}}return null}o=i(e)||e;return{x:o.pageX,y:o.pageY}};return r});
/*
 * OpenUI5
 * (c) Copyright 2009-2022 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/table/rowmodes/RowMode",["../library","../utils/TableUtils","sap/ui/core/Element","sap/ui/thirdparty/jquery"],function(e,t,o,a){"use strict";var i=t.createWeakMapFacade();var n=o.extend("sap.ui.table.rowmodes.RowMode",{metadata:{library:"sap.ui.table",abstract:true}});var r={};n.prototype.init=function(){this._bFiredRowsUpdatedAfterRendering=false;i(this).bListeningForFirstRowsUpdatedAfterRendering=false;i(this).bNoDataDisabled=false;i(this).updateTableAsync=t.throttle(this.updateTable.bind(this),50,{asyncLeading:true})};n.prototype.exit=function(){this.detachEvents();this.cancelAsyncOperations();this.deregisterHooks()};n.prototype.setParent=function(){this.detachEvents();this.cancelAsyncOperations();this.deregisterHooks();o.prototype.setParent.apply(this,arguments);this.attachEvents();this.registerHooks()};n.prototype.attachEvents=function(){t.addDelegate(this.getTable(),r,this)};n.prototype.detachEvents=function(){t.removeDelegate(this.getTable(),r)};n.prototype.cancelAsyncOperations=function(){var e=this.getTable();if(e){clearTimeout(e._mTimeouts.refreshRowsCreateRows)}i(this).updateTableAsync.cancel()};n.prototype.registerHooks=function(){var e=this.getTable();var o=t.Hook.Keys;t.Hook.register(e,o.Table.RowsUnbound,this._onTableRowsUnbound,this);t.Hook.register(e,o.Table.UpdateRows,this._onTableUpdateRows,this)};n.prototype.deregisterHooks=function(){var e=this.getTable();var o=t.Hook.Keys;t.Hook.deregister(e,o.Table.RowsUnbound,this._onTableRowsUnbound,this);t.Hook.deregister(e,o.Table.UpdateRows,this._onTableUpdateRows,this)};n.prototype.getMinRequestLength=function(){h(this,"getMinRequestLength")};n.prototype.getComputedRowCounts=function(){h(this,"getComputedRowCounts")};n.prototype.getTableStyles=function(){h(this,"getTableStyles")};n.prototype.getTableBottomPlaceholderStyles=function(){h(this,"getTableBottomPlaceholderStyles")};n.prototype.getRowContainerStyles=function(){h(this,"getRowContainerStyles")};n.prototype.getTable=function(){var e=this.getParent();return t.isA(e,"sap.ui.table.Table")?e:null};n.prototype.updateTable=function(e){var t=this.getTable();if(!t){return}i(this).updateTableAsync.cancel();var o=this.updateTableRows();if(t._bInvalid){return}this.applyTableStyles();this.applyRowContainerStyles();this.applyTableBottomPlaceholderStyles();if(o||t.getRows().some(function(e){return e.getDomRef()==null})){this.renderTableRows()}if(o||t.getRows().length>0){this.fireRowsUpdated(e)}};n.prototype.getBaseRowContentHeight=function(){return 0};n.prototype.getBaseRowHeightOfTable=function(){var e=this.getTable();return e?e._getBaseRowHeight():0};n.prototype.getDefaultRowContentHeightOfTable=function(){var e=this.getTable();return e?e._getDefaultRowContentHeight():0};n.prototype.getTotalRowCountOfTable=function(){var e=this.getTable();return e?e._getTotalRowCount():0};n.prototype._onTableRowsUnbound=function(){clearTimeout(this.getTable()._mTimeouts.refreshRowsCreateRows);this.updateTable(t.RowsUpdateReason.Unbind)};n.prototype._onTableUpdateRows=function(e){var t=this.getTable();clearTimeout(t._mTimeouts.refreshRowsCreateRows);i(this).updateTableAsync(e)};n.prototype.applyTableStyles=function(e){var t=this.getTableStyles();if(e){e.style("height",t.height);e.style("min-height",t.minHeight);e.style("max-height",t.maxHeight);return}var o=this.getTable();var a=o?o.getDomRef():null;if(a){a.style.height=t.height;a.style.minHeight=t.minHeight;a.style.maxHeight=t.maxHeight}};n.prototype.applyTableBottomPlaceholderStyles=function(e){var t=this.getTableBottomPlaceholderStyles();if(e){e.style("height",t.height);return}var o=this.getTable();var a=o?o.getDomRef("placeholder-bottom"):null;if(a){a.style.height=t.height}};n.prototype.applyRowContainerStyles=function(e){var t=this.getRowContainerStyles();if(e){e.style("height",t.height);e.style("min-height",t.minHeight);e.style("max-height",t.maxHeight);return}var o=this.getTable();var a=o?o.getDomRef("tableCCnt"):null;if(a){a.style.height=t.height;a.style.minHeight=t.minHeight;a.style.maxHeight=t.maxHeight}};n.prototype.computeStandardizedRowCounts=function(e,t,o){var a=this.getRowCountConstraints();if(a.fixedTop===true){t=1}else if(a.fixedTop===false){t=0}if(a.fixedBottom===true){o=1}else if(a.fixedBottom===false){o=0}e=Math.max(0,e);t=Math.max(0,t);o=Math.max(0,o);if(t+o>=e){o=Math.max(o>0?1:0,o-Math.max(0,t+o-(e-1)));t=Math.max(t>0?1:0,t-Math.max(0,t+o-(e-1)))}if(t+o>=e){o=0}if(t+o>=e){t=0}return{count:e,scrollable:e-t-o,fixedTop:t,fixedBottom:o}};n.prototype.getRowCountConstraints=function(){var e=this.getTable();return e?e.getProperty("rowCountConstraints")||{}:{}};n.prototype.renderRowStyles=function(e){};n.prototype.renderCellContentStyles=function(e){};n.prototype.initTableRowsAfterDataRequested=function(e){var t=this.getTable();var o=t.getBinding();clearTimeout(t._mTimeouts.refreshRowsCreateRows);if(!o||e<=0||t.getRows().length>0){return}o.attachEventOnce("dataRequested",function(){clearTimeout(t._mTimeouts.refreshRowsCreateRows);t._mTimeouts.refreshRowsCreateRows=setTimeout(function(){if(t.getRows().length>0){return}var o=s(t,e),a;for(var i=0;i<o.length;i++){a=o[i];a.setRowBindingContext(null,t);t.addAggregation("rows",a,true)}t._bRowAggregationInvalid=false},0)})};n.prototype.updateTableRows=function(){var e=this.getTable();var o=e.getRows();var a=this.getComputedRowCounts().count;var i;var n=false;if(t.isNoDataVisible(e)&&!e.getBinding()){a=0}else if(t.isVariableRowHeightEnabled(e)&&a>0){a++}if(e._bRowAggregationInvalid){n=o.length>0;e.destroyAggregation("rows",e._bInvalid?"KeepDom":true);o=[]}if(a===o.length){l(this,o);return n}t.dynamicCall(e._getSyncExtension,function(e){e.syncRowCount(a)});if(o.length<a){var r=s(e,a-o.length);o=o.concat(r);l(this,o);for(i=0;i<r.length;i++){e.addAggregation("rows",r[i],true)}}else{for(i=o.length-1;i>=a;i--){e.removeAggregation("rows",i,true)}o.splice(a);l(this,o)}n=true;e._bRowAggregationInvalid=false;return n};n.prototype.renderTableRows=function(){var e=this.getTable();var t=e?e.getDomRef("tableCCnt"):null;if(!t){return}var o=a.Event("BeforeRendering");o.setMarked("renderRows");o.srcControl=e;e._handleEvent(o);var i=sap.ui.getCore().createRenderManager();var n=e.getRenderer();n.renderTableCCnt(i,e);i.flush(t,false,false);i.destroy();var r=a.Event("AfterRendering");r.setMarked("renderRows");r.srcControl=e;e._handleEvent(r);var s=e.getRows().length>0;var l=e.getDomRef();l.querySelector(".sapUiTableCtrlBefore").setAttribute("tabindex",s?"0":"-1");l.querySelector(".sapUiTableCtrlAfter").setAttribute("tabindex",s?"0":"-1")};n.prototype.getRowContexts=function(e){var t=this.getTable();return t?t._getRowContexts(e):[]};n.prototype.fireRowsUpdated=function(e){var o=this.getTable();if(!o||!o._bContextsAvailable){return}if(!this._bFiredRowsUpdatedAfterRendering){e=t.RowsUpdateReason.Render;if(!i(this).bListeningForFirstRowsUpdatedAfterRendering){i(this).bListeningForFirstRowsUpdatedAfterRendering=true;o.attachEvent("_rowsUpdated",function(){this._bFiredRowsUpdatedAfterRendering=true;i(this).bListeningForFirstRowsUpdatedAfterRendering=false}.bind(this))}}o._fireRowsUpdated(e)};n.prototype.disableNoData=function(){var e=this.getTable();if(e&&!this.isNoDataDisabled()){i(this).bNoDataDisabled=true;e.invalidate()}};n.prototype.enableNoData=function(){var e=this.getTable();if(e&&this.isNoDataDisabled()){i(this).bNoDataDisabled=false;e.invalidate()}};n.prototype.isNoDataDisabled=function(){return i(this).bNoDataDisabled};function s(e,t){var o=[];var a=e.getRows().length;for(var i=0;i<t;i++){o.push(e._getRowClone(a+i))}return o}function l(e,t){var o=e.getTable();if(!o||t.length===0){return}var a=e.getRowContexts(t.length);for(var i=0;i<t.length;i++){t[i].setRowBindingContext(a[i],o)}}function h(e,t){throw new Error(e+": sap.ui.table.rowmodes.RowMode subclass does not implement #"+t)}r.onBeforeRendering=function(e){var t=e&&e.isMarked("renderRows");if(!t){this._bFiredRowsUpdatedAfterRendering=false}};return n});
/*
 * OpenUI5
 * (c) Copyright 2009-2022 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/table/rowmodes/VariableRowMode",["../library","./RowMode"],function(t,e){"use strict";var o=e.extend("sap.ui.table.rowmodes.VariableRowMode",{metadata:{library:"sap.ui.table",properties:{tableHeight:{type:"sap.ui.core.CSSSize",defaultValue:"100%",group:"Dimension"}}},constructor:function(t){Object.defineProperty(this,"bLegacy",{value:typeof t==="boolean"?t:false});if(this.bLegacy){e.call(this)}else{e.apply(this,arguments)}}});o.prototype.getComputedRowCounts=function(){var t=this.getTotalRowCountOfTable();var e=this.getHideEmptyRows()?Math.min(this.getRowCount(),t):this.getRowCount();return{count:e,fixedTopCount:this.getFixedTopRowCount(),fixedBottomCount:this.getFixedBottomRowCount()}};o.prototype.getComputedRowCounts=function(){var t=this.getTotalRowCountOfTable();var e=this.getHideEmptyRows()?Math.min(this.getRowCount(),t):this.getRowCount();return{count:e,fixedTopCount:this.getFixedTopRowCount(),fixedBottomCount:this.getFixedBottomRowCount()}};o.prototype.getTableHeight=function(){return{height:this.getTableHeight()}};o.prototype.getRowContainerHeight=function(){return{height:this.getComputedRowCounts().count*this.getBaseRowHeightOfTable()}};return o});
/*!
 * OpenUI5
 * (c) Copyright 2009-2022 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/table/utils/TableUtils",["./_GroupingUtils","./_ColumnUtils","./_MenuUtils","./_BindingUtils","./_HookUtils","../library","sap/ui/base/Object","sap/ui/core/ResizeHandler","sap/ui/core/library","sap/ui/core/theming/Parameters","sap/ui/model/ChangeReason","sap/ui/thirdparty/jquery","sap/base/util/restricted/_throttle"],function(e,t,n,a,i,r,o,l,s,u,d,c,f){"use strict";var g=r.SelectionBehavior;var p=r.SelectionMode;var C=s.MessageType;var v;var R=null;var m={DATACELL:1<<1,COLUMNHEADER:1<<2,ROWHEADER:1<<3,ROWACTION:1<<4,COLUMNROWHEADER:1<<5,PSEUDO:1<<6};m.ANYCONTENTCELL=m.ROWHEADER|m.DATACELL|m.ROWACTION;m.ANYCOLUMNHEADER=m.COLUMNHEADER|m.COLUMNROWHEADER;m.ANYROWHEADER=m.ROWHEADER|m.COLUMNROWHEADER;m.ANY=m.ANYCONTENTCELL|m.ANYCOLUMNHEADER;var _={sapUiSizeCozy:48,sapUiSizeCompact:32,sapUiSizeCondensed:24,undefined:32};var S=1;var w=1;var I={sapUiSizeCozy:_.sapUiSizeCozy+w,sapUiSizeCompact:_.sapUiSizeCompact+w,sapUiSizeCondensed:_.sapUiSizeCondensed+w,undefined:_.undefined+w};var h={navigationIcon:"navigation-right-arrow",deleteIcon:"sys-cancel",clearSelectionIcon:"clear-all",navIndicatorWidth:3};var b={Render:"Render",VerticalScroll:"VerticalScroll",FirstVisibleRowChange:"FirstVisibleRowChange",Unbind:"Unbind",Animation:"Animation",Resize:"Resize",Zoom:"Zoom",Unknown:"Unknown"};for(var T in d){b[T]=d[T]}var E=":sapTabbable, .sapUiTableTreeIcon:not(.sapUiTableTreeIconLeaf)";var y={Grouping:e,Column:t,Menu:n,Binding:a,Hook:i,CELLTYPE:m,BaseSize:_,BaseBorderWidth:S,RowHorizontalFrameSize:w,DefaultRowHeight:I,RowsUpdateReason:b,INTERACTIVE_ELEMENT_SELECTORS:E,ThemeParameters:h,hasRowHeader:function(t){return t.getSelectionMode()!==p.None&&t.getSelectionBehavior()!==g.RowOnly||e.isInGroupMode(t)},hasSelectAll:function(e){var t=e?e.getSelectionMode():p.None;return t===p.MultiToggle&&e.getEnableSelectAll()},hasRowHighlights:function(e){if(!e){return false}var t=e.getRowSettingsTemplate();if(!t){return false}var n=t.getHighlight();return t.isBound("highlight")||n!=null&&n!==C.None},hasRowNavigationIndicators:function(e){if(!e){return false}var t=e.getRowSettingsTemplate();if(!t){return false}var n=t.getNavigated();return t.isBound("navigated")||n},hasRowActions:function(e){var t=e?e.getRowActionTemplate():null;return t!=null&&(t.isBound("visible")||t.getVisible())&&e.getRowActionCount()>0},isRowSelectionAllowed:function(e){return e.getSelectionMode()!==p.None&&(e.getSelectionBehavior()===g.Row||e.getSelectionBehavior()===g.RowOnly)},isRowSelectorSelectionAllowed:function(e){return e.getSelectionMode()!==p.None&&y.hasRowHeader(e)},areAllRowsSelected:function(e){if(!e){return false}var t=e._getSelectionPlugin();var n=t.getSelectableCount();var a=t.getSelectedCount();return n>0&&n===a},isNoDataVisible:function(e){return e.getShowNoData()&&!e._getRowMode().isNoDataDisabled()&&!y.hasData(e)||y.getVisibleColumnCount(e)===0},hasData:function(e){var t=e.getBinding();var n=e._getTotalRowCount();var a=n>0;if(t&&t.providesGrandTotal){var i=t.providesGrandTotal()&&t.hasTotaledMeasures();a=i&&n>1||!i&&n>0}return a},isBusyIndicatorVisible:function(e){if(!e||!e.getDomRef()){return false}return e.getDomRef().querySelector("#"+e.getId()+"-sapUiTableGridCnt > .sapUiLocalBusyIndicator")!=null},isA:function(e,t){return o.isA(e,t)},toggleRowSelection:function(e,t,n,a){if(!e||!e.getBinding()||e.getSelectionMode()===p.None||t==null){return false}var i=e._getSelectionPlugin();function r(t){if(!i.isIndexSelectable(t)){return false}e._iSourceRowIndex=t;var r=false;if(a){r=a(t,n)}else if(i.isIndexSelected(t)){if(n!==true){r=true;i.removeSelectionInterval(t,t)}}else if(n!==false){r=true;i.addSelectionInterval(t,t)}delete e._iSourceRowIndex;return r}if(typeof t==="number"){if(t<0||t>=e._getTotalRowCount()){return false}return r(t)}else{var o=c(t);var l=y.getCellInfo(o[0]);var s=y.isRowSelectionAllowed(e);if(!y.Grouping.isInGroupHeaderRow(o[0])&&(l.isOfType(y.CELLTYPE.DATACELL|y.CELLTYPE.ROWACTION)&&s||l.isOfType(y.CELLTYPE.ROWHEADER)&&y.isRowSelectorSelectionAllowed(e))){var u=e.getRows()[l.rowIndex].getIndex();return r(u)}return false}},getNoContentMessage:function(e){if(e._getVisibleColumns().length>0){return e.getNoData()}else{return e.getAggregation("_noColumnsMessage")}},getNoDataText:function(e){var t=e.getNoData();if(y.getVisibleColumnCount(e)===0&&!y.isA(t,"sap.m.IllustratedMessage")){return y.getResourceText("TBL_NO_COLUMNS")}if(y.isA(t,"sap.ui.core.Control")){return null}else if(typeof t==="string"){return t}else{return y.getResourceText("TBL_NO_DATA")}},getVisibleColumnCount:function(e){return e._getVisibleColumns().length},getHeaderRowCount:function(e){if(e._iHeaderRowCount===undefined){if(!e.getColumnHeaderVisible()){e._iHeaderRowCount=0}else{var t=1;var n=e.getColumns();for(var a=0;a<n.length;a++){if(n[a].shouldRender()){t=Math.max(t,n[a].getMultiLabels().length)}}e._iHeaderRowCount=t}}return e._iHeaderRowCount},isVariableRowHeightEnabled:function(e){var t=e._getRowCounts();return e&&e._bVariableRowHeightEnabled&&!t.fixedTop&&!t.fixedBottom},getNonEmptyRowCount:function(e){return Math.min(e._getRowCounts().count,e._getTotalRowCount())},getFocusedItemInfo:function(e){var t=e._getItemNavigation();if(!t){return null}return{cell:t.getFocusedIndex(),columnCount:t.iColumns,cellInRow:t.getFocusedIndex()%t.iColumns,row:Math.floor(t.getFocusedIndex()/t.iColumns),cellCount:t.getItemDomRefs().length,domRef:t.getFocusedDomRef()}},getRowIndexOfFocusedCell:function(e){var t=y.getFocusedItemInfo(e);return t.row-y.getHeaderRowCount(e)},isFixedColumn:function(e,t){return t<e.getComputedFixedColumnCount()},hasFixedColumns:function(e){return e.getComputedFixedColumnCount()>0},focusItem:function(e,t,n){var a=e._getItemNavigation();if(a){a.focusItem(t,n)}},getCellInfo:function(e){var t;var n=c(e);var a;var i;var r;var o;var l;t={type:0,cell:null,rowIndex:null,columnIndex:null,columnSpan:null};if(n.hasClass("sapUiTableDataCell")){a=n.attr("data-sap-ui-colid");i=sap.ui.getCore().byId(a);t.type=y.CELLTYPE.DATACELL;t.rowIndex=parseInt(n.parent().attr("data-sap-ui-rowindex"));t.columnIndex=i.getIndex();t.columnSpan=1}else if(n.hasClass("sapUiTableHeaderDataCell")){r=/_([\d]+)/;a=n.attr("id");o=r.exec(a);l=o&&o[1]!=null?parseInt(o[1]):0;t.type=y.CELLTYPE.COLUMNHEADER;t.rowIndex=l;t.columnIndex=parseInt(n.attr("data-sap-ui-colindex"));t.columnSpan=parseInt(n.attr("colspan")||1)}else if(n.hasClass("sapUiTableRowSelectionCell")){t.type=y.CELLTYPE.ROWHEADER;t.rowIndex=parseInt(n.parent().attr("data-sap-ui-rowindex"));t.columnIndex=-1;t.columnSpan=1}else if(n.hasClass("sapUiTableRowActionCell")){t.type=y.CELLTYPE.ROWACTION;t.rowIndex=parseInt(n.parent().attr("data-sap-ui-rowindex"));t.columnIndex=-2;t.columnSpan=1}else if(n.hasClass("sapUiTableRowSelectionHeaderCell")){t.type=y.CELLTYPE.COLUMNROWHEADER;t.columnIndex=-1;t.columnSpan=1}else if(n.hasClass("sapUiTablePseudoCell")){a=n.attr("data-sap-ui-colid");i=sap.ui.getCore().byId(a);t.type=y.CELLTYPE.PSEUDO;t.rowIndex=-1;t.columnIndex=i?i.getIndex():-1;t.columnSpan=1}if(t.type!==0){t.cell=n}t.isOfType=function(e){if(e==null){return false}return(this.type&e)>0};return t},getRowColCell:function(e,t,n,a){var i=e.getRows()[t]||null;var r=a?e.getColumns():e._getVisibleColumns();var o=r[n]||null;var l;var s=null;if(i&&o){if(!l){var u=o.getMetadata();while(u.getName()!=="sap.ui.table.Column"){u=u.getParent()}l=u.getClass()}s=i.getCells().find(function(e){return o===l.ofCell(e)})||null}return{row:i,column:o,cell:s}},getCell:function(e,t,n){n=n===true;if(!e||!t){return null}var a=c(t);var i=e.getDomRef();var r=".sapUiTableCell";if(!n){r+=":not(.sapUiTablePseudoCell)"}var o=a.closest(r,i);if(o.length>0){return o}return null},getParentCell:function(e,t,n){n=n===true;var a=c(t);var i=y.getCell(e,t,n);if(!i||i[0]===a[0]){return null}else{return i}},registerResizeHandler:function(e,t,n,a,i){a=a==null?"":a;i=i===true;if(!e||typeof t!=="string"||typeof n!=="function"){return undefined}var r=e.getDomRef(a);y.deregisterResizeHandler(e,t);if(!e._mResizeHandlerIds){e._mResizeHandlerIds={}}if(i&&r){r=r.parentNode}if(r){e._mResizeHandlerIds[t]=l.register(r,n)}return e._mResizeHandlerIds[t]},deregisterResizeHandler:function(e,t){var n=[];if(!e._mResizeHandlerIds){return}if(typeof t==="string"){n.push(t)}else if(t===undefined){for(var a in e._mResizeHandlerIds){if(typeof a=="string"&&e._mResizeHandlerIds.hasOwnProperty(a)){n.push(a)}}}else if(Array.isArray(t)){n=t}for(var i=0;i<n.length;i++){var r=n[i];if(e._mResizeHandlerIds[r]){l.deregister(e._mResizeHandlerIds[r]);e._mResizeHandlerIds[r]=undefined}}},isFirstScrollableRow:function(e,t){if(isNaN(t)){var n=c(t);t=parseInt(n.add(n.parent()).filter("[data-sap-ui-rowindex]").attr("data-sap-ui-rowindex"))}return t==e._getRowCounts().fixedTop},isLastScrollableRow:function(e,t){if(isNaN(t)){var n=c(t);t=parseInt(n.add(n.parent()).filter("[data-sap-ui-rowindex]").attr("data-sap-ui-rowindex"))}var a=e._getRowCounts();return t==a.count-a.fixedBottom-1},getContentDensity:function(e){var t;var n=["sapUiSizeCondensed","sapUiSizeCompact","sapUiSizeCozy"];var a=function(e,t){if(!t[e]){return}for(var a=0;a<n.length;a++){if(t[e](n[a])){return n[a]}}};var i=e.$();if(i.length>0){t=a("hasClass",i)}else{t=a("hasStyleClass",e)}if(t){return t}var r=null;var o=e.getParent();if(o){do{t=a("hasStyleClass",o);if(t){return t}if(o.getDomRef){r=o.getDomRef()}else if(o.getRootNode){r=o.getRootNode()}if(!r&&o.getParent){o=o.getParent()}else{o=null}}while(o&&!r)}i=c(r||document.body);t=a("hasClass",i.closest("."+n.join(",.")));return t},isVariableWidth:function(e){return!e||e=="auto"||e.toString().match(/%$/)},getFirstFixedBottomRowIndex:function(e){var t=e._getRowCounts();if(!e.getBinding()||t.fixedBottom===0){return-1}var n=-1;var a=e.getFirstVisibleRow();var i=e._getTotalRowCount();if(i>=t.count){n=t.count-t.fixedBottom}else{var r=i-t.fixedBottom-a;if(r>=0&&a+r<i){n=r}}return n},getResourceBundle:function(e){e=c.extend({async:false,reload:false},e);if(v&&e.reload!==true){if(e.async===true){return Promise.resolve(v)}else{return v}}var t=sap.ui.getCore().getLibraryResourceBundle("sap.ui.table",e.async===true);if(t instanceof Promise){t=t.then(function(e){v=e;return v})}else{v=t}return t},getResourceText:function(e,t){return v?v.getText(e,t):""},dynamicCall:function(e,t,n){var a=typeof e==="function"?e():e;if(!a||!t){return undefined}n=n||a;if(typeof t==="function"){t.call(n,a);return undefined}else{var i;var r=[];for(var o in t){if(typeof a[o]==="function"){i=t[o];r.push(a[o].apply(n,i))}else{r.push(undefined)}}if(r.length===1){return r[0]}else{return r}}},throttle:function(e,t,n){n=Object.assign({leading:true,asyncLeading:false,trailing:true},n);var a;var i=false;var r={};var o;var l;if(n.leading&&n.asyncLeading){o=function(){if(i){var t=Promise.resolve().then(function(){if(!t.canceled){e.apply(r.context,r.args)}a=null});t.cancel=function(){t.canceled=true};a=t}else{e.apply(this,arguments)}}}else{o=e}var s=f(o,t,{leading:n.leading,trailing:n.trailing});if(n.leading&&n.asyncLeading){var u=s.cancel;s.cancel=function(){if(a){a.cancel()}u()};l=Object.assign(function(){r={context:this,args:arguments};i=true;s.apply(this,arguments);i=false},s)}else{l=s}return l},throttleFrameWise:function(e){var t=null;var n=function(){n.cancel();t=window.requestAnimationFrame(function(t){e.apply(this,t)}.bind(this,arguments))};n.cancel=function(){window.cancelAnimationFrame(t);t=null};return n},getInteractiveElements:function(e){if(!e){return null}var t=c(e);var n=y.getCellInfo(t);if(n.isOfType(m.ANY|m.PSEUDO)){var a=t.find(E);if(a.length>0){return a}}return null},getFirstInteractiveElement:function(e,t){if(!e){return null}var n=e.getTable();var a=e.getCells();if(t===true&&this.hasRowActions(n)){a.push(e.getRowAction())}for(var i=0;i<a.length;i++){var r=a[i].getDomRef();var o=this.getCell(n,r,true);var l=y.getInteractiveElements(o);if(l){return l[0]}}return null},convertCSSSizeToPixel:function(e,t){var n;if(typeof e!=="string"){return null}if(e.endsWith("px")){n=parseFloat(e)}else if(e.endsWith("em")||e.endsWith("rem")){n=parseFloat(e)*y.getBaseFontSize()}else{return null}if(t){return n+"px"}else{return n}},getBaseFontSize:function(){if(R==null){var e=document.documentElement;if(e){R=parseInt(window.getComputedStyle(e).fontSize)}}return R==null?16:R},readThemeParameters:function(){var e=u.get({name:["_sap_ui_table_BaseSize","_sap_ui_table_BaseSizeCozy","_sap_ui_table_BaseSizeCompact","_sap_ui_table_BaseSizeCondensed","_sap_ui_table_BaseBorderWidth","_sap_ui_table_NavigationIcon","_sap_ui_table_DeleteIcon","_sap_ui_table_ClearSelectionIcon","_sap_ui_table_NavIndicatorWidth"]});function t(t){return y.convertCSSSizeToPixel(e[t])}_.undefined=t("_sap_ui_table_BaseSize");_.sapUiSizeCozy=t("_sap_ui_table_BaseSizeCozy");_.sapUiSizeCompact=t("_sap_ui_table_BaseSizeCompact");_.sapUiSizeCondensed=t("_sap_ui_table_BaseSizeCondensed");S=t("_sap_ui_table_BaseBorderWidth");w=S;I.undefined=_.undefined+w;I.sapUiSizeCozy=_.sapUiSizeCozy+w;I.sapUiSizeCompact=_.sapUiSizeCompact+w;I.sapUiSizeCondensed=_.sapUiSizeCondensed+w;h.navigationIcon=e["_sap_ui_table_NavigationIcon"];h.deleteIcon=e["_sap_ui_table_DeleteIcon"];h.clearSelectionIcon=e["_sap_ui_table_ClearSelectionIcon"];h.navIndicatorWidth=t("_sap_ui_table_NavIndicatorWidth")},addDelegate:function(e,t,n){if(e&&t){e.addDelegate(t,false,n?n:t,false)}},removeDelegate:function(e,t){if(e&&t){e.removeDelegate(t)}},createWeakMapFacade:function(){var e=new window.WeakMap;return function(t){if(!t||!(typeof t==="object")){return null}if(!e.has(t)){e.set(t,{})}return e.get(t)}}};e.TableUtils=y;t.TableUtils=y;n.TableUtils=y;a.TableUtils=y;i.TableUtils=y;return y},true);
/*!
 * OpenUI5
 * (c) Copyright 2009-2022 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/table/utils/_BindingUtils",[],function(){"use strict";var a={TableUtils:null,metadataLoaded:function(a){var t=a.getBinding();var e=t?t.getModel():null;var n=null;var d=null;var i=new Promise(function(a,t){n=a;d=t});if(!e){d();return i}if(e.metadataLoaded){e.metadataLoaded().then(function(){n()})}else if(e.attachMetadataLoaded){if(e.oMetadata&&e.oMetadata.isLoaded()){n()}else{e.attachMetadataLoaded(function(){n()})}}return i}};return a},true);
/*!
 * OpenUI5
 * (c) Copyright 2009-2022 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/table/utils/_ColumnUtils",["sap/ui/Device","../library","sap/base/Log"],function(e,n,t){"use strict";var r={TableUtils:null,initColumnUtils:function(e){if(!e._oColumnInfo){r.updateColumnInfo(e,r.collectColumnInfo(e))}},invalidateColumnUtils:function(e){e._oColumnInfo=null},updateColumnInfo:function(e,n){e._oColumnInfo=n},collectColumnInfo:function(e){return{columnCount:e.getColumns().length,visibleColumnCount:r.TableUtils.getVisibleColumnCount(e),columnMap:r.getColumnMap(e)}},getColumnMap:function(e){var n;var t;var a={};var l={};var u=e.getColumns();var o=r.TableUtils.getHeaderRowCount(e);var i={};for(var f=0;f<u.length;f++){t=u[f];a={};a.id=t.getId();a.column=t;a.levelInfo=[];a.parents=[];for(var s=0;s<o;s++){a.levelInfo[s]={};a.levelInfo[s].spannedColumns=[];var d=r.getHeaderSpan(t,s);for(n=1;n<d;n++){var v=u[f+n];if(v){var m=v.getId();a.levelInfo[s].spannedColumns.push(u[f+n]);if(!i[m]){i[m]=[]}i[m].push({column:t,level:s})}}}l[a.id]=a}var g=Object.keys(i);for(n=0;n<g.length;n++){var C=g[n];l[C].parents=i[C]}return l},getColumnMapItem:function(e,n){r.initColumnUtils(e);var a=e._oColumnInfo.columnMap[n];if(!a){t.error("Column with ID '"+n+"' not found",e)}else{return a}},getParentSpannedColumns:function(e,n,t){var a=r.getColumnMapItem(e,n);if(!a){return undefined}var l=[];for(var u=0;u<a.parents.length;u++){var o=a.parents[u];if(t===undefined||o.level===t){l.push(o)}}return l},getChildrenSpannedColumns:function(e,n,t){var a=r.getColumnMapItem(e,n);if(!a){return undefined}var l=[];var u;if(t===undefined){u=a.levelInfo.length}else{u=t+1}for(var o=t||0;o<u;o++){var i=a.levelInfo[o];for(var f=0;f<i.spannedColumns.length;f++){l.push({column:i.spannedColumns[f],level:o})}}return l},getHeaderSpan:function(e,n){var t=e.getHeaderSpan();var r;if(!t){return 1}if(!Array.isArray(t)){t=(t+"").split(",")}function a(e){var n=parseInt(e);return isNaN(n)?1:n}if(isNaN(n)){r=Math.max.apply(null,t.map(a))}else{r=a(t[n])}return Math.max(r,1)},getMaxHeaderSpan:function(e){return r.getHeaderSpan(e)},hasHeaderSpan:function(e){return r.getHeaderSpan(e)>1},getColumnBoundaries:function(e,n){var t=r.getColumnMapItem(e,n);if(!t){return undefined}var a={};if(n){a[n]=t.column}var l=function(n,t){var a;var u;var o=[];t=t||[];for(u=0;u<t.length;u++){a=n[t[u]];o=o.concat(r.getParentSpannedColumns(e,a.getId()));o=o.concat(r.getChildrenSpannedColumns(e,a.getId()))}t=[];for(u=0;u<o.length;u++){a=o[u].column;var i=a.getId();if(!n[i]){t.push(i);n[i]=a}}if(t.length>0){return l(n,t)}else{return n}};a=l(a,[n]);var u=e.indexOfColumn(t.column);var o={startColumn:t.column,startIndex:u,endColumn:t.column,endIndex:-1};var i=e.getColumns();var f=Object.getOwnPropertyNames(a);for(var s=0;s<f.length;s++){var d=a[f[s]];u=e.indexOfColumn(d);var v=r.getMaxHeaderSpan(d);if(u<o.startIndex){o.startIndex=u;o.startColumn=d}var m=u+v-1;if(m>o.endIndex){o.endIndex=m;o.endColumn=i[m]}}return o},isColumnMovable:function(e){var n=e.getParent();if(!n||!n.getEnableColumnReordering()){return false}var t=n.indexOfColumn(e);if(t<n.getComputedFixedColumnCount()||t<n._iFirstReorderableIndex){return false}if(r.hasHeaderSpan(e)||r.getParentSpannedColumns(n,e.getId()).length!=0){return false}return true},normalizeColumnMoveTargetIndex:function(e,n){var t=e.getParent(),r=t.indexOfColumn(e),a=t.getColumns();if(n>r){n--}if(n<0){n=0}else if(n>a.length){n=a.length}return n},isColumnMovableTo:function(e,n){var t=e.getParent();if(!t||n===undefined||!r.isColumnMovable(e)){return false}n=r.normalizeColumnMoveTargetIndex(e,n);if(n<t.getComputedFixedColumnCount()||n<t._iFirstReorderableIndex){return false}var a=t.indexOfColumn(e),l=t.getColumns();if(n>a){var u=l[n>=l.length?l.length-1:n];var o=r.getColumnBoundaries(t,u.getId());if(r.hasHeaderSpan(u)||o.endIndex>n){return false}}else{var i=l[n];if(r.getParentSpannedColumns(t,i.getId()).length!=0){return false}}return true},moveColumnTo:function(e,n){if(!r.isColumnMovableTo(e,n)){return false}var t=e.getParent(),a=t.indexOfColumn(e);if(n===a){return false}n=r.normalizeColumnMoveTargetIndex(e,n);var l=t.fireColumnMove({column:e,newPos:n});if(!l){return false}t._bReorderInProcess=true;t.removeColumn(e,true);t.insertColumn(e,n);t._bReorderInProcess=false;return true},getMinColumnWidth:function(){return e.system.desktop?48:88},resizeColumn:function(e,n,t,a,l){if(!e||n==null||n<0||t==null||t<=0){return false}if(l==null||l<=0){l=1}if(a==null){a=true}var u=e.getColumns();if(n>=u.length||!u[n].getVisible()){return false}var o=[];for(var i=n;i<u.length;i++){var f=u[i];if(f.getVisible()){o.push(f);if(o.length===l){break}}}var s=[];for(var i=0;i<o.length;i++){var d=o[i];if(d.getResizable()){s.push(d)}}if(s.length===0){return false}var v=0;for(var i=0;i<o.length;i++){var d=o[i];v+=r.getColumnWidth(e,d.getIndex())}var m=t-v;var g=Math.round(m/s.length);var C=false;var h=e.getDomRef();if(!r.TableUtils.isFixedColumn(e,n)){e._getVisibleColumns().forEach(function(e){var n=e.getWidth(),t;if(h&&s.indexOf(e)<0&&r.TableUtils.isVariableWidth(n)){t=h.querySelector('th[data-sap-ui-colid="'+e.getId()+'"]');if(t){e._minWidth=Math.max(t.offsetWidth,r.getMinColumnWidth())}}})}for(var i=0;i<s.length;i++){var p=s[i];var c=r.getColumnWidth(e,p.getIndex());var I=c+g;var b=r.getMinColumnWidth();if(I<b){I=b}var x=I-c;if(Math.abs(x)<Math.abs(g)){var M=s.length-(i+1);m-=x;g=Math.round(m/M)}if(x!==0){var S=true;var T=I+"px";if(a){S=e.fireColumnResize({column:p,width:T})}if(S){p.setWidth(T);C=true}}}return C},getColumnWidth:function(e,n){if(!e||n==null||n<0){return null}var t=e.getColumns();if(n>=t.length){return null}var a=t[n];var l=a.getWidth();if(l===""||l==="auto"||l.match(/%$/)){if(a.getVisible()){var u=a.getDomRef();return u?u.offsetWidth:0}else{return 0}}else{return r.TableUtils.convertCSSSizeToPixel(l)}},getHeaderText:function(e,n){if(!e||n==null||n<0){return null}var t=e.getColumns();if(n>=t.length){return null}function a(e){return e&&e.getText&&e.getText()||""}var l=t[n];var u=l.getName();if(!u){var o=l.getMultiLabels();for(var i=o.length-1;i>=0;i--){var f=a(o[i]);if(r.getHeaderSpan(l,i)===1&&f){u=f;break}}}if(!u){u=a(l.getLabel())}return u}};return r},true);
/*!
 * OpenUI5
 * (c) Copyright 2009-2022 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/table/utils/_GroupingUtils",["sap/ui/model/Sorter","sap/ui/Device","sap/ui/thirdparty/jquery"],function(e,r,a){"use strict";var t=new window.WeakMap;var o={TableUtils:null,HierarchyMode:{Flat:"Flat",Group:"Group",Tree:"Tree",GroupedTree:"GroupedTree"},setHierarchyMode:function(e,r){if(!o.TableUtils.isA(e,"sap.ui.table.Table")||!(r in o.HierarchyMode)){return}var a=o.getHierarchyMode(e);if(a!==r){t.set(e,r);e.invalidate()}},getHierarchyMode:function(e){return o.TableUtils.isA(e,"sap.ui.table.Table")?t.get(e)||o.HierarchyMode.Flat:null},setToDefaultFlatMode:function(e){o.setHierarchyMode(e,o.HierarchyMode.Flat)},setToDefaultGroupMode:function(e){o.setHierarchyMode(e,o.HierarchyMode.Group)},setToDefaultTreeMode:function(e){o.setHierarchyMode(e,o.HierarchyMode.Tree)},isInFlatMode:function(e){return o.getHierarchyMode(e)===o.HierarchyMode.Flat},isInGroupMode:function(e){var r=o.getHierarchyMode(e);return r===o.HierarchyMode.Group||r===o.HierarchyMode.GroupedTree},isInTreeMode:function(e){return o.getHierarchyMode(e)===o.HierarchyMode.Tree},getModeCssClass:function(e){switch(o.getHierarchyMode(e)){case o.HierarchyMode.Group:case o.HierarchyMode.GroupedTree:return"sapUiTableGroupMode";case o.HierarchyMode.Tree:return"sapUiTableTreeMode";default:return null}},showGroupMenuButton:function(e){return!r.system.desktop&&o.TableUtils.isA(e,"sap.ui.table.AnalyticalTable")},isInGroupHeaderRow:function(e){var r=o.TableUtils.getCellInfo(e);if(r.isOfType(o.TableUtils.CELLTYPE.ANYCONTENTCELL)){return r.cell.parent().hasClass("sapUiTableGroupHeaderRow")}return false},isInSummaryRow:function(e){var r=o.TableUtils.getCellInfo(e);if(r.isOfType(o.TableUtils.CELLTYPE.ANYCONTENTCELL)){return r.cell.parent().hasClass("sapUiTableSummaryRow")}return false},calcGroupIndent:function(e){var r=o.getHierarchyMode(e.getTable())===o.HierarchyMode.GroupedTree;var a=!r&&!e.isGroupHeader()&&!e.isTotalSummary();var t=e.getLevel()-(a?1:0);var n=0;for(var i=1;i<t;i++){if(i===1){n=24}else if(i===2){n+=12}else{n+=8}}return n},calcTreeIndent:function(e){return(e.getLevel()-1)*17},setGroupIndent:function(e,r){var a=e.getDomRefs(true);var t=a.row;var o=a.rowHeaderPart;var n=e.getTable()._bRtlMode;var i=t.find("td.sapUiTableCellFirst > .sapUiTableCellInner");var l=o.find(".sapUiTableGroupShield");if(r<=0){o.css(n?"right":"left","");l.css("width","").css(n?"margin-right":"margin-left","");i.css(n?"padding-right":"padding-left","");t.css("--CalculatedGroupIndent","0")}else{o.css(n?"right":"left",r+"px");l.css("width",r+"px").css(n?"margin-right":"margin-left",-1*r+"px");i.css(n?"padding-right":"padding-left",r+8+"px");t.css("--CalculatedGroupIndent",r+"px")}},setTreeIndent:function(e,r){var a=e.getDomRefs(true);var t=a.row;var o=e.getTable()._bRtlMode;var n=t.find(".sapUiTableTreeIcon");n.css(o?"margin-right":"margin-left",r>0?r+"px":"")},updateTableRowForGrouping:function(e){var r=e.getTable();var a=e.getDomRefs(true);var t=a.row;var n=e.isExpanded();var i=e.isExpandable();t.toggleClass("sapUiTableSummaryRow",e.isSummary());if(o.isInGroupMode(r)){var l=e.getTitle();var s=o.calcGroupIndent(e);e.$("groupHeader").toggleClass("sapUiTableGroupIconOpen",i&&n).toggleClass("sapUiTableGroupIconClosed",i&&!n).attr("title",r._getShowStandardTooltips()&&l?l:null).text(l);o.setGroupIndent(e,s);t.toggleClass("sapUiTableRowIndented",s>0).toggleClass("sapUiTableGroupHeaderRow",e.isGroupHeader());if(o.showGroupMenuButton(r)){var p=r.$();var u=p.hasClass("sapUiTableVScr")?p.find(".sapUiTableVSb").width():0;var d=a.rowHeaderPart.find(".sapUiTableGroupMenuButton");var g=p.width()-d.width()-u-5-s;d.css(r._bRtlMode?"right":"left",g+"px")}}if(o.isInTreeMode(r)){var c=t.find(".sapUiTableTreeIcon");if(!i&&document.activeElement===c[0]){o.TableUtils.getParentCell(r,c[0]).trigger("focus")}c.toggleClass("sapUiTableTreeIconLeaf",!i).toggleClass("sapUiTableTreeIconNodeOpen",i&&n).toggleClass("sapUiTableTreeIconNodeClosed",i&&!n);o.setTreeIndent(e,o.calcTreeIndent(e))}if(!o.isInFlatMode(r)){r._getAccExtension().updateAriaExpandAndLevelState(e)}},cleanupTableRowForGrouping:function(e){var r=e.getTable();var a=e.getDomRefs(true);if(o.isInGroupMode(r)){a.row.removeClass("sapUiTableGroupHeaderRow sapUiTableSummaryRow sapUiTableRowIndented");e.$("groupHeader").removeClass("sapUiTableGroupIconOpen","sapUiTableGroupIconClosed").attr("title","").text("");o.setGroupIndent(e,0)}if(o.isInTreeMode(r)){a.row.find(".sapUiTableTreeIcon").removeClass("sapUiTableTreeIconLeaf").removeClass("sapUiTableTreeIconNodeOpen").removeClass("sapUiTableTreeIconNodeClosed");o.setTreeIndent(e,0)}r._getAccExtension().updateAriaExpandAndLevelState(e)},updateGroups:function(e){if(e.getBinding()){e.getRows().forEach(function(e){o.updateTableRowForGrouping(e)})}else{e.getRows().forEach(function(e){o.cleanupTableRowForGrouping(e)})}},setupExperimentalGrouping:function(r){if(!r.getEnableGrouping()){return}var t=r.getBinding();var n=sap.ui.getCore().byId(r.getGroupBy());var i=n&&n.getGrouped()&&o.TableUtils.isA(t,"sap.ui.model.ClientListBinding");if(!i||t._modified){return}t._modified=true;o.setToDefaultGroupMode(r);var l=n.getSortProperty();t.sort(new e(l));var s=r._getTotalRowCount(),p=t.getContexts(0,s);var u;var d=0;for(var g=s-1;g>=0;g--){var c=p[g].getProperty(l);if(!u){u=c}if(u!==c){var f=p[g+1].getModel().getContext("/sap.ui.table.GroupInfo"+g);f.__groupInfo={oContext:p[g+1],name:u,count:d,groupHeader:true,expanded:true};p.splice(g+1,0,f);u=c;d=0}d++}var f=p[0].getModel().getContext("/sap.ui.table.GroupInfo");f.__groupInfo={oContext:p[0],name:u,count:d,groupHeader:true,expanded:true};p.splice(0,0,f);a.extend(t,{getLength:function(){return p.length},getContexts:function(e,r){return p.slice(e,e+r)}});function T(e){var r=p[e];return(r&&r.__groupInfo&&r.__groupInfo.groupHeader)===true}r._experimentalGroupingRowState=function(e){var r=e.context;if((r&&r.__groupInfo&&r.__groupInfo.groupHeader)===true){e.type=e.Type.GroupHeader}e.title=r&&r.__groupInfo&&r.__groupInfo.name+" - "+r.__groupInfo.count;e.expandable=e.type===e.Type.GroupHeader;e.expanded=e.expandable&&r.__groupInfo&&r.__groupInfo.expanded;e.level=e.expandable?1:2;e.contentHidden=e.expandable};r._experimentalGroupingExpand=function(e){var r=e.getIndex();if(T(r)&&!p[r].__groupInfo.expanded){for(var a=0;a<p[r].__childs.length;a++){p.splice(r+1+a,0,p[r].__childs[a])}delete p[r].__childs;p[r].__groupInfo.expanded=true;t._fireChange()}};r._experimentalGroupingCollapse=function(e){var r=e.getIndex();if(T(r)&&p[r].__groupInfo.expanded){p[r].__childs=p.splice(r+1,p[r].__groupInfo.count);p[r].__groupInfo.expanded=false;t._fireChange()}};var b=o.TableUtils.Hook;b.register(r,b.Keys.Row.UpdateState,r._experimentalGroupingRowState);b.register(r,b.Keys.Row.Expand,r._experimentalGroupingExpand);b.register(r,b.Keys.Row.Collapse,r._experimentalGroupingCollapse);r._mTimeouts.groupingFireBindingChange=r._mTimeouts.groupingFireBindingChange||window.setTimeout(function(){t._fireChange()},0)},resetExperimentalGrouping:function(e){var r=e.getBinding();var a=o.TableUtils.Hook;if(r&&r._modified){o.setToDefaultFlatMode(e);e.bindRows(e.getBindingInfo("rows"))}a.deregister(e,a.Keys.Row.UpdateState,e._experimentalGroupingRowState);a.deregister(e,a.Keys.Row.Expand,e._experimentalGroupingExpand);a.deregister(e,a.Keys.Row.Collapse,e._experimentalGroupingCollapse);delete e._experimentalGroupingRowState;delete e._experimentalGroupingExpand;delete e._experimentalGroupingCollapse}};return o},true);
/*!
 * OpenUI5
 * (c) Copyright 2009-2022 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/table/utils/_HookUtils",["sap/ui/base/DataType"],function(e){"use strict";var t=new window.WeakMap;var n={};var r={};var a={};var u=["function"];var i={};var s={Table:{BindRows:{arguments:[{type:"object"}]},RowsBound:{arguments:[{type:"class:sap.ui.model.Binding"}]},UnbindRows:{arguments:[{type:"object"}]},RowsUnbound:{arguments:[]},RefreshRows:{arguments:[{type:g}]},UpdateRows:{arguments:[{type:g}]},UpdateSizes:{arguments:[{type:g}]},OpenMenu:{arguments:[{type:h},{type:"class:sap.ui.unified.Menu"}]},TotalRowCountChanged:{arguments:[]}},Row:{UpdateState:{arguments:[{type:m}]},Expand:{arguments:[{type:"class:sap.ui.table.Row"}]},Collapse:{arguments:[{type:"class:sap.ui.table.Row"}]}},Column:{MenuItemNotification:{arguments:[{type:"class:sap.ui.table.Column"}],returnValue:"boolean"}},Signal:{arguments:[{type:"string"}]}};i.TableUtils=null;i.Keys=r;i.call=function(e,r){var a=t.get(e);if(!f(e)||!o(r)){return undefined}var u=p(r);if(a==null){if(u.returnValue){return[]}return undefined}var s=d(Array.prototype.slice.call(arguments,2));var l=y(u,s);if(!l){throw new Error("Hook with key "+r+" was not called. Invalid arguments passed\n"+e)}var g=a.map(function(e){if(e.key===n){var t={};var a=e.handlerContext==null?e.target:e.handlerContext;t[r]=s;return i.TableUtils.dynamicCall(e.target,t,a)}else if(e.key===r){return e.handler.apply(e.handlerContext,s)}});g=c(u,g);return g};i.install=function(e,r,a){if(!r||!f(e)){return}var u=t.get(e);if(u==null){u=[]}var i=u.some(function(e){return e.key===n&&e.target===r&&e.handlerContext===a});if(i){return}u.push({key:n,target:r,handlerContext:a});t.set(e,u)};i.uninstall=function(e,r,a){var u=t.get(e);if(u==null||!r){return}for(var i=0;i<u.length;i++){var s=u[i];if(s.key===n&&s.target===r&&s.handlerContext===a){u.splice(i,1);break}}if(u.length===0){t.delete(e)}else{t.set(e,u)}};i.register=function(e,n,r,a){if(typeof r!=="function"||!f(e)||!o(n)){return}var u=t.get(e);if(u==null){u=[]}u.push({key:n,handler:r,handlerContext:a});t.set(e,u)};i.deregister=function(e,n,r,a){var u=t.get(e);if(u==null){return}for(var i=0;i<u.length;i++){var s=u[i];if(s.key===n&&s.handler===r&&s.handlerContext===a){u.splice(i,1);break}}if(u.length===0){t.delete(e)}else{t.set(e,u)}};function l(e,t,n){Object.keys(t).forEach(function(r){var i=n?n+"."+r:r;if("arguments"in t[r]){u.forEach(function(e){if(t[r].arguments.indexOf(e)>-1||t[r].returnValue===e){throw new Error("Forbidden type found in metadata of hook "+n+": "+e)}});e[r]=i;a[i]=t[r]}else{e[r]={};l(e[r],t[r],i)}});return e}l(r,s);function o(e){return e in a}function f(e){return i.TableUtils.isA(e,"sap.ui.table.Table")&&!e.bIsDestroyed&&!e._bIsBeingDestroyed}function p(e){return a[e]}function d(e){while(e.length>0){var t=e.pop();if(t!=null){e.push(t);break}}e.map(function(e){if(e===null){return undefined}else{return e}});return e}function y(t,n){return t.arguments.length>=n.length&&n.every(function(n,r){var a=t.arguments[r];if(typeof a.type==="function"){return a.type(n)}if(a.type.startsWith("class:")){return i.TableUtils.isA(n,a.type.substring(6))}return a.optional===true&&n==null||e.getType(a.type).isValid(n)})}function c(t,n){if(!t.returnValue){return undefined}var r=t.returnValue;return n.filter(function(t){if(t==null){return false}else if(typeof r==="function"){return r(t)}else if(r==="Promise"){return t instanceof Promise}else if(r.startsWith("class:")){return i.TableUtils.isA(t,r.substring(6))}else{return e.getType(r).isValid(t)}})}function g(t){return t in i.TableUtils.RowsUpdateReason||e.getType("sap.ui.model.ChangeReason").isValid(t)}function h(e){return e?typeof e.isOfType==="function":false}function m(e){return e!=null&&e.hasOwnProperty("context")&&e.hasOwnProperty("Type")&&e.hasOwnProperty("type")&&e.type in e.Type}return i},true);
/*!
 * OpenUI5
 * (c) Copyright 2009-2022 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/table/utils/_MenuUtils",["sap/ui/Device","sap/ui/unified/Menu","sap/ui/unified/MenuItem","sap/ui/core/Popup"],function(e,n,t,l){"use strict";l.setInitialZIndex(10);function o(e,n){var t=n.getRowBindingContext();var l=e.getFilterProperty();var o=t.getProperty(l);if(o!=null&&typeof o!=="string"){o=o.toString()}if(this.getEnableCustomFilter()){this.fireCustomFilter({column:e,value:o})}else{this.filter(e,o)}}var u={TableUtils:null,openContextMenu:function(n,t,l){if(!n||!t){return false}var o=u.TableUtils.getCell(n,t);var r=o?o[0]:null;var C=u.TableUtils.getCellInfo(r);var a=C.columnIndex;var i=C.rowIndex;var s=true;if(C.isOfType(u.TableUtils.CELLTYPE.COLUMNHEADER)){var f=r.querySelector(".sapUiTableColDropDown")!==null;if(e.system.desktop||f){u._removeColumnHeaderCellMenu(n);var c=n.getColumns()[a];var m=c.getColumnHeaderMenu();if(m){m.openBy(c)}else{s=n.fireColumnSelect({column:c});if(s){return u._openColumnContextMenu(n,r)}else{return true}}}else{return u._applyColumnHeaderCellMenu(n,r)}}else if(C.isOfType(u.TableUtils.CELLTYPE.ANYCONTENTCELL)){var x=u.TableUtils.getRowColCell(n,i,a,a>=0);var d=x.row;var p;var v=n.getBindingInfo("rows");if(v){p=d.getBindingContext(v.model)}if(a>=0){s=n.fireCellContextmenu({rowIndex:d.getIndex(),columnIndex:a,columnId:x.column.getId(),cellControl:x.cell,rowBindingContext:p,cellDomRef:r})}if(s){var M=n.getContextMenu();if(M&&v){M.setBindingContext(p,v.model)}s=n.fireBeforeOpenContextMenu({rowIndex:d.getIndex(),columnIndex:x.column?a:null,contextMenu:M})}if(s){return u._openContentCellContextMenu(n,r,l)}else{return true}}return false},_openColumnContextMenu:function(e,n){var t=u.TableUtils.getCellInfo(n);var l=e.getColumns();var o=l[t.columnIndex];for(var r=0;r<l.length;r++){if(l[r]!==o){u._closeColumnContextMenu(e,r)}}u._closeContentCellContextMenu(e);var C=n.getAttribute("colspan");if(C&&C!=="1"){return false}return o._openMenu(n)},_closeColumnContextMenu:function(e,n){e.getColumns()[n]._closeMenu()},_openContentCellContextMenu:function(e,n,t){var l=u.TableUtils.getCellInfo(n);if(l.rowIndex>=u.TableUtils.getNonEmptyRowCount(e)){return false}if(u.hasCustomContextMenu(e)){return u._openCustomContentCellContextMenu(e,n,t)}else{return u._openDefaultContentCellContextMenu(e,n,t)}},_openCustomContentCellContextMenu:function(e,n,t){var o=u.TableUtils.getCellInfo(n);var r=e.getRows()[o.rowIndex];if(r.isGroupHeader()||r.isSummary()){return false}var C=e.getContextMenu();var a=e.getColumns();for(var i=0;i<a.length;i++){u._closeColumnContextMenu(e,i)}u._closeDefaultContentCellContextMenu(e);if(t){C.openAsContextMenu(t,n)}else if(typeof C.openBy==="function"){C.openBy(n)}else{C.open(null,n,l.Dock.BeginTop,l.Dock.BeginBottom,n)}return true},_openDefaultContentCellContextMenu:function(e,r,C){var a=u.TableUtils.getCellInfo(r);var i=a.rowIndex;var s=e.getRows()[i];var f=a.columnIndex;var c=e.getColumns();var m=c[f];if(!e._oCellContextMenu){e._oCellContextMenu=new n(e.getId()+"-cellcontextmenu")}var x=e._oCellContextMenu.getId()+"-cellfilter";var d=sap.ui.getCore().byId(x);if(e.getEnableCellFilter()&&m&&m.isFilterableByMenu()&&!s.isGroupHeader()){if(!d){d=new t({id:x,text:u.TableUtils.getResourceText("TBL_FILTER")});d._onSelect=o.bind(e,m,s);d.attachSelect(d._onSelect)}else{d.detachSelect(d._onSelect);d._onSelect=o.bind(e,m,s);d.attachSelect(d._onSelect)}e._oCellContextMenu.insertItem(d,0)}else{e._oCellContextMenu.removeItem(d)}u.TableUtils.Hook.call(e,u.TableUtils.Hook.Keys.Table.OpenMenu,a,e._oCellContextMenu);if(e._oCellContextMenu.getItems().length===0){return false}for(var p=0;p<c.length;p++){u._closeColumnContextMenu(e,p)}u._closeCustomContentCellContextMenu(e);if(C){e._oCellContextMenu.openAsContextMenu(C,r)}else{e._oCellContextMenu.open(null,r,l.Dock.BeginTop,l.Dock.BeginBottom,r)}return true},_closeContentCellContextMenu:function(e){u._closeCustomContentCellContextMenu(e);u._closeDefaultContentCellContextMenu(e)},_closeCustomContentCellContextMenu:function(e){var n=e.getContextMenu();var t=n?n.bOpen:false;if(t){n.close()}},_closeDefaultContentCellContextMenu:function(e){var n=e._oCellContextMenu;var t=n?n.bOpen:false;if(t){n.close()}},cleanupDefaultContentCellContextMenu:function(e){if(!e||!e._oCellContextMenu){return}var n=e._oCellContextMenu.getId()+"-cellfilter";var t=sap.ui.getCore().byId(n);e._oCellContextMenu.removeAllItems();e._oCellContextMenu.destroy();e._oCellContextMenu=null;if(t){t.destroy()}},_applyColumnHeaderCellMenu:function(e,n){var t=u.TableUtils.getCellInfo(n);var l=e.getColumns()[t.columnIndex];var o=n.getAttribute("colspan");var r=n.querySelector(".sapUiTableCellInner");var C=n.querySelector(".sapUiTableCellTouchMenu")!==null;if(o&&o!=="1"||C||!l.getResizable()&&!l._menuHasItems()){return false}var a=document.createElement("div");u._removeColumnHeaderCellMenu(e);r.style.display="none";if(l._menuHasItems()){var i;i=document.createElement("div");i.classList.add("sapUiTableColDropDown");i.textContent="";a.appendChild(i)}if(l.getResizable()){var s;s=document.createElement("div");s.classList.add("sapUiTableColResizer");s.textContent="";a.appendChild(s)}a.classList.add("sapUiTableCellTouchMenu");n.appendChild(a);var f=function(){u._removeColumnHeaderCellMenu(e);n.removeEventListener("focusout",f)};n.addEventListener("focusout",f);return true},_removeColumnHeaderCellMenu:function(e){var n=e&&e.$().find(".sapUiTableCHT .sapUiTableCellTouchMenu");if(n.length){n.parent().find(".sapUiTableCellInner").show();n.remove()}},hasCustomContextMenu:function(e){return e!=null&&e.getContextMenu()!=null}};return u},true);
sap.ui.require.preload({
	"sap/ui/table/manifest.json":'{"_version":"1.21.0","sap.app":{"id":"sap.ui.table","type":"library","embeds":[],"applicationVersion":{"version":"1.102.1"},"title":"Table-like controls, mainly for desktop scenarios.","description":"Table-like controls, mainly for desktop scenarios.","ach":"CA-UI5-TBL","resources":"resources.json","offline":true},"sap.ui":{"technology":"UI5","supportedThemes":["base","sap_hcb"]},"sap.ui5":{"dependencies":{"minUI5Version":"1.102","libs":{"sap.ui.core":{"minVersion":"1.102.1"},"sap.ui.unified":{"minVersion":"1.102.1"}}},"library":{"i18n":{"bundleUrl":"messagebundle.properties","supportedLocales":["","ar","bg","ca","cs","cy","da","de","el","en","en-GB","en-US-sappsd","en-US-saprigi","en-US-saptrc","es","es-MX","et","fi","fr","fr-CA","hi","hr","hu","id","it","iw","ja","kk","ko","lt","lv","ms","nl","no","pl","pt","pt-PT","ro","ru","sh","sk","sl","sv","th","tr","uk","vi","zh-CN","zh-TW"]},"content":{"controls":["sap.ui.table.AnalyticalColumnMenu","sap.ui.table.AnalyticalTable","sap.ui.table.ColumnMenu","sap.ui.table.CreationRow","sap.ui.table.Table","sap.ui.table.TreeTable","sap.ui.table.RowAction"],"elements":["sap.ui.table.AnalyticalColumn","sap.ui.table.Column","sap.ui.table.Row","sap.ui.table.RowActionItem","sap.ui.table.RowSettings","sap.ui.table.rowmodes.RowMode","sap.ui.table.rowmodes.FixedRowMode","sap.ui.table.rowmodes.InteractiveRowMode","sap.ui.table.rowmodes.AutoRowMode","sap.ui.table.plugins.MultiSelectionPlugin","sap.ui.table.plugins.SelectionPlugin"],"types":["sap.ui.table.NavigationMode","sap.ui.table.RowActionType","sap.ui.table.SelectionBehavior","sap.ui.table.SelectionMode","sap.ui.table.SortOrder","sap.ui.table.VisibleRowCountMode","sap.ui.table.TreeAutoExpandMode"],"interfaces":[]}}}}'
});
