/*
 * ! SAPUI5
 * (c) Copyright 2009-2022 SAP SE. All rights reserved.
 */
sap.ui.define(["sap/ui/base/Object","sap/ui/thirdparty/jquery"],function(t,e){"use strict";var n=t.extend("sap.ui.comp.navpopover.Log",{constructor:function(){this.reset()}});n.prototype.reset=function(){this._oLog={semanticObjects:[],intents:[]};return this};n.prototype.createSemanticObjectStructure=function(t){this._oLog.semanticObjects[t]={attributes:{},intents:[]}};n.prototype.addIntent=function(t){this._oLog.intents.push(t);return this};n.prototype.addSemanticObjectAttribute=function(t,e,n){if(!this._oLog.semanticObjects[t]){this.createSemanticObjectStructure(t)}this._oLog.semanticObjects[t].attributes[e]=n;return this};n.prototype.addSemanticObjectIntent=function(t,e){if(!this._oLog.semanticObjects[t]){this.createSemanticObjectStructure(t)}this._oLog.semanticObjects[t].intents.push(e);return this};n.prototype.updateSemanticObjectAttributes=function(t,e,n){if(!this._oLog.semanticObjects[t]){this.createSemanticObjectStructure(t)}var i,r;var o=Object.keys(n);for(var s in n){if(this._oLog.semanticObjects[t].attributes[s]){i=this._oLog.semanticObjects[t].attributes[s].transformations;r=i[i.length-1];if(n[s]!==r["value"]){this._oLog.semanticObjects[t].attributes[s].transformations.push({value:n[s],description:"â„¹ Value of the attribute has been changed in an event handler.",reason:"ðŸ”´ Is changed in the event handler of the event BeforePopoverOpens for the SmartLink control. Please check the implementation if the result is not what you expected."})}}else{this.addSemanticObjectAttribute(t,s,{transformations:[{value:n[s],description:"â„¹ The attribute has been added in an event handler.",reason:"ðŸ”´ Is added in the event handler of the event BeforePopoverOpens for the SmartLink control. Please check the implementation if the result is not what you expected."}]})}}for(var a in e){if(o.indexOf(a)<0&&this._oLog.semanticObjects[t].attributes[a]){this._oLog.semanticObjects[t].attributes[a].transformations.push({value:undefined,description:"â„¹ The attribute has been removed in an event handler.",reason:"ðŸ”´ Is removed in the event handler of the event BeforePopoverOpens for the SmartLink control. Please check the implementation if the result is not what you expected."})}}return this};n.prototype.getFormattedText=function(){var t=function(t){return typeof t==="string"?"'"+t+"'":t};var n=function(e,n){var i={value:"â€¢ "+n+" : ",description:""};e.forEach(function(e,n){i.value=i.value+(n>0?"  âžœ  ":"")+t(e["value"]);i.description=i.description+"â€¦   "+e["description"]+"\n";if(e["reason"]){i.description=i.description+"â€¦   "+e["reason"]+"\n"}});return i};var i=function(t){var e="";t.forEach(function(t){e+="â€¢ '"+t.text+"' : "+t.intent+"\n"});return e};var r=function(t){try{var e=sap.ui.getCore().getConfiguration().getLocale().toString();if(typeof window.Intl!=="undefined"){var n=window.Intl.Collator(e,{numeric:true});t.sort(function(t,e){return n.compare(t,e)})}else{t.sort(function(t,n){return t.localeCompare(n,e,{numeric:true})})}}catch(t){}};var o="";for(var s in this._oLog.semanticObjects){o=o+"\nâ¬¤"+" "+s+"\n";if(e.isEmptyObject(this._oLog.semanticObjects[s].attributes)){o+="â€¦â€¦  ðŸ”´ No semantic attributes available for semantic object "+s+". Please be aware "+"that without semantic attributes no URL parameters can be created.\n"}else{var a=Object.keys(this._oLog.semanticObjects[s].attributes);r(a);for(var c=0;c<a.length;c++){var u=a[c];var h=n(this._oLog.semanticObjects[s].attributes[u].transformations,u);o+=h.value+"\n";o+=h.description}}if(this._oLog.semanticObjects[s].intents.length){o+="\nIntents returned by FLP for semantic object "+s+":\n";o+=i(this._oLog.semanticObjects[s].intents)}}if(this._oLog.intents.length){o+="\nIntents returned by event handler:\n";o+=i(this._oLog.intents)}return o};return n});