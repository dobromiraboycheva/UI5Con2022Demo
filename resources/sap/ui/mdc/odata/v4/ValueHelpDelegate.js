/*
 * ! OpenUI5
 * (c) Copyright 2009-2022 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.define(["../../ValueHelpDelegate","sap/ui/model/FilterType","sap/ui/mdc/odata/v4/TypeUtil","sap/ui/mdc/condition/ConditionConverter"],function(e,n,t,i){"use strict";var r=Object.assign({},e);r.isSearchSupported=function(e,n,t){return!!t.changeParameters};var a=function(e){return new Promise(function(n){var t=false;var i=function(r){if(r.mParameters.detailedReason){return}if(!t){t=true;e.detachEvent("change",i);n(e)}};e.attachEvent("change",i);e.attachEventOnce("dataReceived",i)})};r.executeSearch=function(e,n,t){if(t){n.changeParameters({$search:t})}else{n.changeParameters({$search:undefined})}return a(n)};r.executeFilter=function(e,t,i,r){t.initialize();t.filter(i,n.Application);t.getContexts(0,r);return a(t)};r.checkBindingsPending=function(e,n){var t=[];for(var i=0;i<n.length;i++){var r=n[i];if(r&&r.requestValue){t.push(r.requestValue())}}if(t.length>0){return Promise.all(t)}return null};r.checkListBindingPending=function(e,n,t){if(!n||n.isSuspended()){return false}return n.requestContexts(0,t&&t.length).then(function(e){return e.length===0})};r.getInitialFilterConditions=function(e,n,t){var i={};return i};r.getTypeUtil=function(e){return t};function u(e,n){var t=r.getTypeUtil();var a=t.getTypeConfig(e.type,e.formatOptions,e.constraints);var u=n?i.toString:i.toType;return u(e.condition,a,r.getTypeUtil())}r.externalizeCondition=function(e,n){return u(n,true)};r.internalizeCondition=function(e,n){return u(n,false)};return r});