/*!
 * OpenUI5
 * (c) Copyright 2009-2022 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.define(["sap/ui/mdc/condition/Condition","sap/ui/mdc/enum/BaseType","sap/ui/mdc/enum/ConditionValidated","sap/ui/mdc/util/DateUtil","sap/ui/mdc/condition/FilterOperatorUtil","sap/ui/mdc/condition/Operator","sap/base/util/merge"],function(e,a,t,r,n,i,o){"use strict";var u="yyyy-MM-ddTHH:mm:ssZ";var s="yyyy-MM-dd";var p="HH:mm:ss";var d={toString:function(a,t,r){var i=n.getOperator(a.operator);var u=l(a.values,c(r,t,i)||t,i);var s;var p;var d;if(a.inParameters){s=o({},a.inParameters)}if(a.outParameters){p=o({},a.outParameters)}if(a.payload){d=o({},a.payload)}var v=e.createCondition(a.operator,u,s,p,a.validated,d);return v},toType:function(a,r,i){var u=n.getOperator(a.operator);var s=y(a.values,c(i,r,u)||r);var p;var d;var l;if(a.inParameters){p=o({},a.inParameters)}if(a.outParameters){d=o({},a.outParameters)}if(a.payload){l=o({},a.payload)}var v=e.createCondition(a.operator,s,p,d,a.validated,l);if(v.validated!==t.Validated&&u.validateInput){u.checkValidated(v)}return v},createExternalCondition:function(a,t,r,i,o,u){var s=n.getOperator(a);var p=u.getTypeConfig(o);t=l(t,c(u,p,s)||p,s);var d=e.createCondition(a,t,undefined,undefined,r);return d},getInternalValues:function(e,a,t){var r=n.getOperator(e.operator);var i=t.getTypeConfig(a);var o=y(e.values,c(t,i,r)||i);return o}};function c(e,a,t){if(t&&t.valueTypes[0]&&(t.valueTypes[0]!==i.ValueType.Self&&t.valueTypes[0]!==i.ValueType.Static)){return e.getTypeConfig(t._createLocalType(t.valueTypes[0],a&&a.typeInstance))}}function l(e,a,t){var r=[];for(var n=0;n<e.length;n++){if(!t||t.valueTypes[n]&&t.valueTypes[n]!==i.ValueType.Static){var o=e[n];r.push(v(o,a))}}return r}function v(e,t){var n=t.baseType;var i=t.typeInstance;switch(n){case a.DateTime:return r.typeToString(e,i,u);case a.Date:return r.typeToString(e,i,s);case a.Time:return r.typeToString(e,i,p);case a.Boolean:return e;case a.Numeric:if(typeof e!=="string"&&(i.getMetadata().getName()==="sap.ui.model.odata.type.Int64"||i.getMetadata().getName()==="sap.ui.model.odata.type.Decimal")){return e.toString()}return e;default:return i.formatValue(e,"string")}}function y(e,a){var t=[];for(var r=0;r<e.length;r++){var n=e[r];t.push(m(n,a))}return t}function m(e,t){var n=t.baseType;var i=t.typeInstance;switch(n){case a.DateTime:return r.stringToType(e,i,u);case a.Date:return r.stringToType(e,i,s);case a.Time:return r.stringToType(e,i,p);case a.Boolean:return e;case a.Numeric:if(typeof e!=="string"&&(i.getMetadata().getName()==="sap.ui.model.odata.type.Int64"||i.getMetadata().getName()==="sap.ui.model.odata.type.Decimal")){return e.toString()}return e;default:return i.parseValue(e,"string")}}return d},true);