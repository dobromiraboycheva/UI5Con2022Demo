/*
 * ! OpenUI5
 * (c) Copyright 2009-2022 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.define(["sap/ui/mdc/util/IdentifierUtil","sap/ui/mdc/enum/ConditionValidated","sap/ui/mdc/condition/ConditionConverter","sap/ui/mdc/condition/FilterConverter","sap/base/Log","sap/base/util/merge"],function(e,t,i,r,n,o){"use strict";var a={getPropertyByKey:function(t,i){var r=null;t.some(function(t){if(e.getPropertyPath(t)===i){r=t}return r!=null});if(!r){t.some(function(t){if(e.getPropertyKey(t)===i){r=t}return r!=null})}return r},getConditionsMap:function(e,i){var r,o,a={};if(!e||!e.isA("sap.ui.mdc.FilterBar")){n.error("instance of sap.ui.mdc.FilterBar expected");return a}var s=e.getInternalConditions();for(var u in s){if(i.indexOf(u)>=0){r=[];if(s[u]){for(var p=0;p<s[u].length;p++){o={};o.operator=s[u][p].operator;if(o.operator==="EQ"&&s[u][p].validated===t.Validated){o.values=[s[u][p].values[0]]}else{o.values=s[u][p].values}r.push(o)}a[u]=r}}}return a},getFilterInfo:function(e,t,s,u){var p={};u=u?u:[];var f,l,c={},d;var y={};if(s&&s.length>0){for(l in t){if(u.indexOf(l)<0){var v=a.getPropertyByKey(s,l);if(v){y[l]={type:v.typeConfig.typeInstance,caseSensitive:v.caseSensitive,baseType:v.typeConfig.baseType};c[l]=[];for(f=0;f<t[l].length;f++){d=o({},t[l][f]);c[l].push(i.toType(d,v.typeConfig,e.getTypeUtil?e.getTypeUtil():e))}}else{n.error("no such property: "+l)}}}if(Object.keys(c).length>0){p.filters=r.createFilters(c,y)}}return p}};return a});