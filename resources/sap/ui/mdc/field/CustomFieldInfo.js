/*
 * ! OpenUI5
 * (c) Copyright 2009-2022 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.define(["sap/ui/mdc/field/FieldInfoBase","sap/ui/core/Control","sap/ui/core/InvisibleText","sap/ui/base/ManagedObjectObserver"],function(e,t,o,i){"use strict";var n=e.extend("sap.ui.mdc.field.CustomFieldInfo",{metadata:{library:"sap.ui.mdc",properties:{},aggregations:{content:{type:"sap.ui.core.Control",multiple:false}},defaultAggregation:"content"}});n._oBox=undefined;n.prototype.init=function(){e.prototype.init.apply(this,arguments);this._oObserver=new i(r.bind(this));this._oObserver.observe(this,{aggregations:["content"]})};n.prototype.exit=function(){e.prototype.exit.apply(this,arguments);if(this._oMyBox){this._oMyBox.destroy();this._oMyBox=undefined}};n.prototype.isTriggerable=function(){return Promise.resolve(!!this.getAggregation("content"))};n.prototype.getTriggerHref=function(){return Promise.resolve(null)};n.prototype.getDirectLinkHrefAndTarget=function(){return Promise.resolve(null)};n.prototype.getContent=function(){if(!n._oBox){n._oBox=t.extend("sap.ui.mdc.field.CustomFieldInfoBox",{metadata:{},renderer:function(e,t){var o=t._oInfo.getAggregation("content");e.write("<div");e.writeControlData(t);e.write(">");if(o){e.renderControl(o)}e.write("</div>")}})}if(!this._oMyBox||this._oMyBox._bIsBeingDestroyed){this._oMyBox=new n._oBox(this.getId()+"-box");this._oMyBox._oInfo=this}return Promise.resolve(this._oMyBox)};function r(e){if(e.object==this&&!this._bIsBeingDestroyed){if(e.name=="content"){this.fireDataUpdate()}}}return n});