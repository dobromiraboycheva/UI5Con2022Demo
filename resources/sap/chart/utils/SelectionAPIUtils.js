/*
 * SAPUI5
 * (c) Copyright 2009-2022 SAP SE. All rights reserved.
 */
sap.ui.define(["sap/ui/thirdparty/jquery"],function(e){"use strict";function t(e){return e.reduce(function(e,t){e[t]=true;return e},{})}function n(e,n){var r=t(e);function i(e){return n.reduce(function(t,n){if(e.hasOwnProperty(n)){t[n]=e[n]}return t},{})}return function(e,t){return e.filter(function(e){return r[e]}).map(function(e){var n=i(t);n[e]="*";return{data:n}})}}function r(t){var n={data:{}},r=t.measures,i=t.dimensions;if(r){n.data.measureNames=r instanceof Array?{in:r}:r}e.each(i||{},function(e,t){n.data[e]=t instanceof Array?{in:t}:t});return n}function i(e){var t=e.data;return Object.keys(t).reduce(function(e,n){var r=t[n];if(r.in&&r.in instanceof Array){r=r.in}if(n==="measureNames"){e.measures=r}else if(!e.dimensions){e.dimensions={};e.dimensions[n]=r}else{e.dimensions[n]=r}return e},{})}function a(e,t,r,i){var a=n(e,t);return i.reduce(function(e,t){var n=r.getContexts(t.index,1);if(n.length>0){e=e.concat(a(t.measures,n[0].getObject()))}return e},[])}function u(e,t){return Object.keys(e).filter(function(e){return t.indexOf(e)!==-1})}function s(t,n,r){if(t){var i,a;for(a in t){if(t.hasOwnProperty(a)&&r.data[a]){var u=t[a];i=r.data[u.timeAxis]<u.projectedValueStartTime?u.projected:u.actual}}if(i){r.measures=r.measures.filter(function(e){return e!==i});if(r.dataName){r.dataName=Object.keys(r.dataName).reduce(function(e,t,i){if(n.indexOf(t)!==-1){e[t]=r.dataName[t]}return e},{});if(e.isEmptyObject(r.dataName)){delete r.dataName}}}else{var s=[];for(var f in t){if(t.hasOwnProperty(f)){a=t[f];s.push(a.actual);s.push(a.projected)}}r.measures=r.measures.filter(function(e){return s.indexOf(e)===-1})}}}return{makeLookUp:t,toVizCtx:n,toVizCSCtx:r,fromVizCSCtx:i,buildSelectionVizCtx:a,filterVisibleMsr:u,filterSemMsr:s,match:function(e,t,n){return Object.keys(e).every(function(r){if(n.indexOf(r)!==-1){return t.hasOwnProperty(r)}else{return e[r]===t[r]}})}}});