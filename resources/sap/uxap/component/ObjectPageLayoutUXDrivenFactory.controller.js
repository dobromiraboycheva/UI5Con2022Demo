/*!
 * OpenUI5
 * (c) Copyright 2009-2022 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.define(["sap/ui/model/BindingMode","sap/ui/model/Context","sap/ui/base/ManagedObject","sap/ui/core/mvc/Controller","sap/base/Log","sap/base/util/ObjectPath","sap/ui/thirdparty/jquery"],function(e,t,r,a,o,n,i){"use strict";return a.extend("sap.uxap.component.ObjectPageLayoutUXDrivenFactory",{connectToComponent:function(r){var a=i.isEmptyObject(r.getData());r.setDefaultBindingMode(e.OneWay);var n=i.proxy(function(){if(a){r.detachRequestCompleted(n)}var e=new t(r,"/headerTitle"),i=this.getView().byId("ObjectPageLayout");if(e.getProperty("")){try{this._oHeader=this.controlFactory(i.getId(),e);i.setHeaderTitle(this._oHeader)}catch(e){o.error("ObjectPageLayoutFactory :: error in header creation from config: "+e)}}},this);if(a){r.attachRequestCompleted(n)}else{n()}},controlFactory:function(e,t){var a=t.getProperty(""),n,c,s;try{c=sap.ui.requireSync(a.Type.replace(/\./g,"/"));s=c.getMetadata();i.each(s._mAllEvents,i.proxy(function(e,t){if(typeof a[e]=="string"){a[e]=this.convertEventHandler(a[e])}},this));n=r.create(a);i.each(s._mAllProperties,i.proxy(function(e,r){if(a[e]){n.bindProperty(e,"objectPageLayoutMetadata>"+t.getPath()+"/"+e)}},this))}catch(e){o.error("ObjectPageLayoutFactory :: error in control creation from config: "+e)}return n},convertEventHandler:function(e){var t=window,r=e.split(".");try{i.each(r,function(e,r){t=t[r]})}catch(r){o.error("ObjectPageLayoutFactory :: undefined event handler: "+e+". Did you forget to require its static class?");t=undefined}return t}})});